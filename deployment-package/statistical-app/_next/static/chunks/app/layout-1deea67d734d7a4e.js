(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7177],{7220:(e,s,t)=>{"use strict";t.d(s,{M5:()=>f,SQ:()=>o,_2:()=>c,lp:()=>m,lv:()=>u,mB:()=>x,nV:()=>h,rI:()=>i,ty:()=>d});var a=t(95155);t(12115);var l=t(37738),n=t(27937),r=t(25016);function i(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"dropdown-menu",...s})}function d(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"dropdown-menu-trigger",...s})}function o(e){let{className:s,sideOffset:t=4,...n}=e;return(0,a.jsx)(l.ZL,{children:(0,a.jsx)(l.UC,{"data-slot":"dropdown-menu-content",sideOffset:t,className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",s),...n})})}function c(e){let{className:s,inset:t,variant:n="default",...i}=e;return(0,a.jsx)(l.q7,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":n,className:(0,r.cn)("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i})}function m(e){let{className:s,inset:t,...n}=e;return(0,a.jsx)(l.JU,{"data-slot":"dropdown-menu-label","data-inset":t,className:(0,r.cn)("px-2 py-1.5 text-sm font-medium data-[inset]:pl-8",s),...n})}function x(e){let{className:s,...t}=e;return(0,a.jsx)(l.wv,{"data-slot":"dropdown-menu-separator",className:(0,r.cn)("bg-border -mx-1 my-1 h-px",s),...t})}function u(e){let{...s}=e;return(0,a.jsx)(l.Pb,{"data-slot":"dropdown-menu-sub",...s})}function h(e){let{className:s,inset:t,children:i,...d}=e;return(0,a.jsxs)(l.ZP,{"data-slot":"dropdown-menu-sub-trigger","data-inset":t,className:(0,r.cn)("focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground flex cursor-default items-center rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[inset]:pl-8",s),...d,children:[i,(0,a.jsx)(n.A,{className:"ml-auto size-4"})]})}function f(e){let{className:s,...t}=e;return(0,a.jsx)(l.G5,{"data-slot":"dropdown-menu-sub-content",className:(0,r.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border p-1 shadow-lg",s),...t})}},13072:(e,s,t)=>{"use strict";t.d(s,{Header:()=>u});var a=t(95155),l=t(97003),n=t(5937),r=t(20908),i=t(15870),d=t(52619),o=t.n(d),c=t(20063),m=t(12115);let x=(0,m.memo)(e=>{let{href:s,icon:t,label:n,isActive:r}=e;return(0,a.jsx)(o(),{href:s,children:(0,a.jsx)(l.$,{variant:r?"default":"ghost",size:"icon",className:"h-10 w-10","aria-label":n,children:(0,a.jsx)(t,{className:"h-5 w-5"})})})});x.displayName="IconButton";let u=(0,m.memo)(()=>{let e=(0,c.usePathname)();return(0,a.jsx)("header",{className:"sticky top-0 z-50 bg-background border-b",children:(0,a.jsx)("div",{className:"max-w-5xl mx-auto px-4",children:(0,a.jsxs)("div",{className:"flex items-center justify-between h-16",children:[(0,a.jsx)(o(),{href:"/",className:"text-xl font-bold",children:"NIFS 통계 분석 플랫폼"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x,{href:"/chatbot",icon:n.A,label:"AI 챗봇",isActive:"/chatbot"===e}),(0,a.jsx)(x,{href:"/help",icon:r.A,label:"도움말",isActive:"/help"===e}),(0,a.jsx)(x,{href:"/settings",icon:i.A,label:"설정",isActive:"/settings"===e})]})]})})})});u.displayName="Header"},22767:(e,s,t)=>{"use strict";t.d(s,{FloatingChatbot:()=>O});var a=t(95155),l=t(12115),n=t(20063),r=t(97003),i=t(67812),d=t(5937),o=t(15870),c=t(7125),m=t(65229),x=t(66332),u=t(15216),h=t(34217),f=t(58808),p=t(92397);t(76105);var g=t(83209),v=t(67001),j=t(6191),b=t(39347),N=t(9540),w=t(12108),y=t(24033),k=t(35299),C=t(78874),A=t(18085),S=t(36225),z=t(37022),E=t(25016),$=t(7220),G=t(20017),F=t(9058),P=t(21873),_=t(21190),B=t(26754),D=t(71360);function I(e){let{isFavorite:s,onToggleFavorite:t,onRename:l,onMove:n,onDelete:i,className:d=""}=e;return(0,a.jsxs)($.rI,{children:[(0,a.jsx)($.ty,{asChild:!0,children:(0,a.jsx)(r.$,{variant:"ghost",size:"icon",className:(0,E.cn)("h-6 w-6 flex-shrink-0",d),title:"옵션",children:(0,a.jsx)(G.A,{className:"h-4 w-4"})})}),(0,a.jsxs)($.SQ,{align:"end",onClick:e=>e.stopPropagation(),children:[(0,a.jsx)($._2,{onClick:t,children:s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(F.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"즐겨찾기 해제"})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(P.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"즐겨찾기 추가"})]})}),(0,a.jsxs)($._2,{onClick:l,children:[(0,a.jsx)(_.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"이름 변경"})]}),(0,a.jsxs)($._2,{onClick:n,children:[(0,a.jsx)(B.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"프로젝트 이동"})]}),(0,a.jsxs)($._2,{onClick:i,className:"text-destructive",children:[(0,a.jsx)(D.A,{className:"h-4 w-4 mr-2"}),(0,a.jsx)("span",{children:"삭제"})]})]})]})}function L(e){let{method:s,className:t="",onNewMessage:n}=e,[d,o]=(0,l.useState)(""),[c,$]=(0,l.useState)(!1),[G,F]=(0,l.useState)(null),[P,_]=(0,l.useState)([]),[B,D]=(0,l.useState)(null),[L,M]=(0,l.useState)(!1),[q,H]=(0,l.useState)([]),[O,T]=(0,l.useState)(null),[R,W]=(0,l.useState)(!1);(0,l.useEffect)(()=>{let e=z.G.loadSessions();if(H(e),O||0!==e.length)!O&&e.length>0&&T(e[0].id);else{let e=z.G.createNewSession();T(e.id),H([e])}},[O]);let Z=(0,l.useCallback)(()=>{let e=z.G.createNewSession();T(e.id),H(s=>[e,...s]),_([])},[]),K=(0,l.useCallback)(e=>{let s=z.G.loadSession(e);if(s){T(e);let t=[];for(let e=0;e<s.messages.length;e+=2){let a=s.messages[e],l=s.messages[e+1];a&&l&&"user"===a.role&&t.push({query:a.content,response:{answer:l.content,sources:l.sources||[],model:l.model||{provider:"unknown"}},timestamp:a.timestamp})}_(t),M(!1)}},[]),Q=(0,l.useCallback)((e,s)=>{s.stopPropagation(),z.G.deleteSession(e),H(s=>s.filter(s=>s.id!==e)),O===e&&Z()},[O,Z]),U=(0,l.useCallback)((e,s)=>{s.stopPropagation(),z.G.toggleFavorite(e),H(s=>s.map(s=>s.id===e?{...s,isFavorite:!s.isFavorite}:s))},[]),J=(0,l.useCallback)(async()=>{if(d.trim()&&O){$(!0),F(null);try{let e=await (0,S.H0)({query:d.trim(),method:s}),t={query:d.trim(),response:e,timestamp:Date.now()};_(e=>[...e,t]),z.G.addMessage(O,{id:"".concat(Date.now(),"-user"),role:"user",content:d.trim(),timestamp:Date.now()}),z.G.addMessage(O,{id:"".concat(Date.now(),"-assistant"),role:"assistant",content:e.answer,timestamp:Date.now()}),H(z.G.loadSessions()),n&&n(),o("")}catch(e){F(e instanceof Error?e.message:"알 수 없는 오류")}finally{$(!1)}}},[d,s,O,n]),V=(0,l.useCallback)(e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),J())},[J]),X=R?q.filter(e=>e.isFavorite):q;return(0,a.jsxs)("div",{className:(0,E.cn)("flex h-full",t),children:[L&&(0,a.jsxs)("div",{className:"w-64 border-r flex flex-col bg-muted/30",children:[(0,a.jsxs)("div",{className:"p-3 border-b space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("h3",{className:"font-semibold text-sm",children:"대화 기록"}),(0,a.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:()=>M(!1),children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)(r.$,{size:"sm",variant:"default",className:"w-full",onClick:Z,children:[(0,a.jsx)(j.A,{className:"h-4 w-4 mr-2"}),"새 대화"]}),(0,a.jsxs)(r.$,{size:"sm",variant:R?"default":"outline",className:"w-full",onClick:()=>W(!R),children:[(0,a.jsx)(b.A,{className:(0,E.cn)("h-4 w-4 mr-2",R&&"fill-current")}),"즐겨찾기"]})]}),(0,a.jsx)("div",{className:"flex-1 overflow-y-auto p-2 space-y-1",children:0===X.length?(0,a.jsx)("div",{className:"text-center text-sm text-muted-foreground py-8",children:R?"즐겨찾기한 대화가 없습니다":"대화 기록이 없습니다"}):X.map(e=>(0,a.jsx)("div",{onClick:()=>K(e.id),className:(0,E.cn)("group relative p-2 rounded cursor-pointer hover:bg-muted transition-colors",O===e.id&&"bg-muted"),children:(0,a.jsxs)("div",{className:"flex items-start justify-between gap-2 min-w-0",children:[(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("div",{className:"text-sm font-medium truncate",children:e.title}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:new Date(e.updatedAt).toLocaleDateString("ko-KR",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,a.jsx)(I,{isFavorite:e.isFavorite,onToggleFavorite:()=>{U(e.id,new MouseEvent("click"))},onRename:()=>{},onMove:()=>{},onDelete:()=>{Q(e.id,new MouseEvent("click"))},className:(0,E.cn)("opacity-0 group-hover:opacity-100 transition-opacity pointer-events-auto")})]})},e.id))})]}),(0,a.jsx)("div",{className:"flex-1 flex flex-col min-w-0",children:(0,a.jsxs)(g.Zp,{className:"flex flex-col h-full border-0 rounded-none",children:[(0,a.jsxs)(g.aR,{className:"pb-3",children:[(0,a.jsxs)(g.ZB,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-8 w-8",onClick:()=>M(!L),children:(0,a.jsx)(N.A,{className:"h-4 w-4"})}),"\uD83D\uDCAC RAG 도우미",s&&(0,a.jsx)(i.E,{variant:"outline",className:"text-xs",children:s})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"통계 분석에 대해 궁금한 점을 물어보세요"})]}),(0,a.jsxs)(g.Wu,{className:"flex-1 flex flex-col gap-3 overflow-hidden",children:[(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto space-y-3",children:[0===P.length?(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground text-sm",children:[(0,a.jsx)("p",{children:"질문을 입력해주세요."}),(0,a.jsx)("p",{className:"text-xs mt-2",children:'예: "t-test의 가정은 무엇인가요?"'})]}):P.map((e,s)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"bg-muted/50 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"질문:"}),(0,a.jsx)("p",{className:"text-sm mt-1",children:e.query})]}),(0,a.jsxs)("div",{className:"bg-primary/5 rounded-lg p-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"답변:"}),(0,a.jsx)("div",{className:"prose prose-sm max-w-none dark:prose-invert",children:(0,a.jsx)(x.oz,{remarkPlugins:[u.A,h.A,f.A],rehypePlugins:[p.A],children:e.response.answer})}),e.response.sources&&e.response.sources.length>0&&(0,a.jsxs)("div",{className:"mt-3 pt-3 border-t",children:[(0,a.jsxs)("button",{onClick:()=>D(B===s?null:s),className:"flex items-center gap-1 text-xs text-muted-foreground hover:text-foreground",children:[(0,a.jsxs)("span",{children:["참조 문서 (",e.response.sources.length,"개)"]}),B===s?(0,a.jsx)(w.A,{className:"h-3 w-3"}):(0,a.jsx)(y.A,{className:"h-3 w-3"})]}),B===s&&(0,a.jsx)("div",{className:"mt-2 space-y-1",children:e.response.sources.map((e,s)=>(0,a.jsxs)("div",{className:"text-xs bg-muted/50 rounded p-2",children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsx)("div",{className:"text-muted-foreground mt-1 line-clamp-2",children:e.content}),(0,a.jsxs)("div",{className:"text-muted-foreground mt-1",children:["관련도: ",(100*e.score).toFixed(0),"%"]})]},s))})]})]})]},s)),c&&(0,a.jsxs)("div",{className:"flex items-center gap-2 text-muted-foreground text-sm",children:[(0,a.jsx)(k.A,{className:"h-4 w-4 animate-spin"}),(0,a.jsx)("span",{children:"생각 중..."})]}),G&&(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2 text-destructive text-sm",children:[(0,a.jsx)(C.A,{className:"h-4 w-4 flex-shrink-0 mt-0.5"}),(0,a.jsx)("span",{className:"flex-1",children:G})]}),G.includes("not found")&&(0,a.jsx)("div",{className:"flex gap-2 ml-6",children:(0,a.jsx)("a",{href:"/chatbot?tab=settings",className:"text-primary hover:underline text-xs font-medium",children:"→ 설정에서 모델 선택"})})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(v.T,{value:d,onChange:e=>o(e.target.value),onKeyDown:V,placeholder:"질문을 입력하세요.",rows:3,disabled:c,className:"resize-none"}),(0,a.jsx)(r.$,{onClick:J,disabled:c||!d.trim(),className:"w-full",size:"sm",children:c?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(k.A,{className:"mr-2 h-4 w-4 animate-spin"}),"생각 중..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"전송"]})})]})]})]})})]})}var M=t(59427),q=t(37494);function H(e){let{isOpen:s,onClose:t}=e,[n,i]=(0,l.useState)({floatingButtonEnabled:!0,theme:"system"}),[d,c]=(0,l.useState)(!1);(0,l.useEffect)(()=>{s&&(i(z.G.loadSettings()),c(!1))},[s]);let x=(0,l.useCallback)(()=>{i(e=>({...e,floatingButtonEnabled:!e.floatingButtonEnabled})),c(!0)},[]),u=(0,l.useCallback)(e=>{i(s=>({...s,theme:e})),c(!0)},[]),h=(0,l.useCallback)(()=>{z.G.saveSettings(n),window.dispatchEvent(new Event("chatbot-settings-changed")),c(!1),t()},[n,t]),f=(0,l.useCallback)(()=>{c(!1),t()},[t]);return s?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/30",onClick:f,"aria-hidden":"true"}),(0,a.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"settings-title",className:(0,E.cn)("fixed z-50 bg-background border rounded-lg shadow-2xl","w-full max-w-sm mx-auto","top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2","max-md:max-w-[90vw] max-md:w-[90vw]","flex flex-col"),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-5 w-5"}),(0,a.jsx)("h3",{id:"settings-title",className:"font-semibold text-lg",children:"설정"})]}),(0,a.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-7 w-7",onClick:f,"aria-label":"닫기",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]}),(0,a.jsxs)("div",{className:"flex-1 overflow-y-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"플로팅 버튼"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"화면 우하단의 AI 도우미 버튼을 표시할지 선택합니다."}),(0,a.jsx)(r.$,{variant:n.floatingButtonEnabled?"default":"outline",className:"w-full justify-start",onClick:x,children:(0,a.jsxs)("div",{className:"flex items-center gap-3 w-full",children:[(0,a.jsx)("div",{className:(0,E.cn)("h-4 w-4 rounded border-2 flex items-center justify-center flex-shrink-0 transition-colors",n.floatingButtonEnabled?"bg-primary border-primary":"border-muted-foreground"),children:n.floatingButtonEnabled&&(0,a.jsx)("div",{className:"h-2 w-2 bg-primary-foreground rounded-full"})}),(0,a.jsxs)("span",{className:"flex-1 text-left",children:["플로팅 버튼 ",n.floatingButtonEnabled?"활성화":"비활성화"]})]})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"테마"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-3",children:"챗봇의 색상 테마를 선택합니다."}),(0,a.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,a.jsxs)(r.$,{variant:"light"===n.theme?"default":"outline",className:"h-auto flex flex-col gap-2 py-3",onClick:()=>u("light"),children:[(0,a.jsx)(M.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"라이트"})]}),(0,a.jsxs)(r.$,{variant:"dark"===n.theme?"default":"outline",className:"h-auto flex flex-col gap-2 py-3",onClick:()=>u("dark"),children:[(0,a.jsx)(q.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"다크"})]}),(0,a.jsxs)(r.$,{variant:"system"===n.theme?"default":"outline",className:"h-auto flex flex-col gap-2 py-3",onClick:()=>u("system"),children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"text-xs",children:"시스템"})]})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-2 p-6 border-t bg-muted/30",children:[(0,a.jsx)(r.$,{variant:"outline",className:"flex-1",onClick:f,children:"취소"}),(0,a.jsx)(r.$,{className:"flex-1",onClick:h,disabled:!d,children:"저장"})]})]})]}):null}function O(){let e=(0,n.usePathname)(),[s,t]=(0,l.useState)(!1),[x,u]=(0,l.useState)(!1),[h,f]=(0,l.useState)(!0),[p,g]=(0,l.useState)(!1),[v,j]=(0,l.useState)(!1);(0,l.useEffect)(()=>{f(z.G.loadSettings().floatingButtonEnabled)},[]),(0,l.useEffect)(()=>{let e=()=>{f(z.G.loadSettings().floatingButtonEnabled)};return window.addEventListener("chatbot-settings-changed",e),()=>window.removeEventListener("chatbot-settings-changed",e)},[]),(0,l.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s&&t(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[s]);let b="/chatbot"===e||e.startsWith("/chatbot/"),N=(0,l.useCallback)(()=>{t(e=>!e),u(!1),g(!1)},[]),w=(0,l.useCallback)(()=>{t(!1),u(!1)},[]),y=(0,l.useCallback)(()=>{let e=z.G.loadSettings();e.floatingButtonEnabled=!1,z.G.saveSettings(e),f(!1),t(!1)},[]),k=(0,l.useCallback)(()=>{u(e=>!e)},[]),C=(0,l.useCallback)(()=>{j(!0)},[]);return!h||b?null:(0,a.jsxs)(a.Fragment,{children:[!s&&(0,a.jsx)(r.$,{onClick:N,className:(0,E.cn)("fixed z-40 h-14 w-14 rounded-full shadow-lg","bottom-6 right-6","max-md:bottom-4 max-md:right-4","hover:scale-110 transition-transform"),size:"icon","aria-label":"AI 도우미 열기",children:(0,a.jsx)(d.A,{className:"h-6 w-6"})}),s&&(0,a.jsx)("div",{className:"fixed inset-0 z-40 bg-black/20",onClick:()=>t(!1),"aria-hidden":"true"}),s&&(0,a.jsxs)("div",{role:"dialog","aria-modal":"true","aria-labelledby":"chatbot-title",className:(0,E.cn)("fixed z-50 shadow-2xl border-2 bg-background rounded-lg","bottom-24 right-6","max-md:inset-0 max-md:w-full max-md:h-full max-md:rounded-none max-md:bottom-0 max-md:right-0","flex flex-col",x?"h-auto":"w-[400px] h-[600px] overflow-hidden",x?"":"resizable-container"),style:x?void 0:{minWidth:"400px",minHeight:"400px",maxWidth:"90vw",maxHeight:"90vh",overflow:"hidden"},children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border-b bg-primary text-primary-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-5 w-5"}),(0,a.jsx)("h3",{id:"chatbot-title",className:"font-semibold",children:"AI 도우미"}),(0,a.jsx)(i.E,{variant:"secondary",className:"text-xs",children:"Beta"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-7 w-7 text-primary-foreground hover:bg-primary-foreground/20",onClick:C,"aria-label":"설정",children:(0,a.jsx)(o.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-7 w-7 text-primary-foreground hover:bg-primary-foreground/20",onClick:k,"aria-label":"최소화",children:(0,a.jsx)(c.A,{className:"h-4 w-4"})}),(0,a.jsx)(r.$,{size:"icon",variant:"ghost",className:"h-7 w-7 text-primary-foreground hover:bg-primary-foreground/20",onClick:w,"aria-label":"닫기",children:(0,a.jsx)(m.A,{className:"h-4 w-4"})})]})]}),!x&&(0,a.jsx)("div",{className:"flex-1 overflow-hidden",children:(0,a.jsx)(L,{className:"h-full",onNewMessage:()=>g(!0)})}),!x&&(0,a.jsxs)("div",{className:"p-3 border-t bg-muted/30 space-y-2",children:[(0,a.jsxs)("p",{className:"text-xs text-muted-foreground text-center",children:["더 많은 기능을 원하시면"," ",(0,a.jsx)("a",{href:"/chatbot",className:"text-primary hover:underline font-medium",children:"전용 페이지"}),"를 이용하세요"]}),(0,a.jsx)(r.$,{variant:"ghost",size:"sm",className:"w-full text-xs text-muted-foreground hover:text-destructive",onClick:y,children:"플로팅 버튼 숨기기 (설정에서 다시 켤 수 있습니다)"})]})]}),!s&&p&&(0,a.jsx)("div",{className:(0,E.cn)("fixed z-50 h-5 w-5 rounded-full bg-destructive","bottom-[72px] right-[72px]","max-md:bottom-[56px] max-md:right-[56px]","animate-pulse"),role:"status","aria-live":"polite","aria-label":"새 메시지 있음",children:(0,a.jsx)("span",{className:"text-xs text-destructive-foreground font-bold flex items-center justify-center h-full",children:"1"})}),(0,a.jsx)(H,{isOpen:v,onClose:()=>j(!1)})]})}},41290:()=>{},41784:(e,s,t)=>{"use strict";t.d(s,{ClientProviders:()=>n});var a=t(95155),l=t(5379);function n(e){let{children:s}=e;return(0,a.jsx)(l.N,{attribute:"class",defaultTheme:"system",enableSystem:!0,disableTransitionOnChange:!0,children:s})}},59310:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,41290,23)),Promise.resolve().then(t.bind(t,22767)),Promise.resolve().then(t.bind(t,13072)),Promise.resolve().then(t.bind(t,41784)),Promise.resolve().then(t.bind(t,70240)),Promise.resolve().then(t.t.bind(t,95003,23))},70240:(e,s,t)=>{"use strict";t.d(s,{Toaster:()=>r});var a=t(95155),l=t(5379),n=t(18720);let r=e=>{let{...s}=e,{theme:t="system"}=(0,l.D)();return(0,a.jsx)(n.l$,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"},...s})}}},e=>{e.O(0,[1741,2682,4211,7330,4909,4120,660,6093,8720,7055,7738,9984,8669,5568,7022,8441,1255,7358],()=>e(e.s=59310)),_N_E=e.O()}]);