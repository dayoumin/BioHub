(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3284],{36407:(e,s,i)=>{Promise.resolve().then(i.bind(i,82300))},39624:(e,s,i)=>{"use strict";i.d(s,{pi:()=>d,tx:()=>l});var t=i(95155);i(12115);var a=i(67812),n=i(50388),r=i(25016);function l(e){let{value:s,alpha:i=.05,showLabel:l=!0,size:d="default",className:c}=e;if(null==s)return(0,t.jsx)(a.E,{variant:"outline",className:(0,r.cn)("text-muted-foreground",c),children:"N/A"});let x=(0,n.Zp)(s,i),o=(0,n.td)(s),m=()=>s<.001?"매우 강한 통계적 유의성 (p < 0.001)":s<.01?"강한 통계적 유의성 (p < 0.01)":s<.05?"통계적으로 유의함 (p < 0.05)":s<.1?"경계선상의 유의성 (0.05 < p < 0.10)":"통계적으로 유의하지 않음 (p ≥ 0.10)";return(0,t.jsxs)("div",{className:"inline-flex items-center group relative",children:[(0,t.jsxs)(a.E,{variant:s<.001||s<.01?"default":s<.05?"secondary":"outline",className:(0,r.cn)({sm:"text-xs px-2 py-0.5",default:"text-sm",lg:"text-base px-3 py-1"}[d],s<.001?"bg-green-500 text-white border-green-600":s<.01?"bg-green-100 text-green-700 border-green-300":s<.05?"bg-yellow-100 text-yellow-700 border-yellow-300":"bg-gray-100 text-gray-600 border-gray-300",x&&"font-semibold","transition-all duration-200 hover:scale-105",c),role:"status","aria-label":"p-value: ".concat(o,", ").concat(m()),children:[s<.001&&(0,t.jsx)("span",{className:"inline-flex w-2 h-2 bg-white rounded-full mr-1 animate-pulse"}),l&&"p = ",o]}),(0,t.jsxs)("div",{className:"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 px-3 py-1.5 bg-gray-900 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 transition-opacity duration-200 pointer-events-none whitespace-nowrap z-10",children:[m(),(0,t.jsx)("div",{className:"absolute top-full left-1/2 transform -translate-x-1/2 -mt-1",children:(0,t.jsx)("div",{className:"border-4 border-transparent border-t-gray-900"})})]})]})}function d(e){let{value:s,alpha:i=.05,showLabel:a=!0,showSignificance:d=!0,significanceSymbol:c=!0,size:x="default",className:o}=e;if(null==s)return(0,t.jsx)(l,{value:s,size:x,className:o});let m=(0,n.Zp)(s,i);return(0,t.jsxs)("div",{className:"inline-flex items-center gap-2",children:[(0,t.jsx)(l,{value:s,alpha:i,showLabel:a,size:x,className:o}),d&&(0,t.jsx)("span",{className:(0,r.cn)("text-sm font-medium transition-colors duration-200",m?"text-green-600":"text-gray-400"),children:c?(0,t.jsx)("span",{className:"text-lg","aria-label":m?"유의함":"유의하지 않음",children:m?"✅":"❌"}):(0,t.jsx)("span",{className:(0,r.cn)("px-2 py-0.5 rounded-md",m?"bg-green-50":"bg-gray-50"),children:m?"유의함":"유의하지 않음"})})]})}},50388:(e,s,i)=>{"use strict";i.d(s,{hP:()=>c,ZV:()=>r,td:()=>l,Ee:()=>d,iW:()=>o,cS:()=>m,Zp:()=>x});let t={STATISTIC:4,P_VALUE:4,PERCENTAGE:2},a={STANDARD:.05},n={SMALL:.2,MEDIUM:.5,LARGE:.8,VERY_LARGE:1.2};function r(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.STATISTIC;return null==e||isNaN(e)?"N/A":e.toFixed(s)}function l(e){return null==e||isNaN(e)?"N/A":e<.001?"< 0.001":r(e,t.P_VALUE)}function d(e){let s=!(arguments.length>1)||void 0===arguments[1]||arguments[1],i=r(100*e,t.PERCENTAGE);return s?"".concat(i,"%"):i}function c(e,s){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.STATISTIC;return null==e||null==s?"[N/A, N/A]":"[".concat(r(e,i),", ").concat(r(s,i),"]")}function x(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a.STANDARD;return e<s}function o(e,s,i,a){let n=Array.isArray(i)?"(".concat(i.join(", "),")"):"(".concat(i,")"),d=l(a),c=r(s,t.STATISTIC);return"".concat(e).concat(n," = ").concat(c,", p = ").concat(d)}function m(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cohen_d",i=Math.abs(e);switch(s){case"cohen_d":if(i<n.SMALL)return"매우 작음";if(i<n.MEDIUM)return"작음";if(i<n.LARGE)return"중간";if(i<n.VERY_LARGE)return"큼";return"매우 큼";case"eta_squared":case"omega_squared":if(i<.01)return"매우 작음";if(i<.06)return"작음";if(i<.14)return"중간";return"큼";case"r":case"phi":case"cramers_v":if(i<.1)return"무시할 수준";if(i<.3)return"작음";if(i<.5)return"중간";return"큼";default:return"해석 불가"}}},82300:(e,s,i)=>{"use strict";i.r(s),i.d(s,{default:()=>L});var t=i(95155),a=i(12115),n=i(41944),r=i(39253),l=i(84594),d=i(37969),c=i(97003),x=i(83209),o=i(67812),m=i(32559),h=i(90923),u=i(96633),j=i(26991),p=i(98128),f=i(68425),v=i(47734),N=i(74595),_=i(33420),g=i(58155),b=i(67485),y=i(96290),w=i(57095),A=i(672),F=i(39624),C=i(80647),R=i(30814),k=i(37107),S=i(23327),E=i(52987),I=i(61362),T=i(52056),M=i(80534);function L(){let{state:e,actions:s}=(0,r.Q)({withUploadedData:!0,withError:!0}),{currentStep:i,uploadedData:L,selectedVariables:Z,results:z,isAnalyzing:D,error:P}=e,[U,W]=(0,a.useState)(""),[X,B]=(0,a.useState)([]),[G,V]=(0,a.useState)(""),[q,K]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=!0;return(async()=>{try{await A.A.initialize(),e&&K(!0)}catch(e){}})(),()=>{e=!1}},[]);let H=(0,a.useMemo)(()=>{if(!L||0===L.data.length)return[];let e=L.data[0];return e&&"object"==typeof e?Object.keys(e).map(s=>({name:s,type:"number"==typeof e[s]?"numeric":"categorical"})):[]},[L]);(0,a.useMemo)(()=>H.filter(e=>"numeric"===e.type).map(e=>e.name),[H]),(0,a.useMemo)(()=>H.filter(e=>"categorical"===e.type).map(e=>e.name),[H]);let O=(0,a.useCallback)((e,i)=>{let t={data:i,fileName:e.name,columns:i.length>0&&"object"==typeof i[0]&&null!==i[0]?Object.keys(i[0]):[]};s.setUploadedData&&(s.setUploadedData(t),s.setCurrentStep&&s.setCurrentStep(1))},[s]),J=(0,a.useMemo)(()=>U&&X.length>0,[U,X]),$=(0,a.useCallback)(async()=>{if(J&&L&&q){s.startAnalysis();try{if(!s.completeAnalysis)return;s.completeAnalysis({model_info:{model_type:"Poisson GLM",link_function:"log",distribution:"Poisson",n_observations:200,n_predictors:3,convergence:!0,iterations:6,log_likelihood:-245.67},coefficients:[{variable:"intercept",coefficient:1.245,std_error:.158,z_value:7.88,p_value:0,ci_lower:.935,ci_upper:1.555,exp_coefficient:3.472,irr_ci_lower:2.547,irr_ci_upper:4.737},{variable:"age",coefficient:.025,std_error:.008,z_value:3.12,p_value:.002,ci_lower:.009,ci_upper:.041,exp_coefficient:1.025,irr_ci_lower:1.009,irr_ci_upper:1.042},{variable:"treatment",coefficient:-.452,std_error:.142,z_value:-3.18,p_value:.001,ci_lower:-.73,ci_upper:-.174,exp_coefficient:.636,irr_ci_lower:.482,irr_ci_upper:.84},{variable:"exposure_time",coefficient:.083,std_error:.025,z_value:3.32,p_value:.001,ci_lower:.034,ci_upper:.132,exp_coefficient:1.087,irr_ci_lower:1.035,irr_ci_upper:1.141}],model_fit:{deviance:187.45,pearson_chi2:192.33,aic:499.34,bic:512.78,pseudo_r_squared_mcfadden:.134,pseudo_r_squared_deviance:.156,dispersion_parameter:.98},assumptions:{overdispersion:{test_name:"Overdispersion Test",statistic:192.33,p_value:.245,dispersion_ratio:.98,assumption_met:!0},linearity:{test_name:"Link Test",p_value:.634,assumption_met:!0},independence:{durbin_watson:2.15,assumption_met:!0}},predicted_values:[{observation:1,actual_count:3,predicted_count:2.85,residual:.15,pearson_residual:.089,deviance_residual:.091},{observation:2,actual_count:7,predicted_count:6.23,residual:.77,pearson_residual:.309,deviance_residual:.295},{observation:3,actual_count:12,predicted_count:11.67,residual:.33,pearson_residual:.097,deviance_residual:.095}],goodness_of_fit:{pearson_gof:{statistic:192.33,df:196,p_value:.578},deviance_gof:{statistic:187.45,df:196,p_value:.643}},rate_ratios:[{variable:"age",rate_ratio:1.025,ci_lower:1.009,ci_upper:1.042,interpretation:"나이가 1세 증가할 때마다 발생률이 2.5% 증가"},{variable:"treatment",rate_ratio:.636,ci_lower:.482,ci_upper:.84,interpretation:"치료군에서 대조군 대비 발생률이 36.4% 감소"},{variable:"exposure_time",rate_ratio:1.087,ci_lower:1.035,ci_upper:1.141,interpretation:"노출시간이 1시간 증가할 때마다 발생률이 8.7% 증가"}]},2)}catch(e){if(!s.setError)return;s.setError("분석 중 오류가 발생했습니다.")}}},[J,L,q,s]);(0,a.useCallback)(()=>{J&&s.setCurrentStep&&s.setCurrentStep(2)},[J,s]);let Y=(0,a.useCallback)(()=>(0,t.jsx)(n.J,{title:"포아송 회귀분석 소개",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-3",children:"포아송 회귀분석이란?"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:"종속변수가 비음의 정수인 카운트 데이터(count data)를 분석하는 일반화선형모델(GLM)입니다. 포아송 분포를 가정하며 로그 연결함수를 사용하여 발생률(rate)을 모델링합니다."}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,t.jsx)(C.A,{className:"w-4 h-4 mr-2"}),"주요 특징"]}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsx)("li",{children:"• 카운트 데이터 전용"}),(0,t.jsx)("li",{children:"• 포아송 분포 가정"}),(0,t.jsx)("li",{children:"• 로그 연결함수 사용"}),(0,t.jsx)("li",{children:"• 발생률 비(Rate Ratio) 해석"})]})]}),(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,t.jsxs)("h4",{className:"font-medium mb-2 flex items-center",children:[(0,t.jsx)(R.A,{className:"w-4 h-4 mr-2"}),"적용 예시"]}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsx)("li",{children:"• 질병 발생 건수"}),(0,t.jsx)("li",{children:"• 교통사고 발생 횟수"}),(0,t.jsx)("li",{children:"• 고객 방문 횟수"}),(0,t.jsx)("li",{children:"• 결함 발생 개수"})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-3",children:"일반 선형회귀 vs 포아송 회귀"}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"일반 선형회귀"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• 연속형 종속변수"}),(0,t.jsx)("li",{children:"• 정규분포 가정"}),(0,t.jsx)("li",{children:"• 항등 연결함수"}),(0,t.jsx)("li",{children:"• 음수 예측값 가능"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium text-gray-800 mb-2",children:"포아송 회귀"}),(0,t.jsxs)("ul",{className:"text-sm text-gray-600 space-y-1",children:[(0,t.jsx)("li",{children:"• 카운트 종속변수"}),(0,t.jsx)("li",{children:"• 포아송분포 가정"}),(0,t.jsx)("li",{children:"• 로그 연결함수"}),(0,t.jsx)("li",{children:"• 항상 양수 예측값"})]})]})]})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-3",children:"포아송 회귀의 가정"}),(0,t.jsx)("div",{className:"space-y-3",children:["포아송 분포: 평균과 분산이 같음","독립성: 관측치들이 서로 독립","선형성: 로그(평균)이 예측변수와 선형관계","과산포 없음: 분산 = 평균 (과산포 시 음이항 회귀 고려)"].map((e,s)=>(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsx)(o.E,{variant:"outline",className:"w-6 h-6 rounded-full p-0 flex items-center justify-center text-xs",children:s+1}),(0,t.jsx)("span",{className:"text-sm",children:e})]},s))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-medium mb-3",children:"카운트 데이터 예시"}),(0,t.jsx)("div",{className:"bg-white p-4 rounded-lg border",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(k.A,{className:"w-8 h-8 mx-auto text-blue-500 mb-2"}),(0,t.jsx)("h4",{className:"font-medium",children:"의료"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"병원 방문 횟수, 발작 횟수, 합병증 건수"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.A,{className:"w-8 h-8 mx-auto text-green-500 mb-2"}),(0,t.jsx)("h4",{className:"font-medium",children:"품질관리"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"결함 개수, 불량품 수, 클레임 건수"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(k.A,{className:"w-8 h-8 mx-auto text-purple-500 mb-2"}),(0,t.jsx)("h4",{className:"font-medium",children:"마케팅"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"구매 횟수, 클릭 수, 문의 건수"})]})]})})]}),(0,t.jsxs)(m.Fc,{children:[(0,t.jsx)(S.A,{className:"h-4 w-4"}),(0,t.jsxs)(m.TN,{children:["포아송 회귀에서 ",(0,t.jsx)("strong",{children:"과산포(Overdispersion)"}),"가 발생하면 표준오차가 과소추정될 수 있습니다. 이 경우 준-포아송 모델이나 음이항 회귀분석을 고려해야 합니다."]})]}),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsxs)(c.$,{onClick:()=>{s.setCurrentStep&&s.setCurrentStep(1)},className:"flex items-center space-x-2",children:[(0,t.jsx)("span",{children:"다음: 데이터 업로드"}),(0,t.jsx)(E.A,{className:"w-4 h-4"})]})})]})}),[]),Q=(0,a.useCallback)(()=>(0,t.jsxs)(n.J,{title:"데이터 업로드",children:[(0,t.jsx)(l.DataUploadStep,{onUploadComplete:O,onPrevious:()=>{s.setCurrentStep&&s.setCurrentStep(0)}}),(0,t.jsxs)("div",{className:"mt-6",children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"포아송 회귀분석 데이터 요구사항"}),(0,t.jsx)("div",{className:"bg-gray-50 p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium text-sm mb-2",children:"종속변수 (카운트 데이터)"}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded border text-xs font-mono",children:[(0,t.jsx)("div",{children:"event_count | disease_cases | accidents | visits"}),(0,t.jsx)("div",{children:"3          | 5            | 0         | 12"}),(0,t.jsx)("div",{children:"7          | 2            | 1         | 8"}),(0,t.jsx)("div",{children:"0          | 8            | 3         | 15"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"비음의 정수 (0, 1, 2, 3, ...)만 포함"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium text-sm mb-2",children:"독립변수 (연속형/범주형)"}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded border text-xs font-mono",children:[(0,t.jsx)("div",{children:"age | gender | income | exposure_days"}),(0,t.jsx)("div",{children:"25  | M      | 35000  | 30"}),(0,t.jsx)("div",{children:"32  | F      | 42000  | 45"}),(0,t.jsx)("div",{children:"28  | M      | 38000  | 22"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium text-sm mb-2",children:"오프셋 변수 (선택사항)"}),(0,t.jsxs)("div",{className:"bg-white p-3 rounded border text-xs font-mono",children:[(0,t.jsx)("div",{children:"population | person_years | exposure_time"}),(0,t.jsx)("div",{children:"1000       | 2.5          | 8.0"}),(0,t.jsx)("div",{children:"1500       | 3.2          | 12.5"}),(0,t.jsx)("div",{children:"800        | 1.8          | 6.2"})]}),(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"발생률 모델링 시 분모 역할 (예: 인구수, 관찰기간)"})]})]})})]})]}),[O]),ee=(0,a.useCallback)(e=>{if(!e||"object"!=typeof e)return;let i="",t=[];if("dependent"in e){let s=e.dependent;"string"==typeof s&&(i=s)}if("independent"in e){let s=e.independent;Array.isArray(s)&&(t=s.filter(e=>"string"==typeof e))}i&&0!==t.length&&(W(i),B(t),s.setCurrentStep&&s.setCurrentStep(2))},[s]),es=(0,a.useCallback)(()=>(0,t.jsx)(n.J,{title:"변수 선택",children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"변수 선택 (종속변수 1개 + 독립변수 1개 이상)"}),L&&(0,t.jsx)(d.K,{methodId:"poisson",data:L.data,onVariablesSelected:ee}),(0,t.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["종속변수: 카운트 데이터 (0, 1, 2, 3, ...) - 예: 발생건수, 방문횟수",(0,t.jsx)("br",{}),"독립변수: 연속형 또는 범주형 (예: 나이, 성별, 소득, 지역)"]})]}),(0,t.jsxs)("div",{className:"bg-muted p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-medium mb-2",children:"변수 선택 가이드"}),(0,t.jsxs)("ul",{className:"text-sm text-muted-foreground space-y-1",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"종속변수"}),": 반드시 카운트 데이터 (0 이상의 정수)"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"독립변수"}),": 연속형, 이진형, 다항 범주형 모두 가능"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"표본크기"}),": 독립변수당 최소 10-15개 사건 권장"]})]})]}),(0,t.jsx)("div",{className:"flex justify-start",children:(0,t.jsx)(c.$,{variant:"outline",onClick:()=>{s.setCurrentStep&&s.setCurrentStep(0)},children:"이전: 소개"})})]})}),[L,ee,s]),ei=(0,a.useCallback)(()=>{var e,s;return z?(0,t.jsx)("div",{className:"space-y-6",children:(0,t.jsx)(n.J,{title:"포아송 회귀분석 결과",children:(0,t.jsxs)(h.tU,{defaultValue:"overview",className:"w-full",children:[(0,t.jsxs)(h.j7,{className:"grid w-full grid-cols-6",children:[(0,t.jsx)(h.Xi,{value:"overview",children:"개요"}),(0,t.jsx)(h.Xi,{value:"coefficients",children:"계수"}),(0,t.jsx)(h.Xi,{value:"assumptions",children:"가정검정"}),(0,t.jsx)(h.Xi,{value:"predictions",children:"예측"}),(0,t.jsx)(h.Xi,{value:"ratios",children:"발생률비"}),(0,t.jsx)(h.Xi,{value:"interpretation",children:"해석"})]}),(0,t.jsx)(h.av,{value:"overview",className:"space-y-4",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"모델 정보"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsx)(x.ZB,{className:"text-sm",children:"모델 사양"})}),(0,t.jsxs)(x.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"모델 유형:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_info.model_type})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"분포:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_info.distribution})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"연결함수:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_info.link_function})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"관측치 수:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_info.n_observations})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"수렴:"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[z.model_info.convergence?"성공":"실패"," (",z.model_info.iterations,"회)"]})]})]})]}),(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsx)(x.ZB,{className:"text-sm",children:"모델 적합도"})}),(0,t.jsxs)(x.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"AIC:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_fit.aic.toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"BIC:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_fit.bic.toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"편차:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_fit.deviance.toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"McFadden R\xb2:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_fit.pseudo_r_squared_mcfadden.toFixed(3)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"산포 계수:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.model_fit.dispersion_parameter.toFixed(3)})]})]})]})]})]})}),(0,t.jsxs)(h.av,{value:"coefficients",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"회귀 계수"}),(0,t.jsxs)(u.XI,{children:[(0,t.jsx)(u.A0,{children:(0,t.jsxs)(u.Hj,{children:[(0,t.jsx)(u.nd,{children:"변수"}),(0,t.jsx)(u.nd,{children:"계수"}),(0,t.jsx)(u.nd,{children:"표준오차"}),(0,t.jsx)(u.nd,{children:"z"}),(0,t.jsx)(u.nd,{children:"p-value"}),(0,t.jsx)(u.nd,{children:"95% CI"}),(0,t.jsx)(u.nd,{children:"exp(β)"}),(0,t.jsx)(u.nd,{children:"IRR CI"})]})}),(0,t.jsx)(u.BF,{children:z.coefficients.map((e,s)=>(0,t.jsxs)(u.Hj,{children:[(0,t.jsx)(u.nA,{className:"font-medium",children:e.variable}),(0,t.jsx)(u.nA,{children:e.coefficient.toFixed(4)}),(0,t.jsx)(u.nA,{children:e.std_error.toFixed(4)}),(0,t.jsx)(u.nA,{children:e.z_value.toFixed(3)}),(0,t.jsx)(u.nA,{children:(0,t.jsx)(F.tx,{value:e.p_value})}),(0,t.jsxs)(u.nA,{children:["[",e.ci_lower.toFixed(3),", ",e.ci_upper.toFixed(3),"]"]}),(0,t.jsx)(u.nA,{children:e.exp_coefficient.toFixed(3)}),(0,t.jsxs)(u.nA,{children:["[",e.irr_ci_lower.toFixed(3),", ",e.irr_ci_upper.toFixed(3),"]"]})]},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"발생률비(IRR) 시각화"}),(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(j.u,{width:"100%",height:"100%",children:(0,t.jsxs)(p.E,{data:z.coefficients.filter(e=>"intercept"!==e.variable),layout:"vertical",children:[(0,t.jsx)(f.d,{strokeDasharray:"3 3"}),(0,t.jsx)(v.W,{type:"number",domain:["dataMin - 0.1","dataMax + 0.1"]}),(0,t.jsx)(N.h,{dataKey:"variable",type:"category",width:80}),(0,t.jsx)(_.m,{formatter:e=>[e.toFixed(3),"IRR"],labelFormatter:e=>"Variable: ".concat(e)}),(0,t.jsx)(g.y,{dataKey:"exp_coefficient",fill:"#10b981"})]})})})]})]}),(0,t.jsxs)(h.av,{value:"assumptions",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"과산포 검정"}),(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"pt-4",children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium",children:z.assumptions.overdispersion.test_name}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"분산이 평균보다 과도하게 큰지 검정"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("div",{className:"text-lg font-semibold",children:z.assumptions.overdispersion.dispersion_ratio.toFixed(3)}),(0,t.jsx)(F.tx,{value:z.assumptions.overdispersion.p_value})]})]}),(0,t.jsxs)(m.Fc,{children:[z.assumptions.overdispersion.assumption_met?(0,t.jsx)(I.A,{className:"h-4 w-4"}):(0,t.jsx)(T.A,{className:"h-4 w-4"}),(0,t.jsx)(m.TN,{children:z.assumptions.overdispersion.assumption_met?(0,t.jsxs)("span",{className:"text-muted-foreground",children:["과산포가 없습니다. 포아송 모델이 적절합니다. (산포비 = ",z.assumptions.overdispersion.dispersion_ratio.toFixed(3),")"]}):(0,t.jsx)("span",{className:"text-muted-foreground",children:"과산포가 감지되었습니다. 준-포아송 모델이나 음이항 회귀를 고려하세요."})})]})]})})})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"적합도 검정"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsx)(x.ZB,{className:"text-sm",children:"Pearson 카이제곱"})}),(0,t.jsxs)(x.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"통계량:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.goodness_of_fit.pearson_gof.statistic.toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"자유도:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.goodness_of_fit.pearson_gof.df})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"p-value:"}),(0,t.jsx)(F.tx,{value:z.goodness_of_fit.pearson_gof.p_value})]})]})]}),(0,t.jsxs)(x.Zp,{children:[(0,t.jsx)(x.aR,{children:(0,t.jsx)(x.ZB,{className:"text-sm",children:"편차 검정"})}),(0,t.jsxs)(x.Wu,{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"편차:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.goodness_of_fit.deviance_gof.statistic.toFixed(2)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"자유도:"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:z.goodness_of_fit.deviance_gof.df})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"p-value:"}),(0,t.jsx)(F.tx,{value:z.goodness_of_fit.deviance_gof.p_value})]})]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"기타 가정"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium",children:"선형성 검정"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"로그(평균)과 예측변수의 선형관계"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)(F.tx,{value:z.assumptions.linearity.p_value}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:z.assumptions.linearity.assumption_met?"선형성 만족":"선형성 위반"})]})]})})}),(0,t.jsx)(x.Zp,{children:(0,t.jsx)(x.Wu,{className:"pt-4",children:(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium",children:"독립성"}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:"Durbin-Watson 검정"})]}),(0,t.jsxs)("div",{className:"text-right",children:[(0,t.jsx)("span",{className:"text-sm font-medium",children:z.assumptions.independence.durbin_watson.toFixed(2)}),(0,t.jsx)("p",{className:"text-xs text-gray-600",children:z.assumptions.independence.assumption_met?"독립성 만족":"자기상관 존재"})]})]})})})]})]})]}),(0,t.jsxs)(h.av,{value:"predictions",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"예측값 및 잔차"}),(0,t.jsxs)(u.XI,{children:[(0,t.jsx)(u.A0,{children:(0,t.jsxs)(u.Hj,{children:[(0,t.jsx)(u.nd,{children:"관측치"}),(0,t.jsx)(u.nd,{children:"실제값"}),(0,t.jsx)(u.nd,{children:"예측값"}),(0,t.jsx)(u.nd,{children:"잔차"}),(0,t.jsx)(u.nd,{children:"Pearson 잔차"}),(0,t.jsx)(u.nd,{children:"편차 잔차"})]})}),(0,t.jsx)(u.BF,{children:z.predicted_values.slice(0,10).map((e,s)=>(0,t.jsxs)(u.Hj,{children:[(0,t.jsx)(u.nA,{children:e.observation}),(0,t.jsx)(u.nA,{children:e.actual_count}),(0,t.jsx)(u.nA,{children:e.predicted_count.toFixed(2)}),(0,t.jsx)(u.nA,{children:e.residual.toFixed(3)}),(0,t.jsx)(u.nA,{children:e.pearson_residual.toFixed(3)}),(0,t.jsx)(u.nA,{children:e.deviance_residual.toFixed(3)})]},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"실제값 vs 예측값"}),(0,t.jsx)("div",{className:"h-64",children:(0,t.jsx)(j.u,{width:"100%",height:"100%",children:(0,t.jsxs)(b.t,{data:z.predicted_values.slice(0,10),children:[(0,t.jsx)(f.d,{strokeDasharray:"3 3"}),(0,t.jsx)(v.W,{dataKey:"predicted_count",name:"예측값"}),(0,t.jsx)(N.h,{dataKey:"actual_count",name:"실제값"}),(0,t.jsx)(_.m,{formatter:(e,s)=>[e.toFixed(2),"actual_count"===s?"실제값":"예측값"]}),(0,t.jsx)(y.X,{dataKey:"actual_count",fill:"#3b82f6"}),(0,t.jsx)(w.N,{dataKey:"predicted_count",stroke:"#ef4444",strokeWidth:2,dot:!1})]})})})]})]}),(0,t.jsxs)(h.av,{value:"ratios",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"발생률비 (Incidence Rate Ratio)"}),(0,t.jsxs)(u.XI,{children:[(0,t.jsx)(u.A0,{children:(0,t.jsxs)(u.Hj,{children:[(0,t.jsx)(u.nd,{children:"변수"}),(0,t.jsx)(u.nd,{children:"발생률비"}),(0,t.jsx)(u.nd,{children:"95% CI"}),(0,t.jsx)(u.nd,{children:"해석"})]})}),(0,t.jsx)(u.BF,{children:z.rate_ratios.map((e,s)=>(0,t.jsxs)(u.Hj,{children:[(0,t.jsx)(u.nA,{className:"font-medium",children:e.variable}),(0,t.jsx)(u.nA,{children:e.rate_ratio.toFixed(3)}),(0,t.jsxs)(u.nA,{children:["[",e.ci_lower.toFixed(3),", ",e.ci_upper.toFixed(3),"]"]}),(0,t.jsx)(u.nA,{className:"text-sm",children:e.interpretation})]},s))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"발생률비 해석 가이드"}),(0,t.jsx)("div",{className:"bg-muted p-4 rounded-lg",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-3 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium mb-2",children:"IRR = 1"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"해당 변수가 발생률에 영향 없음"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium mb-2",children:"IRR > 1"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"해당 변수가 발생률을 증가시킴"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h5",{className:"font-medium mb-2",children:"IRR < 1"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"해당 변수가 발생률을 감소시킴"})]})]})})]})]}),(0,t.jsxs)(h.av,{value:"interpretation",className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"결과 해석"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)(m.Fc,{children:[(0,t.jsx)(I.A,{className:"h-4 w-4"}),(0,t.jsxs)(m.TN,{children:[(0,t.jsx)("strong",{children:"모델 적합도:"})," McFadden R\xb2 = ",z.model_fit.pseudo_r_squared_mcfadden.toFixed(3),"으로, 모델이 데이터의 변동을 ",(100*z.model_fit.pseudo_r_squared_mcfadden).toFixed(1),"% 설명합니다. 포아송 회귀에서 0.1 이상이면 양호한 적합도로 판단됩니다."]})]}),(0,t.jsxs)(m.Fc,{children:[(0,t.jsx)(C.A,{className:"h-4 w-4"}),(0,t.jsxs)(m.TN,{children:[(0,t.jsx)("strong",{children:"과산포 검정:"})," 산포비 = ",z.assumptions.overdispersion.dispersion_ratio.toFixed(3),"로,",z.assumptions.overdispersion.assumption_met?"포아송 분포 가정이 적절합니다.":"과산포가 존재하므로 준-포아송 모델이나 음이항 회귀를 고려해야 합니다."]})]}),(0,t.jsxs)(m.Fc,{children:[(0,t.jsx)(M.A,{className:"h-4 w-4"}),(0,t.jsxs)(m.TN,{children:[(0,t.jsx)("strong",{children:"주요 결과:"})," ",(null==(e=z.rate_ratios.find(e=>"treatment"===e.variable))?void 0:e.rate_ratio)&&"치료 효과는 발생률을 ".concat(((1-z.rate_ratios.find(e=>"treatment"===e.variable).rate_ratio)*100).toFixed(1),"% 감소시킵니다"),(null==(s=z.rate_ratios.find(e=>"age"===e.variable))?void 0:s.rate_ratio)&&". 연령은 1세 증가당 발생률을 ".concat(((z.rate_ratios.find(e=>"age"===e.variable).rate_ratio-1)*100).toFixed(1),"% 증가시킵니다.")]})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h4",{className:"font-medium mb-3",children:"실용적 함의"}),(0,t.jsx)("div",{className:"bg-muted p-4 rounded-lg",children:(0,t.jsxs)("ul",{className:"space-y-2 text-sm",children:[(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"임상 적용:"})," 치료 효과의 크기와 통계적 유의성을 정량화"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"위험도 평가:"})," 위험요인들의 상대적 영향력 비교"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"정책 결정:"})," 개입 우선순위 결정을 위한 근거 제공"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"예측 모델:"})," 새로운 조건에서의 발생률 예측"]}),(0,t.jsxs)("li",{children:["• ",(0,t.jsx)("strong",{children:"모델 개선:"})," 과산포 문제 시 모델 수정 방향 제시"]})]})})]})]})]})})}):(0,t.jsx)(n.J,{title:"분석 실행",children:(0,t.jsx)("div",{className:"text-center py-8",children:(0,t.jsx)(c.$,{onClick:$,disabled:D||!q,size:"lg",className:"flex items-center space-x-2",children:D?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),(0,t.jsx)("span",{children:"분석 중..."})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(C.A,{className:"w-4 h-4"}),(0,t.jsx)("span",{children:"포아송 회귀분석 실행"})]})})})})},[z,D,q,$]);return(0,t.jsx)(n.x,{title:"포아송 회귀분석",subtitle:"Poisson Regression",children:[{id:"upload",title:"소개",component:Y},{id:"variables",title:"데이터 업로드",component:Q},{id:"analysis",title:"변수 선택",component:es},{id:"results",title:"분석 결과",component:ei}][i].component()})}},90923:(e,s,i)=>{"use strict";i.d(s,{Xi:()=>d,av:()=>c,j7:()=>l,tU:()=>r});var t=i(95155);i(12115);var a=i(25667),n=i(25016);function r(e){let{className:s,...i}=e;return(0,t.jsx)(a.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",s),...i})}function l(e){let{className:s,...i}=e;return(0,t.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...i})}function d(e){let{className:s,...i}=e;return(0,t.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i})}function c(e){let{className:s,...i}=e;return(0,t.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",s),...i})}}},e=>{e.O(0,[3524,4909,4120,660,6093,1204,5077,8720,2320,1286,1011,1029,5486,4772,7818,7095,1520,7262,6724,6257,7742,6526,672,8441,1255,7358],()=>e(e.s=36407)),_N_E=e.O()}]);