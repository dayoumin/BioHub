(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9523],{23531:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>P});var t=a(95155),r=a(12115),i=a(1733),n=a(83209),l=a(97003),d=a(67812),c=a(32559),o=a(90923),m=a(54664),x=a(1524),p=a(80534),h=a(50906),u=a(14639),j=a(42794),b=a(42529),N=a(95740),f=a(21786),g=a(91169),v=a(6132),y=a(89715),w=a(39867),V=a(41944),C=a(84594),k=a(37969),A=a(90908),E=a(84484),S=a(26991),M=a(67485),Z=a(68425),F=a(47734),R=a(74595),T=a(33420),W=a(96290),z=a(25016),D=a(39253),_=a(91240);function P(){let{state:e,actions:s}=(0,D.Q)({withUploadedData:!0,withError:!1}),{currentStep:a,uploadedData:P,selectedVariables:B,results:U,isAnalyzing:K}=e,[O,X]=(0,r.useState)(""),J={pearson:{title:"Pearson 상관계수",subtitle:"Pearson Correlation",description:"연속형 변수 간 선형 상관관계 측정",icon:(0,t.jsx)(x.A,{className:"w-5 h-5"}),example:"키와 몸무게, 공부시간과 성적",assumptions:["정규성","선형성","등분산성"],range:"-1 ~ +1",interpretation:"선형 관계의 강도와 방향"},spearman:{title:"Spearman 순위상관",subtitle:"Spearman Rank Correlation",description:"순서형 또는 비정규 데이터의 단조 관계 측정",icon:(0,t.jsx)(p.A,{className:"w-5 h-5"}),example:"만족도 순위와 재구매율",assumptions:["단조성","순서척도 이상"],range:"-1 ~ +1",interpretation:"단조 관계의 강도와 방향"},kendall:{title:"Kendall 타우",subtitle:"Kendall's Tau",description:"순서형 변수의 일치도 기반 상관 측정",icon:(0,t.jsx)(h.A,{className:"w-5 h-5"}),example:"평가자 간 순위 일치도",assumptions:["순서척도","작은 표본 적합"],range:"-1 ~ +1",interpretation:"순위 일치도"},partial:{title:"편상관분석",subtitle:"Partial Correlation",description:"제3변수 통제 후 순수 상관관계 측정",icon:(0,t.jsx)(u.A,{className:"w-5 h-5"}),example:"나이 통제 후 운동량과 체중",assumptions:["선형성","정규성","통제변수 필요"],range:"-1 ~ +1",interpretation:"통제 후 순수 관계"}},q=(0,r.useCallback)(e=>{X(e),s.setCurrentStep(1)},[s]),I=(0,_.E3)(s.setUploadedData,()=>{s.setCurrentStep(2)},"correlation"),L=(0,_.DM)(s.setSelectedVariables,e=>{$(e)},"correlation"),$=(0,r.useCallback)(async e=>{try{s.startAnalysis();let e=["Variable1","Variable2","Variable3","Variable4"],a=[[1,.823,-.456,.234],[.823,1,-.312,.178],[-.456,-.312,1,.567],[.234,.178,.567,1]],t=[[0,.001,.023,.145],[.001,0,.045,.234],[.023,.045,0,.008],[.145,.234,.008,0]],r={correlationMatrix:e.map((s,r)=>e.map((e,i)=>({var1:s,var2:e,r:a[r][i],pValue:t[r][i],significant:t[r][i]<.05,strength:Math.abs(a[r][i])>.7?"strong":Math.abs(a[r][i])>.4?"moderate":"weak"}))).flat(),pairwiseCorrelations:[{pair:"Variable1 - Variable2",r:.823,pValue:.001,n:100,ci:[.756,.878],interpretation:"매우 강한 양의 상관관계"},{pair:"Variable1 - Variable3",r:-.456,pValue:.023,n:100,ci:[-.592,-.298],interpretation:"중간 정도의 음의 상관관계"},{pair:"Variable2 - Variable3",r:-.312,pValue:.045,n:100,ci:[-.478,-.123],interpretation:"약한 음의 상관관계"}],scatterPlots:[{name:"Variable1 vs Variable2",data:Array.from({length:50},()=>{let e=100*Math.random(),s=.823*e+(Math.random()-.5)*20;return{x:e,y:s}}),r:.823,equation:"y = 0.823x + 12.34"}],assumptions:{normality:{shapiroWilk:e.map(e=>({variable:e,statistic:.95+.04*Math.random(),pValue:.05+.4*Math.random(),normal:!0}))},linearityTest:{passed:!0,interpretation:"변수 간 선형 관계가 확인됨"}},sampleSize:100,method:O,partialCorrelation:"partial"===O?{controlVariable:"Age",originalCorrelation:.678,partialCorrelation:.423,pValue:.012,interpretation:"연령을 통제한 후 상관관계가 감소함"}:null};s.completeAnalysis(r,3)}catch(e){s.setError(e instanceof Error?e.message:"분석 중 오류가 발생했습니다")}},[s,O]);return(0,t.jsxs)(V.x,{title:"상관분석",subtitle:"Correlation Analysis - 변수 간 관계의 강도와 방향 측정",icon:(0,t.jsx)(j.A,{className:"w-6 h-6"}),methodInfo:{formula:"pearson"===O?"r = Σ[(xi-x̄)(yi-ȳ)] / √[Σ(xi-x̄)\xb2Σ(yi-ȳ)\xb2]":"spearman"===O?"ρ = 1 - (6Σdi\xb2) / [n(n\xb2-1)]":"kendall"===O?"τ = (C - D) / √[(C + D + Tx)(C + D + Ty)]":"r(xy.z) = [r(xy) - r(xz)r(yz)] / √[(1-r\xb2(xz))(1-r\xb2(yz))]",assumptions:"pearson"===O?["정규성","선형성","등분산성"]:"spearman"===O?["단조성","순서척도 이상"]:"kendall"===O?["순서척도","작은 표본 적합"]:["선형성","정규성","통제변수 필요"],sampleSize:"kendall"===O?"소표본(n<30)도 가능":"최소 30개 이상 권장",usage:"partial"===O?"제3변수 영향 제거 후 순수 관계":"두 변수 간 관계의 강도와 방향 파악"},steps:[{id:"method",number:1,title:"상관분석 유형 선택",description:"데이터 특성에 맞는 상관 방법 선택",status:0===a?"current":a>0?"completed":"pending"},{id:"upload",number:2,title:"데이터 업로드",description:"분석할 데이터 파일 업로드",status:1===a?"current":a>1?"completed":"pending"},{id:"variables",number:3,title:"변수 선택",description:"상관관계를 분석할 변수 선택",status:2===a?"current":a>2?"completed":"pending"},{id:"results",number:4,title:"결과 확인",description:"상관관계 분석 결과 및 해석",status:3===a?"current":a>3?"completed":"pending"}],currentStep:a,onStepChange:s.setCurrentStep,onRun:()=>B&&$(B),onReset:()=>{s.reset(),X("")},isRunning:K,showProgress:!0,showTips:!0,children:[0===a&&(0,t.jsxs)(V.J,{title:"상관분석 방법 선택",description:"데이터 특성과 연구 목적에 맞는 상관분석 방법을 선택하세요",icon:(0,t.jsx)(j.A,{className:"w-5 h-5 text-primary"}),children:[(0,t.jsx)("div",{className:"grid md:grid-cols-2 gap-4",children:Object.entries(J).map(e=>{let[s,a]=e;return(0,t.jsx)(i.P.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:(0,t.jsxs)(n.Zp,{className:(0,z.cn)("cursor-pointer border-2 transition-all h-full",O===s?"border-primary bg-primary/5 shadow-lg":"border-border hover:border-primary/50 hover:shadow-md"),onClick:()=>q(s),children:[(0,t.jsxs)(n.aR,{children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"p-2 bg-gradient-to-br from-primary/20 to-primary/10 rounded-lg",children:a.icon}),O===s&&(0,t.jsx)(b.A,{className:"w-5 h-5 text-primary"})]}),(0,t.jsx)(n.ZB,{className:"text-lg mt-3",children:a.title}),(0,t.jsx)(d.E,{variant:"outline",className:"w-fit mt-2",children:a.subtitle})]}),(0,t.jsxs)(n.Wu,{className:"space-y-3",children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:a.description}),(0,t.jsxs)("div",{className:"bg-muted/50 p-3 rounded-lg",children:[(0,t.jsx)("p",{className:"text-xs font-medium mb-1",children:"예시:"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:a.example})]}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-xs",children:[(0,t.jsxs)("div",{className:"bg-primary/5 p-2 rounded text-center",children:[(0,t.jsx)("p",{className:"font-medium",children:"범위"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:a.range})]}),(0,t.jsxs)("div",{className:"bg-primary/5 p-2 rounded text-center",children:[(0,t.jsx)("p",{className:"font-medium",children:"해석"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:a.interpretation})]})]}),(0,t.jsx)("div",{className:"flex flex-wrap gap-1",children:a.assumptions.map(e=>(0,t.jsx)(d.E,{variant:"secondary",className:"text-xs",children:e},e))})]})]})},s)})}),O&&(0,t.jsxs)(i.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-6 p-4 bg-primary/5 border border-primary/20 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)(N.A,{className:"w-4 h-4 text-primary"}),(0,t.jsxs)("span",{className:"font-medium text-sm",children:[J[O].title," 선택됨"]})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"다음 단계에서 데이터를 업로드해주세요."})]})]}),1===a&&(0,t.jsx)(V.J,{title:"데이터 업로드",description:"상관분석할 데이터 파일을 업로드하세요",icon:(0,t.jsx)(f.A,{className:"w-5 h-5 text-primary"}),children:(0,t.jsx)(C.DataUploadStep,{onNext:()=>{},onUploadComplete:I})}),2===a&&(P?((0,A.Fn)("partial"===O?"partialCorrelation":"correlationAnalysis"),Object.keys(P.data[0]||{}).map(e=>({name:e,type:(0,E.M6)(P.data.map(s=>s[e]),e),stats:{missing:0,unique:[...new Set(P.data.map(s=>s[e]))].length,min:Math.min(...P.data.map(s=>Number(s[e])||0)),max:Math.max(...P.data.map(s=>Number(s[e])||0))}})),(0,t.jsx)(V.J,{title:"변수 선택",description:"상관관계를 분석할 변수들을 선택하세요",icon:(0,t.jsx)(g.A,{className:"w-5 h-5 text-primary"}),children:(0,t.jsx)(k.K,{methodId:"correlation",data:P.data,onVariablesSelected:e=>{L({variables:Array.isArray(e.independent)?e.independent:[e.independent],controlVariables:e.controlVariables?Array.isArray(e.controlVariables)?e.controlVariables:[e.controlVariables]:void 0})}})})):null),3===a&&(()=>{if(!U)return null;let{pairwiseCorrelations:e,scatterPlots:s,assumptions:a,partialCorrelation:r,sampleSize:i}=U,x=e=>e>.7?"#22c55e":e>.4?"#84cc16":e>0?"#fbbf24":e>-.4?"#fb923c":e>-.7?"#f87171":"#dc2626";return(0,t.jsx)(V.J,{title:"상관분석 결과",description:"".concat(J[O].title," 분석이 완료되었습니다"),icon:(0,t.jsx)(j.A,{className:"w-5 h-5 text-primary"}),children:(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)(c.Fc,{className:"border-blue-500 bg-muted",children:[(0,t.jsx)(v.A,{className:"h-4 w-4"}),(0,t.jsx)(c.XL,{children:"분석 요약"}),(0,t.jsx)(c.TN,{children:(0,t.jsxs)("div",{className:"mt-2 space-y-2",children:[(0,t.jsxs)("p",{className:"text-sm",children:[(0,t.jsx)("strong",{children:J[O].title})," 방법으로",(0,t.jsxs)("strong",{children:[" ",i,"개"]}),"의 관측치를 분석했습니다."]}),(0,t.jsxs)("p",{className:"text-sm",children:["가장 강한 상관관계: ",(0,t.jsx)("strong",{children:e[0].pair}),"(r = ",e[0].r.toFixed(3),", p ","<"," 0.05)"]})]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-base",children:"주요 상관관계 분석 결과"})}),(0,t.jsx)(n.Wu,{className:"space-y-3",children:e.map((e,s)=>(0,t.jsxs)("div",{className:"p-4 bg-muted/50 rounded-lg",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.pair}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsxs)(d.E,{style:{backgroundColor:x(e.r)},className:"text-white",children:["r = ",e.r.toFixed(3)]}),(0,t.jsxs)(d.E,{variant:e.pValue<.05?"default":"secondary",children:["p = ",e.pValue<.001?"< 0.001":e.pValue.toFixed(3)]})]})]}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.interpretation," (",(e=>{let s=Math.abs(e);return s>=.9?"매우 강한":s>=.7?"강한":s>=.4?"중간":s>=.2?"약한":"매우 약한"})(e.r)," ",e.r>0?"양":"음","의 상관관계)"]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["95% CI: [",e.ci[0].toFixed(3),", ",e.ci[1].toFixed(3),"]"]})]})]},s))})]}),r&&(0,t.jsxs)(n.Zp,{className:"border-orange-500",children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-base",children:"편상관분석 결과"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"통제변수"}),(0,t.jsx)(d.E,{variant:"outline",children:r.controlVariable})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"원래 상관계수"}),(0,t.jsx)(d.E,{children:r.originalCorrelation.toFixed(3)})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{className:"text-sm",children:"편상관계수"}),(0,t.jsx)(d.E,{variant:"default",children:r.partialCorrelation.toFixed(3)})]}),(0,t.jsx)(m.w,{className:"my-2"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:r.interpretation})]})})]}),s&&s.length>0&&(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-base",children:"산점도 및 추세선"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)(o.tU,{defaultValue:"0",children:[(0,t.jsx)(o.j7,{children:s.map((e,s)=>(0,t.jsx)(o.Xi,{value:s.toString(),children:e.name},s))}),s.map((e,s)=>(0,t.jsxs)(o.av,{value:s.toString(),children:[(0,t.jsx)(S.u,{width:"100%",height:300,children:(0,t.jsxs)(M.t,{children:[(0,t.jsx)(Z.d,{strokeDasharray:"3 3"}),(0,t.jsx)(F.W,{dataKey:"x",name:"X"}),(0,t.jsx)(R.h,{dataKey:"y",name:"Y"}),(0,t.jsx)(T.m,{}),(0,t.jsx)(W.X,{name:e.name,data:e.data,fill:"#3b82f6"})]})}),(0,t.jsxs)("div",{className:"mt-2 text-center",children:[(0,t.jsxs)("p",{className:"text-sm font-medium",children:["r = ",e.r.toFixed(3)]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:e.equation})]})]},s))]})})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-base",children:"상관계수 매트릭스"})}),(0,t.jsxs)(n.Wu,{children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-xs",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"p-2"}),["Var1","Var2","Var3","Var4"].map(e=>(0,t.jsx)("th",{className:"p-2 text-center",children:e},e))]})}),(0,t.jsx)("tbody",{children:["Var1","Var2","Var3","Var4"].map((e,s)=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"p-2 font-medium",children:e}),[1,.82,-.45,.23].map((e,a)=>(0,t.jsx)("td",{className:"p-2 text-center",style:{backgroundColor:s===a?"#f3f4f6":"".concat(x(0===a?1:1===a?.82:2===a?-.45:.23),"20")},children:s===a?"1.00":1===a?"0.82":2===a?"-0.45":"0.23"},a))]},e))})]})}),(0,t.jsxs)("div",{className:"mt-4 flex items-center justify-center gap-4 text-xs",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#dc2626"}}),(0,t.jsx)("span",{children:"강한 음의 상관"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#fbbf24"}}),(0,t.jsx)("span",{children:"약한 상관"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)("div",{className:"w-4 h-4 rounded",style:{backgroundColor:"#22c55e"}}),(0,t.jsx)("span",{children:"강한 양의 상관"})]})]})]})]}),(0,t.jsxs)(n.Zp,{children:[(0,t.jsx)(n.aR,{children:(0,t.jsx)(n.ZB,{className:"text-base",children:"가정 검정"})}),(0,t.jsx)(n.Wu,{children:(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"정규성 검정 (Shapiro-Wilk)"}),(0,t.jsx)("div",{className:"grid grid-cols-2 gap-2",children:a.normality.shapiroWilk.map(e=>(0,t.jsxs)("div",{className:"flex justify-between text-xs p-2 bg-muted/50 rounded",children:[(0,t.jsx)("span",{children:e.variable}),(0,t.jsx)(d.E,{variant:e.normal?"default":"destructive",className:"text-xs",children:e.normal?"정규":"비정규"})]},e.variable))})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium mb-2",children:"선형성 검정"}),(0,t.jsxs)("div",{className:"flex items-center justify-between p-3 bg-muted/50 rounded",children:[(0,t.jsx)("span",{className:"text-sm",children:a.linearityTest.interpretation}),(0,t.jsx)(d.E,{variant:a.linearityTest.passed?"default":"destructive",children:a.linearityTest.passed?"만족":"위반"})]})]})]})})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-center pt-4",children:[(0,t.jsxs)(l.$,{variant:"outline",onClick:()=>{},children:[(0,t.jsx)(y.A,{className:"w-4 h-4 mr-2"}),"보고서 생성"]}),(0,t.jsxs)(l.$,{variant:"outline",onClick:()=>{},children:[(0,t.jsx)(w.A,{className:"w-4 h-4 mr-2"}),"결과 다운로드"]})]})]})})})()]})}},56384:(e,s,a)=>{Promise.resolve().then(a.bind(a,23531))},90923:(e,s,a)=>{"use strict";a.d(s,{Xi:()=>d,av:()=>c,j7:()=>l,tU:()=>n});var t=a(95155);a(12115);var r=a(25667),i=a(25016);function n(e){let{className:s,...a}=e;return(0,t.jsx)(r.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",s),...a})}function l(e){let{className:s,...a}=e;return(0,t.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...a})}function d(e){let{className:s,...a}=e;return(0,t.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...a})}function c(e){let{className:s,...a}=e;return(0,t.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",s),...a})}},91240:(e,s,a)=>{"use strict";a.d(s,{DM:()=>r,E3:()=>t});let t=(e,s,a)=>(a,t)=>{if(!e)return;let r=((e,s)=>{if(!Array.isArray(s)||0===s.length)return{data:[],fileName:e.name,columns:[]};let a=s[0],t=a&&"object"==typeof a&&null!==a?Object.keys(a):[];return{data:s,fileName:e.name,columns:t}})(a,t);0!==r.data.length&&(e(r),s(r))},r=(e,s,a)=>a=>{a&&"object"==typeof a&&e&&(e(a),s(a))}}},e=>{e.O(0,[3524,4909,4120,660,6093,1204,5077,8720,2320,1286,1011,1029,5486,4772,1520,4673,6724,6257,7742,8441,1255,7358],()=>e(e.s=56384)),_N_E=e.O()}]);