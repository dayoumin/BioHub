(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9772],{12168:(e,s,n)=>{"use strict";n.d(s,{ib:()=>l});var t,a=n(95704);let i="v0.28.3",r={VERSION:i,OVERRIDE_VERSION:void 0!==a&&(null==(t=a.env)?void 0:t.NEXT_PUBLIC_PYODIDE_VERSION),CDN_URL:"https://cdn.jsdelivr.net/pyodide/".concat(i,"/full/"),SCRIPT_URL:"https://cdn.jsdelivr.net/pyodide/".concat(i,"/full/pyodide.js"),PACKAGES:["numpy","scipy","pandas"],LOADING_PROGRESS:{IDLE:0,BASIC:40,SCIPY:80,READY:100},TIMEOUT:{LOAD_SCRIPT:3e4,LOAD_PACKAGES:6e4}};function l(){var e,s;if(void 0!==a&&(null==(e=a.env)?void 0:e.NEXT_PUBLIC_PYODIDE_USE_LOCAL)==="true"){let e=void 0!==a&&(null==(s=a.env)?void 0:s.NEXT_PUBLIC_PYODIDE_LOCAL_PATH)||"/pyodide/";return{version:"local",indexURL:e,scriptURL:"".concat(e,"pyodide.js"),isLocal:!0}}let n=r.OVERRIDE_VERSION||r.VERSION,t="https://cdn.jsdelivr.net/pyodide/".concat(n,"/full");return{version:n,indexURL:"".concat(t,"/"),scriptURL:"".concat(t,"/pyodide.js"),isLocal:!1}}Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER},17982:(e,s,n)=>{"use strict";n.d(s,{C:()=>o,z:()=>d});var t=n(95155),a=n(12115),i=n(24058),r=n(99051),l=n(25016);let d=a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,t.jsx)(i.bL,{className:(0,l.cn)("grid gap-2",n),...a,ref:s})});d.displayName=i.bL.displayName;let o=a.forwardRef((e,s)=>{let{className:n,...a}=e;return(0,t.jsx)(i.q7,{ref:s,className:(0,l.cn)("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),...a,children:(0,t.jsx)(i.C1,{className:"flex items-center justify-center",children:(0,t.jsx)(r.A,{className:"h-2.5 w-2.5 fill-current text-current"})})})});o.displayName=i.q7.displayName},29951:(e,s,n)=>{Promise.resolve().then(n.bind(n,67144))},33565:(e,s,n)=>{"use strict";n.d(s,{Yo:()=>c});let t=(0,n(12168).ib)(),a=null,i=null,r=new Set;async function l(){if(window.loadPyodide)return;let e=document.createElement("script");e.src=t.scriptURL,e.async=!0,await new Promise((s,n)=>{e.onload=()=>{s()},e.onerror=e=>{n(Error("Pyodide CDN 스크립트 로드 실패"))},document.head.appendChild(e)})}async function d(){return await l(),await window.loadPyodide({indexURL:t.indexURL})}async function o(){if(a)return a;if(i)return i;i=d();try{return a=await i}finally{i=null}}async function c(e){let s=await o(),n=e.filter(e=>!r.has(e));return n.length>0&&(await s.loadPackage(n),n.forEach(e=>r.add(e))),s}},67144:(e,s,n)=>{"use strict";n.r(s),n.d(s,{default:()=>N});var t=n(95155),a=n(12115),i=n(83209),r=n(97003),l=n(32559),d=n(90923),o=n(67812),c=n(90235),u=n(17982),m=n(84916),p=n(23327),x=n(30814),f=n(50906),_=n(41944),h=n(84594),j=n(37969),g=n(39253),y=n(33565);let b={first_order:{name:"1차 모델 (선형)",description:"선형 주효과만 포함",equation:"y = β₀ + β₁x₁ + β₂x₂ + ... + ε",applications:"초기 탐색, 선형 관계"},first_order_interaction:{name:"1차 + 교호작용 모델",description:"선형 주효과와 2차 교호작용",equation:"y = β₀ + Σβᵢxᵢ + ΣΣβᵢⱼxᵢxⱼ + ε",applications:"요인간 상호작용이 중요한 경우"},second_order:{name:"2차 모델 (완전)",description:"선형, 교호작용, 2차항 모두 포함",equation:"y = β₀ + Σβᵢxᵢ + ΣΣβᵢⱼxᵢxⱼ + Σβᵢᵢxᵢ\xb2 + ε",applications:"최적화, 곡면 분석"},custom:{name:"사용자 정의",description:"교호작용과 2차항을 선택적으로 포함",equation:"사용자가 선택한 항목에 따라 결정",applications:"특정 요구사항에 맞는 모델"}},v=e=>{let{selectedModel:s,includeInteraction:n,includeQuadratic:r,uploadedData:c,actions:u}=e,[m,x]=(0,a.useState)(null),f=(0,a.useCallback)(async e=>{let t={dependent:Array.isArray(e.dependent)?e.dependent:[e.dependent],factor:Array.isArray(e.factor)?e.factor:[e.factor]};if(!c){u.setError&&u.setError("업로드된 데이터가 없습니다.");return}if(!t.factor||t.factor.length<2){u.setError&&u.setError("반응표면 분석에는 최소 2개의 예측변수가 필요합니다.");return}if(!t.dependent||0===t.dependent.length){u.setError&&u.setError("반응변수를 선택해주세요.");return}u.startAnalysis&&u.startAnalysis();try{let e=await (0,y.Yo)(["numpy","pandas","scipy"]),a=t.factor.map(e=>c.data.map(s=>s[e])),i=c.data.map(e=>e[t.dependent[0]]),l="\nimport numpy as np\nimport pandas as pd\nfrom sklearn.preprocessing import PolynomialFeatures\nfrom sklearn.linear_model import LinearRegression\nfrom sklearn.metrics import r2_score\nfrom scipy import stats\nimport itertools\nimport warnings\nwarnings.filterwarnings('ignore')\n\n# 데이터 준비\npredictor_data = ".concat(JSON.stringify(a),"\nresponse_data = ").concat(JSON.stringify(i),'\n\n# 데이터 정리\nn_predictors = len(predictor_data)\nn_obs = len(response_data)\n\n# 예측변수 배열 생성\nX_arrays = []\nfor i in range(n_predictors):\n    data = predictor_data[i]\n    clean_data = [x for x in data if x is not None and not np.isnan(x)]\n    X_arrays.append(clean_data[:n_obs])\n\n# 길이 맞추기\nmin_length = min(len(arr) for arr in X_arrays + [response_data])\nX_arrays = [arr[:min_length] for arr in X_arrays]\ny_clean = [x for x in response_data[:min_length] if x is not None and not np.isnan(x)]\n\nif len(y_clean) < min_length:\n    min_length = len(y_clean)\n    X_arrays = [arr[:min_length] for arr in X_arrays]\n\nX = np.column_stack(X_arrays)\ny = np.array(y_clean)\n\nif X.shape[0] < 10:\n    raise ValueError("반응표면 분석에는 최소 10개의 관측값이 필요합니다.")\n\n# 모델 설정\nmodel_type = "').concat(s,'"\ninclude_interaction = ').concat(n,"\ninclude_quadratic = ").concat(r,"\n\n# 설계 행렬 생성\nif model_type == \"first_order\":\n    poly_features = PolynomialFeatures(degree=1, include_bias=True, interaction_only=False)\nelif model_type == \"first_order_interaction\":\n    poly_features = PolynomialFeatures(degree=2, include_bias=True, interaction_only=True)\nelif model_type == \"second_order\":\n    poly_features = PolynomialFeatures(degree=2, include_bias=True, interaction_only=False)\nelse:  # custom\n    if include_quadratic:\n        poly_features = PolynomialFeatures(degree=2, include_bias=True, interaction_only=not include_interaction)\n    elif include_interaction:\n        poly_features = PolynomialFeatures(degree=2, include_bias=True, interaction_only=True)\n    else:\n        poly_features = PolynomialFeatures(degree=1, include_bias=True, interaction_only=False)\n\nX_poly = poly_features.fit_transform(X)\nfeature_names = poly_features.get_feature_names_out([f'X{i+1}' for i in range(n_predictors)])\n\n# 모델 적합\nmodel = LinearRegression()\nmodel.fit(X_poly, y)\n\n# 예측 및 잔차\ny_pred = model.predict(X_poly)\nresiduals = y - y_pred\n\n# 통계량\nr2 = r2_score(y, y_pred)\nn, p = X_poly.shape\nadjusted_r2 = 1 - (1 - r2) * (n - 1) / (n - p - 1)\n\n# ANOVA 분석\nss_total = np.sum((y - np.mean(y)) ** 2)\nss_regression = np.sum((y_pred - np.mean(y)) ** 2)\nss_residual = np.sum(residuals ** 2)\n\ndf_regression = p - 1\ndf_residual = n - p\ndf_total = n - 1\n\nms_regression = ss_regression / df_regression\nms_residual = ss_residual / df_residual\n\nf_statistic = ms_regression / ms_residual\nf_pvalue = 1 - stats.f.cdf(f_statistic, df_regression, df_residual)\n\n# 계수 딕셔너리\ncoefficients = {}\ncoefficients['intercept'] = float(model.intercept_)\nfor i, name in enumerate(feature_names[1:], 1):  # Skip intercept\n    coefficients[name] = float(model.coef_[i])\n\n# 최적화 분석 (2차 모델인 경우에만)\noptimization_result = {\n    'stationary_point': [],\n    'stationary_point_response': 0,\n    'nature': 'not_applicable',\n    'canonical_analysis': {\n        'eigenvalues': []\n    }\n}\n\nif model_type == \"second_order\" or (model_type == \"custom\" and include_quadratic):\n    try:\n        # 2차 모델의 경우 임계점 분석\n        # 단순화된 2변수 케이스 처리\n        if n_predictors == 2:\n            # 계수 추출 (간단한 케이스)\n            b1 = coefficients.get('X1', 0)\n            b2 = coefficients.get('X2', 0)\n            b11 = coefficients.get('X1^2', 0)\n            b22 = coefficients.get('X2^2', 0)\n            b12 = coefficients.get('X1 X2', 0)\n\n            # 헤시안 행렬\n            if abs(b11) > 1e-10 or abs(b22) > 1e-10:\n                H = np.array([[2*b11, b12], [b12, 2*b22]])\n                gradient = np.array([b1, b2])\n\n                try:\n                    stationary_point = -0.5 * np.linalg.solve(H, gradient)\n                    eigenvals = np.linalg.eigvals(H)\n\n                    optimization_result['stationary_point'] = stationary_point.tolist()\n                    optimization_result['canonical_analysis']['eigenvalues'] = eigenvals.tolist()\n\n                    # 임계점 성질 판단\n                    if all(eig < -1e-10 for eig in eigenvals):\n                        nature = 'maximum'\n                    elif all(eig > 1e-10 for eig in eigenvals):\n                        nature = 'minimum'\n                    else:\n                        nature = 'saddle_point'\n\n                    optimization_result['nature'] = nature\n\n                    # 임계점에서의 반응값 계산 (근사)\n                    x1_stat, x2_stat = stationary_point\n                    response_at_stationary = (coefficients['intercept'] +\n                                            b1 * x1_stat + b2 * x2_stat +\n                                            b11 * x1_stat**2 + b22 * x2_stat**2 +\n                                            b12 * x1_stat * x2_stat)\n                    optimization_result['stationary_point_response'] = float(response_at_stationary)\n\n                except np.linalg.LinAlgError:\n                    optimization_result['nature'] = 'singular_matrix'\n\n    except Exception:\n        optimization_result['nature'] = 'analysis_failed'\n\n# 적합도 결여 검정 (간단한 버전)\nlack_of_fit_result = {\n    'lack_of_fit_f': 0.0,\n    'lack_of_fit_p': 1.0,\n    'pure_error_available': False\n}\n\n# ANOVA 테이블\nanova_table = {\n    'source': ['Regression', 'Residual', 'Total'],\n    'df': [int(df_regression), int(df_residual), int(df_total)],\n    'ss': [float(ss_regression), float(ss_residual), float(ss_total)],\n    'ms': [float(ms_regression), float(ms_residual), float(ss_total/df_total)],\n    'f_value': [float(f_statistic), 0.0, 0.0],\n    'p_value': [float(f_pvalue), 0.0, 0.0]\n}\n\n{\n    'model_type': model_type,\n    'coefficients': coefficients,\n    'fitted_values': y_pred.tolist(),\n    'residuals': residuals.tolist(),\n    'r_squared': float(r2),\n    'adjusted_r_squared': float(adjusted_r2),\n    'f_statistic': float(f_statistic),\n    'f_pvalue': float(f_pvalue),\n    'anova_table': anova_table,\n    'optimization': optimization_result,\n    'design_adequacy': lack_of_fit_result\n}\n");e.globals.set("predictor_data",a),e.globals.set("response_data",i),e.globals.set("selectedModel",s),e.globals.set("includeInteraction",n),e.globals.set("includeQuadratic",r);let d=e.runPython(l),o=JSON.parse(d);x(o),u.completeAnalysis&&u.completeAnalysis(o,3)}catch(e){u.setError&&u.setError(e instanceof Error?e.message:"분석 중 오류가 발생했습니다.")}},[s,n,r,c,u]),_=e=>{switch(e){case"maximum":return{label:"최대점",color:"bg-muted text-muted-foreground border"};case"minimum":return{label:"최소점",color:"bg-muted text-muted-foreground border"};case"saddle_point":return{label:"안장점",color:"bg-muted text-muted-foreground border"};default:return{label:"분석 불가",color:"bg-gray-50 text-gray-700 border-gray-200"}}};return(0,t.jsxs)("div",{className:"space-y-6",children:[c&&(0,t.jsx)(j.K,{methodId:"response-surface",data:c.data,onVariablesSelected:f}),m&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-2",children:(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"모델 적합도"})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["R\xb2 = ",m.r_squared.toFixed(4)]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["수정 R\xb2 = ",m.adjusted_r_squared.toFixed(4)]})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-2",children:(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"F-검정"})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsxs)("div",{className:"text-2xl font-bold",children:["F = ",m.f_statistic.toFixed(2)]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:["p-value = ",m.f_pvalue<.001?"< 0.001":m.f_pvalue.toFixed(4)]})]})]}),"not_applicable"!==m.optimization.nature&&(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{className:"pb-2",children:(0,t.jsx)(i.ZB,{className:"text-sm font-medium text-muted-foreground",children:"임계점"})}),(0,t.jsxs)(i.Wu,{children:[(0,t.jsx)(o.E,{className:_(m.optimization.nature).color,children:_(m.optimization.nature).label}),m.optimization.stationary_point.length>0&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["예측 반응값: ",m.optimization.stationary_point_response.toFixed(4)]})]})]})]}),(0,t.jsxs)(d.tU,{defaultValue:"coefficients",className:"space-y-4",children:[(0,t.jsxs)(d.j7,{className:"grid w-full grid-cols-4",children:[(0,t.jsx)(d.Xi,{value:"coefficients",children:"계수"}),(0,t.jsx)(d.Xi,{value:"anova",children:"ANOVA"}),(0,t.jsx)(d.Xi,{value:"optimization",children:"최적화"}),(0,t.jsx)(d.Xi,{value:"diagnostics",children:"진단"})]}),(0,t.jsx)(d.av,{value:"coefficients",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"모델 계수"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"space-y-3",children:Object.entries(m.coefficients).map(e=>{let[s,n]=e;return(0,t.jsxs)("div",{className:"flex justify-between items-center p-3 border rounded-lg",children:[(0,t.jsx)("span",{className:"font-medium",children:s}),(0,t.jsx)("span",{className:"font-mono text-lg",children:n.toFixed(6)})]},s)})})})]})}),(0,t.jsx)(d.av,{value:"anova",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"분산분석표"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"w-full text-sm",children:[(0,t.jsx)("thead",{children:(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("th",{className:"text-left p-2",children:"Source"}),(0,t.jsx)("th",{className:"text-right p-2",children:"DF"}),(0,t.jsx)("th",{className:"text-right p-2",children:"Sum of Squares"}),(0,t.jsx)("th",{className:"text-right p-2",children:"Mean Square"}),(0,t.jsx)("th",{className:"text-right p-2",children:"F Value"}),(0,t.jsx)("th",{className:"text-right p-2",children:"p-value"})]})}),(0,t.jsx)("tbody",{children:m.anova_table.source.map((e,s)=>(0,t.jsxs)("tr",{className:"border-b",children:[(0,t.jsx)("td",{className:"p-2 font-medium",children:e}),(0,t.jsx)("td",{className:"text-right p-2",children:m.anova_table.df[s]}),(0,t.jsx)("td",{className:"text-right p-2",children:m.anova_table.ss[s].toFixed(4)}),(0,t.jsx)("td",{className:"text-right p-2",children:m.anova_table.ms[s].toFixed(4)}),(0,t.jsx)("td",{className:"text-right p-2",children:m.anova_table.f_value[s]>0?m.anova_table.f_value[s].toFixed(4):"-"}),(0,t.jsx)("td",{className:"text-right p-2",children:m.anova_table.p_value[s]>0?m.anova_table.p_value[s]<.001?"< 0.001":m.anova_table.p_value[s].toFixed(4):"-"})]},s))})]})})})]})}),(0,t.jsx)(d.av,{value:"optimization",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"최적화 분석"})}),(0,t.jsx)(i.Wu,{className:"space-y-4",children:"not_applicable"===m.optimization.nature?(0,t.jsxs)(l.Fc,{children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)(l.XL,{children:"2차 항이 필요합니다"}),(0,t.jsx)(l.TN,{children:"최적화 분석을 위해서는 2차 모델 또는 2차 항을 포함한 사용자 정의 모델이 필요합니다."})]}):(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"임계점 분석"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm text-muted-foreground",children:"성질: "}),(0,t.jsx)(o.E,{className:_(m.optimization.nature).color,children:_(m.optimization.nature).label})]}),m.optimization.stationary_point.length>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"임계점 좌표: "}),"(",m.optimization.stationary_point.map(e=>e.toFixed(4)).join(", "),")"]}),(0,t.jsxs)("div",{className:"text-sm",children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"예측 반응값: "}),m.optimization.stationary_point_response.toFixed(4)]})]})]})]}),m.optimization.canonical_analysis.eigenvalues.length>0&&(0,t.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"표준형 분석"}),(0,t.jsxs)("div",{className:"text-sm space-y-1",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"고유값: "}),m.optimization.canonical_analysis.eigenvalues.map(e=>e.toFixed(4)).join(", ")]}),(0,t.jsx)("div",{className:"text-xs text-muted-foreground mt-2",children:"• 모든 고유값이 음수면 최대점, 양수면 최소점, 혼재하면 안장점"})]})]})]})})]})}),(0,t.jsx)(d.av,{value:"diagnostics",children:(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"모델 진단"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"모델 적합도"}),(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"R\xb2: "}),m.r_squared.toFixed(4)," (",(100*m.r_squared).toFixed(1),"% 설명)"]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-muted-foreground",children:"수정 R\xb2: "}),m.adjusted_r_squared.toFixed(4)]})]})]}),(0,t.jsxs)(l.Fc,{children:[(0,t.jsx)(p.A,{className:"h-4 w-4"}),(0,t.jsx)(l.XL,{children:"진단 권장사항"}),(0,t.jsxs)(l.TN,{className:"space-y-2",children:[(0,t.jsx)("div",{children:"• 잔차의 정규성과 등분산성을 확인하세요"}),(0,t.jsx)("div",{children:"• 잔차 플롯에서 패턴이 없어야 합니다"}),(0,t.jsx)("div",{children:"• 이상치와 영향점을 확인하세요"}),(0,t.jsx)("div",{children:"• 실험 설계의 적절성을 검토하세요"})]})]}),(0,t.jsxs)("div",{className:"bg-muted/50 p-4 rounded-lg",children:[(0,t.jsx)("h4",{className:"font-semibold mb-2",children:"모델 선택 지침"}),(0,t.jsxs)("ul",{className:"text-sm space-y-1 text-muted-foreground",children:[(0,t.jsx)("li",{children:"• 1차 모델: 선형 관계만 있는 경우"}),(0,t.jsx)("li",{children:"• 1차+교호작용: 요인간 상호작용이 중요한 경우"}),(0,t.jsx)("li",{children:"• 2차 모델: 최적점 근처에서 곡면 분석 시"}),(0,t.jsx)("li",{children:"• R\xb2 > 0.8 이상 권장, 수정 R\xb2도 고려"})]})]})]})})]})})]})]})]})};function N(){let{state:e,actions:s}=(0,g.Q)({withUploadedData:!0,withError:!0}),{currentStep:n,uploadedData:l,error:d}=e,[o,p]=(0,a.useState)("second_order"),[j,y]=(0,a.useState)(!0),[N,E]=(0,a.useState)(!0),R=(0,a.useCallback)((e,n)=>{let t={data:n,fileName:e.name,columns:n.length>0&&"object"==typeof n[0]&&null!==n[0]?Object.keys(n[0]):[]};s.setUploadedData&&(s.setUploadedData(t),s.setCurrentStep(2))},[s]);return(0,t.jsxs)(_.x,{steps:[{id:"step-1",number:1,title:"방법론 이해",description:"반응표면 분석은 여러 독립변수가 종속변수에 미치는 영향을 다항식으로 모델링하여 최적화를 수행하는 통계 기법입니다.",status:1===n?"current":n>1?"completed":"pending"},{id:"step-2",number:2,title:"데이터 업로드",description:"여러 요인(독립변수)과 해당하는 반응값(종속변수) 데이터를 업로드하세요.",status:2===n?"current":n>2?"completed":"pending"},{id:"step-3",number:3,title:"변수 선택 및 분석",description:"예측변수(요인)들과 반응변수를 선택하고 선택한 모델로 분석을 실행합니다.",status:3===n?"current":n>3?"completed":"pending"}],currentStep:n,title:"반응표면 분석",description:"다변수 최적화를 통해 여러 요인이 반응에 미치는 영향을 분석하고 최적 조건을 찾습니다",children:[1===n&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(x.A,{className:"mr-2 h-5 w-5"}),"언제 사용하나요?"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:"• 다변수 공정 최적화"}),(0,t.jsx)("li",{children:"• 실험계획법 (DOE) 결과 분석"}),(0,t.jsx)("li",{children:"• 제품 품질 개선"}),(0,t.jsx)("li",{children:"• 최적 조건 탐색"})]})})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsxs)(i.ZB,{className:"flex items-center",children:[(0,t.jsx)(f.A,{className:"mr-2 h-5 w-5"}),"주요 특징"]})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("ul",{className:"space-y-2",children:[(0,t.jsx)("li",{children:"• 다항 회귀 모델링"}),(0,t.jsx)("li",{children:"• 임계점 및 최적점 분석"}),(0,t.jsx)("li",{children:"• 교호작용 효과 평가"}),(0,t.jsx)("li",{children:"• 3D 반응표면 시각화"})]})})]})]}),(0,t.jsxs)(i.Zp,{children:[(0,t.jsx)(i.aR,{children:(0,t.jsx)(i.ZB,{children:"모델 선택"})}),(0,t.jsx)(i.Wu,{children:(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(c.J,{className:"text-base font-medium",children:"반응표면 모델"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"실험 단계와 데이터 특성에 따라 적절한 모델을 선택하세요."})]}),(0,t.jsx)(u.z,{value:o,onValueChange:p,className:"space-y-3",children:Object.entries(b).map(e=>{let[s,n]=e;return(0,t.jsxs)("div",{className:"flex items-start space-x-3 p-3 border rounded-lg",children:[(0,t.jsx)(u.C,{value:s,id:s,className:"mt-1"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)(c.J,{htmlFor:s,className:"font-medium cursor-pointer",children:n.name}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:n.description}),(0,t.jsx)("p",{className:"text-xs font-mono bg-muted/50 p-1 rounded",children:n.equation}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground",children:["적용: ",n.applications]})]})]},s)})}),"custom"===o&&(0,t.jsxs)(i.Zp,{className:"bg-muted/20",children:[(0,t.jsx)(i.aR,{className:"pb-2",children:(0,t.jsx)(i.ZB,{className:"text-sm",children:"사용자 정의 옵션"})}),(0,t.jsxs)(i.Wu,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.S,{id:"interaction",checked:j,onCheckedChange:e=>y(!0===e)}),(0,t.jsx)(c.J,{htmlFor:"interaction",className:"text-sm",children:"교호작용 항 포함 (Xi \xd7 Xj)"})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(m.S,{id:"quadratic",checked:N,onCheckedChange:e=>E(!0===e)}),(0,t.jsx)(c.J,{htmlFor:"quadratic",className:"text-sm",children:"2차 항 포함 (Xi\xb2)"})]})]})]})]})})]}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(r.$,{onClick:()=>s.setCurrentStep(2),size:"lg",children:"데이터 업로드하기"})})]}),2===n&&(0,t.jsx)(h.DataUploadStep,{onUploadComplete:R,onPrevious:()=>s.setCurrentStep(1)}),3===n&&(0,t.jsx)(v,{selectedModel:o,includeInteraction:j,includeQuadratic:N,uploadedData:l,actions:{setError:s.setError||null,startAnalysis:s.startAnalysis||null,completeAnalysis:s.completeAnalysis||null}})]})}},84916:(e,s,n)=>{"use strict";n.d(s,{S:()=>l});var t=n(95155);n(12115);var a=n(38162),i=n(5917),r=n(25016);function l(e){let{className:s,...n}=e;return(0,t.jsx)(a.bL,{"data-slot":"checkbox",className:(0,r.cn)("peer border-input dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",s),...n,children:(0,t.jsx)(a.C1,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:(0,t.jsx)(i.A,{className:"size-3.5"})})})}},90235:(e,s,n)=>{"use strict";n.d(s,{J:()=>r});var t=n(95155);n(12115);var a=n(10489),i=n(25016);function r(e){let{className:s,...n}=e;return(0,t.jsx)(a.b,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...n})}},90923:(e,s,n)=>{"use strict";n.d(s,{Xi:()=>d,av:()=>o,j7:()=>l,tU:()=>r});var t=n(95155);n(12115);var a=n(25667),i=n(25016);function r(e){let{className:s,...n}=e;return(0,t.jsx)(a.bL,{"data-slot":"tabs",className:(0,i.cn)("flex flex-col gap-2",s),...n})}function l(e){let{className:s,...n}=e;return(0,t.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,i.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...n})}function d(e){let{className:s,...n}=e;return(0,t.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,i.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n})}function o(e){let{className:s,...n}=e;return(0,t.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,i.cn)("flex-1 outline-none",s),...n})}}},e=>{e.O(0,[3524,4909,4120,660,6093,1204,5077,8720,2320,1286,1011,1410,3336,6724,6257,7742,8441,1255,7358],()=>e(e.s=29951)),_N_E=e.O()}]);