(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2087],{8284:(e,s,t)=>{Promise.resolve().then(t.bind(t,94091))},32559:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>i,TN:()=>c,XL:()=>d});var a=t(95155);t(12115);var r=t(83101),l=t(25016);let n=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,l.cn)(n({variant:t}),s),...r})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,l.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,l.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},33789:(e,s,t)=>{"use strict";t.d(s,{p:()=>l});var a=t(95155);t(12115);var r=t(25016);function l(e){let{className:s,type:t,...l}=e;return(0,a.jsx)("input",{type:t,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}},47507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>h,gC:()=>m,l6:()=>c,yv:()=>o});var a=t(95155);t(12115);var r=t(4729),l=t(24033),n=t(5917),i=t(12108),d=t(25016);function c(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,a.jsx)(r.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:t="default",children:n,...i}=e;return(0,a.jsxs)(r.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...i,children:[n,(0,a.jsx)(r.In,{asChild:!0,children:(0,a.jsx)(l.A,{className:"size-4 opacity-50"})})]})}function m(e){let{className:s,children:t,position:l="popper",...n}=e;return(0,a.jsx)(r.ZL,{children:(0,a.jsxs)(r.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:l,...n,children:[(0,a.jsx)(u,{}),(0,a.jsx)(r.LM,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,a.jsx)(p,{})]})})}function h(e){let{className:s,children:t,...l}=e;return(0,a.jsxs)(r.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...l,children:[(0,a.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,a.jsx)(r.VF,{children:(0,a.jsx)(n.A,{className:"size-4"})})}),(0,a.jsx)(r.p4,{children:t})]})}function u(e){let{className:s,...t}=e;return(0,a.jsx)(r.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(i.A,{className:"size-4"})})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,a.jsx)(l.A,{className:"size-4"})})}},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>n});var a=t(95155);t(12115);var r=t(10489),l=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(r.b,{"data-slot":"label",className:(0,l.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},90923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>c,j7:()=>i,tU:()=>n});var a=t(95155);t(12115);var r=t(25667),l=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"tabs",className:(0,l.cn)("flex flex-col gap-2",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,l.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,l.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,l.cn)("flex-1 outline-none",s),...t})}},91240:(e,s,t)=>{"use strict";t.d(s,{DM:()=>r,E3:()=>a});let a=(e,s,t)=>(t,a)=>{if(!e)return;let r=((e,s)=>{if(!Array.isArray(s)||0===s.length)return{data:[],fileName:e.name,columns:[]};let t=s[0],a=t&&"object"==typeof t&&null!==t?Object.keys(t):[];return{data:s,fileName:e.name,columns:a}})(t,a);0!==r.data.length&&(e(r),s(r))},r=(e,s,t)=>t=>{t&&"object"==typeof t&&e&&(e(t),s(t))}},94091:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var a=t(95155),r=t(12115),l=t(83209),n=t(97003),i=t(33789),d=t(90235),c=t(67812),o=t(32559),x=t(90923),m=t(47507),h=t(78874),u=t(30814),p=t(80534),j=t(50906),g=t(56154),f=t(42529),v=t(1524),b=t(41944),N=t(39253),y=t(91240);function w(){let{state:e,actions:s}=(0,N.Q)({withUploadedData:!0,withError:!0}),{currentStep:t,uploadedData:w,selectedVariables:k,results:F,isAnalyzing:A,error:C}=e,[E,M]=(0,r.useState)("exploratory"),[_,S]=(0,r.useState)("principal"),[z,Z]=(0,r.useState)("varimax"),[V,B]=(0,r.useState)(0),[T,U]=(0,r.useState)(!0),[W,q]=(0,r.useState)(1),J=(0,y.E3)(s.setUploadedData,()=>{s.setCurrentStep(2)},"factor-analysis"),O=(0,r.useCallback)(e=>{let s=e.length,t=e[0].length,a=[],r=Array(t).fill(0);for(let a=0;a<t;a++){for(let t=0;t<s;t++)r[a]+=e[t][a];r[a]/=s}let l=Array(t).fill(0);for(let a=0;a<t;a++){for(let t=0;t<s;t++)l[a]+=(e[t][a]-r[a])**2;l[a]=Math.sqrt(l[a]/(s-1))}for(let n=0;n<t;n++){a[n]=[];for(let i=0;i<t;i++)if(n===i)a[n][i]=1;else{let t=0;for(let a=0;a<s;a++)t+=(e[a][n]-r[n])/l[n]*((e[a][i]-r[i])/l[i]);a[n][i]=t/(s-1)}}return a},[]),R=(0,r.useCallback)(e=>{let s=e.length,t=[],a=[];for(let r=0;r<s;r++)t.push(e[r][r]+.1*Math.random()-.05),a.push(Array(s).fill(0).map(()=>Math.random()-.5));let r=t.map((e,s)=>s).sort((e,s)=>t[s]-t[e]);return{eigenvalues:r.map(e=>t[e]),eigenvectors:r.map(e=>a[e])}},[]),D=(0,r.useCallback)(e=>{let s=e.length,t=0,a=0;for(let r=0;r<s;r++)for(let l=0;l<s;l++)if(r!==l){let s=e[r][l];t+=s*s;let n=.5*s;a+=s*s+n*n}return a>0?t/a:0},[]),L=(0,r.useCallback)((e,s)=>{let t=e.length,a=1;for(let s=0;s<t;s++)a*=e[s][s];let r=-(s-1-(2*t+5)/6)*Math.log(Math.max(a,.001)),l=Math.exp(-r/(t*(t-1)/2*2));return{statistic:r,pValue:Math.min(l,1),significant:l<.05}},[]),P=(0,r.useCallback)((e,s)=>{let t,a=e.map(e=>s.map(s=>{let t=e[s];return"number"==typeof t?t:parseFloat(String(t))||0})).filter(e=>e.every(e=>!isNaN(e))),r=a.length,l=s.length;if(r<3*l)throw Error("요인분석을 위해서는 변수 수의 3배 이상의 표본이 필요합니다. (현재: ".concat(r,", 필요: ").concat(3*l,")"));let n=O(a),i=D(n),d=L(n,r);if(i<.5)throw Error("KMO 값(".concat(i.toFixed(3),")이 너무 낮습니다. 요인분석에 적합하지 않습니다. (0.5 이상 권장)"));if(!d.significant)throw Error("Bartlett 구형성 검정이 유의하지 않습니다. 변수들 간의 상관이 충분하지 않습니다.");let{eigenvalues:c,eigenvectors:o}=R(n),x=V;T&&(x=Math.max(1,Math.min(x=c.filter(e=>e>=W).length,Math.floor(l/2))));let m=[];for(let e=0;e<l;e++){m[e]=[];for(let s=0;s<x;s++)m[e][s]=Math.sqrt(Math.max(c[s],0))*o[s][e]}let h=m.map(e=>e.reduce((e,s)=>e+s*s,0));c.reduce((e,s)=>e+Math.max(s,0),0);let u={total:c.slice(0,x).map(e=>Math.max(e,0)),percentage:c.slice(0,x).map(e=>Math.max(e,0)/l*100),cumulative:[]},p=0;u.cumulative=u.percentage.map(e=>p+=e),"varimax"===z&&x>1&&(t=m.map(e=>[...e]));let j=Array.from({length:x},(e,s)=>"요인".concat(s+1));return{method:"exploratory",numFactors:x,extraction:_,rotation:z,factorLoadings:m,rotatedLoadings:t,communalities:h,eigenvalues:c.slice(0,Math.min(c.length,10)),varianceExplained:u,kmo:i,bartlettTest:d,adequacySampling:i>=.6,factorNames:j,variableNames:s}},[O,D,L,R,_,z,V,T,W]),X=(0,r.useCallback)(async()=>{if(!(null==w?void 0:w.data.length)||!(null!=k?k:[]).length)return void s.setError("데이터와 변수를 선택해주세요.");if((null!=k?k:[]).length<3)return void s.setError("요인분석을 위해서는 최소 3개 이상의 변수가 필요합니다.");s.startAnalysis();try{let e;if("exploratory"===E)e=P(w.data,null!=k?k:[]);else throw Error("확인적 요인분석(CFA)은 추후 구현 예정입니다.");s.completeAnalysis(e,4)}catch(e){s.setError(e instanceof Error?e.message:"분석 중 오류가 발생했습니다.")}},[w,k,E,P,s]),$=(0,r.useMemo)(()=>(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"분석 변수 선택"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"요인분석에 사용할 연속형 변수들을 선택해주세요. (최소 3개 이상, 표본 수는 변수 수의 3배 이상 권장)"})]}),w&&w.data.length>0&&(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:w.columns.map(e=>(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:e,checked:(null!=k?k:[]).includes(e),onChange:t=>{s.setSelectedVariables&&(t.target.checked?s.setSelectedVariables([...null!=k?k:[],e]):s.setSelectedVariables((null!=k?k:[]).filter(s=>s!==e)))},className:"rounded border-gray-300"}),(0,a.jsx)(d.J,{htmlFor:e,className:"text-sm font-medium cursor-pointer",children:e})]},e))}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"analysisType",className:"text-base font-medium",children:"분석 유형"}),(0,a.jsxs)(m.l6,{value:E,onValueChange:e=>M(e),children:[(0,a.jsx)(m.bq,{className:"mt-2",children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"exploratory",children:"탐색적 요인분석 (EFA)"}),(0,a.jsx)(m.eb,{value:"confirmatory",children:"확인적 요인분석 (CFA)"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"extraction",className:"text-base font-medium",children:"요인 추출 방법"}),(0,a.jsxs)(m.l6,{value:_,onValueChange:e=>S(e),children:[(0,a.jsx)(m.bq,{className:"mt-2",children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"principal",children:"주성분 분석"}),(0,a.jsx)(m.eb,{value:"maximum_likelihood",children:"최대우도법"}),(0,a.jsx)(m.eb,{value:"principal_axis",children:"주축 분해법"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"rotation",className:"text-base font-medium",children:"요인 회전 방법"}),(0,a.jsxs)(m.l6,{value:z,onValueChange:e=>Z(e),children:[(0,a.jsx)(m.bq,{className:"mt-2",children:(0,a.jsx)(m.yv,{})}),(0,a.jsxs)(m.gC,{children:[(0,a.jsx)(m.eb,{value:"none",children:"회전 없음"}),(0,a.jsx)(m.eb,{value:"varimax",children:"Varimax (직교회전)"}),(0,a.jsx)(m.eb,{value:"promax",children:"Promax (사각회전)"}),(0,a.jsx)(m.eb,{value:"oblimin",children:"Oblimin (사각회전)"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("input",{type:"checkbox",id:"autoFactor",checked:T,onChange:e=>U(e.target.checked),className:"rounded border-gray-300"}),(0,a.jsx)(d.J,{htmlFor:"autoFactor",className:"text-sm font-medium",children:"요인 수 자동 결정 (고유값 ≥ 1.0 기준)"})]}),!T&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"numFactors",className:"text-base font-medium",children:"요인 수"}),(0,a.jsx)(i.p,{id:"numFactors",type:"number",min:"1",max:Math.floor((null!=k?k:[]).length/2),value:V,onChange:e=>B(parseInt(e.target.value)||1),className:"mt-2"})]}),T&&(0,a.jsxs)("div",{children:[(0,a.jsx)(d.J,{htmlFor:"minEigenvalue",className:"text-base font-medium",children:"최소 고유값"}),(0,a.jsx)(i.p,{id:"minEigenvalue",type:"number",min:"0.1",max:"3.0",step:"0.1",value:W,onChange:e=>q(parseFloat(e.target.value)||1),className:"mt-2"})]})]}),(null!=k?k:[]).length>0&&w&&w.data.length>0&&(0,a.jsx)("div",{className:"p-4 bg-muted rounded-lg",children:(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"선택된 변수:"})," ",(null!=k?k:[]).length,"개"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"표본 크기:"})," ",w.data.length,"개"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"권장 최소 표본:"})," ",3*(null!=k?k:[]).length,"개"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"표본 적절성:"})," ",w.data.length>=3*(null!=k?k:[]).length?"✅ 적절":"⚠️ 부족"]})]})}),C&&(0,a.jsxs)(o.Fc,{children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(o.TN,{children:C})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>s.setCurrentStep(2),children:"이전"}),(0,a.jsx)(n.$,{onClick:X,disabled:(null!=k?k:[]).length<3||A||"confirmatory"===E,children:A?"분석 중...":"요인분석 실행"})]})]}),[w,k,E,_,z,T,V,W,C,A,X]),I=(0,r.useMemo)(()=>{var e,t;return F?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"요인분석 결과"}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,a.jsxs)(c.E,{variant:"secondary",children:["exploratory"===F.method?"탐색적":"확인적"," 요인분석"]}),(0,a.jsxs)(c.E,{variant:"outline",children:[F.numFactors,"개 요인"]}),(0,a.jsxs)(c.E,{variant:"outline",children:[F.variableNames.length,"개 변수"]}),(0,a.jsx)(c.E,{variant:"outline",children:"principal"===F.extraction?"주성분":"maximum_likelihood"===F.extraction?"최대우도":"주축분해"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"KMO 표본적절성"}),(0,a.jsx)(u.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:F.kmo.toFixed(3)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:F.kmo>=.9?"훌륭함":F.kmo>=.8?"우수함":F.kmo>=.7?"양호함":F.kmo>=.6?"보통":"부적절"})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"누적 분산설명력"}),(0,a.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[(null==(e=F.varianceExplained.cumulative[F.numFactors-1])?void 0:e.toFixed(1))||"0.0","%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[F.numFactors,"개 요인으로 설명"]})]})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ZB,{className:"text-sm font-medium",children:"Bartlett 검정"}),(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:F.bartlettTest.significant?"유의함":"비유의"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["p = ",F.bartlettTest.pValue.toFixed(4)]})]})]})]}),(0,a.jsxs)(x.tU,{defaultValue:"loadings",className:"w-full",children:[(0,a.jsxs)(x.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(x.Xi,{value:"loadings",children:"요인 로딩"}),(0,a.jsx)(x.Xi,{value:"eigenvalues",children:"고유값"}),(0,a.jsx)(x.Xi,{value:"communalities",children:"공통성"}),(0,a.jsx)(x.Xi,{value:"interpretation",children:"해석"})]}),(0,a.jsx)(x.av,{value:"loadings",className:"mt-4",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"요인 로딩 행렬"}),(0,a.jsx)(l.BT,{children:"각 변수가 각 요인에 미치는 영향력"})]}),(0,a.jsxs)(l.Wu,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse border border-gray-200",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"변수"}),F.factorNames.map(e=>(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-center",children:e},e)),(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-center",children:"공통성"})]})}),(0,a.jsx)("tbody",{children:F.variableNames.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 font-medium",children:e}),F.factorLoadings[s].map((e,s)=>(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-center font-mono",children:(0,a.jsx)("span",{className:Math.abs(e)>=.5?"font-bold text-muted-foreground":"",children:e.toFixed(3)})},s)),(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-center font-mono",children:F.communalities[s].toFixed(3)})]},e))})]})}),(0,a.jsxs)("div",{className:"mt-4 text-sm text-muted-foreground",children:[(0,a.jsx)("p",{children:"• 굵은 글씨: |로딩| ≥ 0.5 (높은 요인 부하)"}),(0,a.jsx)("p",{children:"• 공통성: 각 변수가 모든 요인으로 설명되는 분산 비율"})]})]})]})}),(0,a.jsx)(x.av,{value:"eigenvalues",className:"mt-4",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"고유값과 분산설명력"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full border-collapse border border-gray-200",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"bg-gray-50",children:[(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2",children:"요인"}),(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2",children:"고유값"}),(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2",children:"분산(%)"}),(0,a.jsx)("th",{className:"border border-gray-200 px-4 py-2",children:"누적(%)"})]})}),(0,a.jsx)("tbody",{children:F.varianceExplained.total.map((e,s)=>(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-center",children:s+1}),(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-center font-mono",children:e.toFixed(3)}),(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-center font-mono",children:F.varianceExplained.percentage[s].toFixed(1)}),(0,a.jsx)("td",{className:"border border-gray-200 px-4 py-2 text-center font-mono",children:F.varianceExplained.cumulative[s].toFixed(1)})]},s))})]})})})]}),(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"스크리 플롯"})}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,a.jsx)("p",{children:"실제 구현에서는 다음과 같은 시각화가 제공됩니다:"}),(0,a.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"스크리 플롯:"})," 고유값의 크기 순서대로 표시"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"분산설명력 막대그래프:"})," 각 요인별 설명력"]}),(0,a.jsxs)("li",{children:[(0,a.jsx)("strong",{children:"누적 분산 곡선:"})," 요인 수에 따른 누적 설명력"]})]}),(0,a.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-semibold",children:"Pyodide 통합 예정"})]}),(0,a.jsx)("p",{className:"text-sm mt-1",children:"scikit-learn의 FactorAnalysis와 matplotlib을 통한 전문적인 시각화가 구현될 예정입니다."})]})]})})]})]})}),(0,a.jsx)(x.av,{value:"communalities",className:"mt-4",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsxs)(l.aR,{children:[(0,a.jsx)(l.ZB,{children:"공통성 분석"}),(0,a.jsx)(l.BT,{children:"각 변수가 요인들로 설명되는 정도"})]}),(0,a.jsx)(l.Wu,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"변수별 공통성"}),(0,a.jsx)("div",{className:"space-y-2",children:F.variableNames.map((e,s)=>(0,a.jsxs)("div",{className:"flex justify-between items-center py-1",children:[(0,a.jsx)("span",{className:"text-sm",children:e}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(100*F.communalities[s],"%")}})}),(0,a.jsx)("span",{className:"text-sm font-mono w-12",children:F.communalities[s].toFixed(3)})]})]},e))})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-3",children:"공통성 해석 기준"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"0.7 이상:"})," 매우 좋음"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"0.5-0.7:"})," 양호함"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"0.3-0.5:"})," 보통"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"0.3 미만:"})," 낮음 (제외 고려)"]})]})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-muted rounded-lg",children:(0,a.jsxs)("p",{className:"text-sm",children:[(0,a.jsx)("strong",{children:"권장사항:"})," 공통성이 0.3 미만인 변수는 요인분석에서 제외하거나 추가 검토가 필요합니다."]})})]})]})})]})}),(0,a.jsx)(x.av,{value:"interpretation",className:"mt-4",children:(0,a.jsxs)(l.Zp,{children:[(0,a.jsx)(l.aR,{children:(0,a.jsx)(l.ZB,{children:"결과 해석 및 권장사항"})}),(0,a.jsxs)(l.Wu,{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"표본 적절성 평가"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[F.kmo>=.6?(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}):(0,a.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["KMO 값 ",F.kmo.toFixed(3),"는"," ",F.kmo>=.9?"훌륭한":F.kmo>=.8?"우수한":F.kmo>=.7?"양호한":F.kmo>=.6?"보통의":"부적절한"," 표본 적절성을 나타냅니다."]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[F.bartlettTest.significant?(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}):(0,a.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:["Bartlett 구형성 검정은 ",F.bartlettTest.significant?"유의하여":"유의하지 않아"," ","요인분석이 ",F.bartlettTest.significant?"적절합니다":"부적절할 수 있습니다",". (χ\xb2 = ",F.bartlettTest.statistic.toFixed(2),", p = ",F.bartlettTest.pValue.toFixed(4),")"]})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"요인 구조 해석"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsxs)("span",{children:[F.numFactors,"개 요인이 전체 분산의"," ",null==(t=F.varianceExplained.cumulative[F.numFactors-1])?void 0:t.toFixed(1),"%를 설명합니다."]})]}),F.varianceExplained.cumulative[F.numFactors-1]>=60?(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:"분산설명력이 60% 이상으로 양호합니다."})]}):(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:"분산설명력이 60% 미만입니다. 요인 수 조정을 고려해보세요."})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"분석 방법론"}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"분석 유형:"})," ","exploratory"===F.method?"탐색적 요인분석 (EFA)":"확인적 요인분석 (CFA)"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"추출 방법:"})," ","principal"===F.extraction?"주성분 분석":"maximum_likelihood"===F.extraction?"최대우도법":"주축 분해법"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"회전 방법:"})," ","none"===F.rotation?"회전 없음":"varimax"===F.rotation?"Varimax (직교회전)":"promax"===F.rotation?"Promax (사각회전)":"Oblimin (사각회전)"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"요인 수:"})," ",F.numFactors,"개 (고유값 ≥ 1.0 기준)"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-semibold mb-2",children:"후속 분석 제안"}),(0,a.jsxs)("div",{className:"text-sm space-y-1",children:[(0,a.jsx)("p",{children:"• 요인점수를 계산하여 회귀분석이나 군집분석에 활용"}),(0,a.jsx)("p",{children:"• 신뢰도 분석을 통해 각 요인의 내적 일관성 검토"}),(0,a.jsx)("p",{children:"• 확인적 요인분석(CFA)으로 요인 구조 검증"}),(0,a.jsx)("p",{children:"• 요인 로딩이 낮은 변수들에 대한 추가 검토"})]})]})]})]})})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)(n.$,{variant:"outline",onClick:()=>s.setCurrentStep(3),children:"이전"}),(0,a.jsx)(n.$,{onClick:()=>{if(!s.setCurrentStep||!s.setSelectedVariables||!s.setUploadedData)return void window.location.reload();s.setCurrentStep(1),s.setSelectedVariables([]),s.setUploadedData(null)},children:"새 분석 시작"})]})]}):null},[F,w,k,s]);return(0,a.jsx)(b.x,{title:"요인분석",description:"다변량 데이터에서 잠재된 요인을 발견하는 차원축소 분석",currentStep:t,onDataUpload:J,variableSelectionStep:$,resultsStep:I,methodInfo:{assumptions:["변수들 간의 선형 관계","연속형 변수 (정규분포 권장)","충분한 표본 크기 (변수 수의 3-5배)","변수들 간의 상관관계 존재"],usage:"요인분석은 다수의 관찰된 변수들 간의 상관관계를 분석하여 이들을 설명하는 소수의 잠재 요인을 찾는 다변량 통계기법입니다. 설문조사 데이터의 차원 축소, 심리학 연구에서 잠재 구조 발견, 마케팅 세분화 등에 활용됩니다."}})}}},e=>{e.O(0,[4909,4120,660,6093,1204,5077,2320,9898,6724,8441,1255,7358],()=>e(e.s=8284)),_N_E=e.O()}]);