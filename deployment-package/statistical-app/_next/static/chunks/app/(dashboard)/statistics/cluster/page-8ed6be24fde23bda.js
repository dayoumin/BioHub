(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4525],{32559:(e,s,t)=>{"use strict";t.d(s,{Fc:()=>n,TN:()=>c,XL:()=>d});var l=t(95155);t(12115);var a=t(83101),r=t(25016);let i=(0,a.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function n(e){let{className:s,variant:t,...a}=e;return(0,l.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(i({variant:t}),s),...a})}function d(e){let{className:s,...t}=e;return(0,l.jsx)("div",{"data-slot":"alert-title",className:(0,r.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",s),...t})}function c(e){let{className:s,...t}=e;return(0,l.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},33789:(e,s,t)=>{"use strict";t.d(s,{p:()=>r});var l=t(95155);t(12115);var a=t(25016);function r(e){let{className:s,type:t,...r}=e;return(0,l.jsx)("input",{type:t,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...r})}},47507:(e,s,t)=>{"use strict";t.d(s,{bq:()=>x,eb:()=>h,gC:()=>u,l6:()=>c,yv:()=>o});var l=t(95155);t(12115);var a=t(4729),r=t(24033),i=t(5917),n=t(12108),d=t(25016);function c(e){let{...s}=e;return(0,l.jsx)(a.bL,{"data-slot":"select",...s})}function o(e){let{...s}=e;return(0,l.jsx)(a.WT,{"data-slot":"select-value",...s})}function x(e){let{className:s,size:t="default",children:i,...n}=e;return(0,l.jsxs)(a.l9,{"data-slot":"select-trigger","data-size":t,className:(0,d.cn)("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...n,children:[i,(0,l.jsx)(a.In,{asChild:!0,children:(0,l.jsx)(r.A,{className:"size-4 opacity-50"})})]})}function u(e){let{className:s,children:t,position:r="popper",...i}=e;return(0,l.jsx)(a.ZL,{children:(0,l.jsxs)(a.UC,{"data-slot":"select-content",className:(0,d.cn)("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md","popper"===r&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...i,children:[(0,l.jsx)(m,{}),(0,l.jsx)(a.LM,{className:(0,d.cn)("p-1","popper"===r&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),(0,l.jsx)(j,{})]})})}function h(e){let{className:s,children:t,...r}=e;return(0,l.jsxs)(a.q7,{"data-slot":"select-item",className:(0,d.cn)("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",s),...r,children:[(0,l.jsx)("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:(0,l.jsx)(a.VF,{children:(0,l.jsx)(i.A,{className:"size-4"})})}),(0,l.jsx)(a.p4,{children:t})]})}function m(e){let{className:s,...t}=e;return(0,l.jsx)(a.PP,{"data-slot":"select-scroll-up-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,l.jsx)(n.A,{className:"size-4"})})}function j(e){let{className:s,...t}=e;return(0,l.jsx)(a.wn,{"data-slot":"select-scroll-down-button",className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...t,children:(0,l.jsx)(r.A,{className:"size-4"})})}},90235:(e,s,t)=>{"use strict";t.d(s,{J:()=>i});var l=t(95155);t(12115);var a=t(10489),r=t(25016);function i(e){let{className:s,...t}=e;return(0,l.jsx)(a.b,{"data-slot":"label",className:(0,r.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...t})}},90923:(e,s,t)=>{"use strict";t.d(s,{Xi:()=>d,av:()=>c,j7:()=>n,tU:()=>i});var l=t(95155);t(12115);var a=t(25667),r=t(25016);function i(e){let{className:s,...t}=e;return(0,l.jsx)(a.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...t})}function n(e){let{className:s,...t}=e;return(0,l.jsx)(a.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function d(e){let{className:s,...t}=e;return(0,l.jsx)(a.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function c(e){let{className:s,...t}=e;return(0,l.jsx)(a.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...t})}},91240:(e,s,t)=>{"use strict";t.d(s,{DM:()=>a,E3:()=>l});let l=(e,s,t)=>(t,l)=>{if(!e)return;let a=((e,s)=>{if(!Array.isArray(s)||0===s.length)return{data:[],fileName:e.name,columns:[]};let t=s[0],l=t&&"object"==typeof t&&null!==t?Object.keys(t):[];return{data:s,fileName:e.name,columns:l}})(t,l);0!==a.data.length&&(e(a),s(a))},a=(e,s,t)=>t=>{t&&"object"==typeof t&&e&&(e(t),s(t))}},92002:(e,s,t)=>{Promise.resolve().then(t.bind(t,93553))},93553:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var l=t(95155),a=t(12115),r=t(83209),i=t(97003),n=t(33789),d=t(90235),c=t(67812),o=t(32559),x=t(90923),u=t(47507),h=t(78874),m=t(30814),j=t(80534),p=t(50906),f=t(42529),g=t(91169),v=t(56154),b=t(41944),N=t(39253),y=t(91240);function w(){let{state:e,actions:s}=(0,N.Q)({withUploadedData:!0,withError:!0}),{currentStep:t,uploadedData:w,selectedVariables:S,results:k,isAnalyzing:C,error:_}=e,[z,F]=(0,a.useState)("kmeans"),[A,Z]=(0,a.useState)(3),[M,B]=(0,a.useState)(!0),[E,W]=(0,a.useState)("ward"),[K,V]=(0,a.useState)("euclidean"),q=(0,y.E3)(s.setUploadedData,()=>{s.setCurrentStep(2)},"cluster"),R=(0,a.useCallback)((e,s)=>Math.sqrt(e.reduce((e,t,l)=>e+(t-s[l])**2,0)),[]),D=(0,a.useCallback)((e,s,t)=>{if(t<=1)return 0;let l=0,a=e.length;for(let r=0;r<a;r++){let a=s[r],i=e.filter((e,t)=>s[t]===a&&t!==r),n=i.length>0?i.reduce((s,t)=>s+R(e[r],t),0)/i.length:0,d=1/0;for(let l=0;l<t;l++)if(l!==a){let t=e.filter((e,t)=>s[t]===l);t.length>0&&(d=Math.min(d,t.reduce((s,t)=>s+R(e[r],t),0)/t.length))}let c=d;l+=(c-n)/Math.max(n,c)}return l/a},[R]),J=(0,a.useCallback)((e,s,t)=>{let l=e.length,a=0;for(let r=0;r<l;r++){let i=0,n=Math.sqrt(s[r]/t[r]);for(let a=0;a<l;a++)if(r!==a){let l=Math.sqrt(s[a]/t[a]),d=R(e[r],e[a]);d>0&&(i=Math.max(i,(n+l)/d))}a+=i}return a/l},[R]),U=(0,a.useCallback)((e,s,t)=>{let l=e.map(e=>s.map(s=>{let t=e[s];return"number"==typeof t?t:parseFloat(String(t))||0})).filter(e=>e.every(e=>!isNaN(e)));if(l.length<t)throw Error("데이터 개수(".concat(l.length,")가 군집 수(").concat(t,")보다 적습니다."));let a=l.length,r=s.length,i=[],n=Array(a).fill(1/0);i.push([...l[Math.floor(Math.random()*a)]]);for(let e=1;e<t;e++){let e=0;for(let s=0;s<a;s++){let t=1/0;for(let e=0;e<i.length;e++)t=Math.min(t,R(l[s],i[e]));n[s]=t*t,e+=n[s]}let s=Math.random()*e,t=0;for(let e=0;e<a;e++)if((t+=n[e])>=s){i.push([...l[e]]);break}}let d=Array(a),c=!1,o=0;for(;!c&&o<100;){c=!0,o++;for(let e=0;e<a;e++){let s=1/0,a=0;for(let r=0;r<t;r++){let t=R(l[e],i[r]);t<s&&(s=t,a=r)}d[e]!==a&&(c=!1,d[e]=a)}for(let e=0;e<t;e++){let s=l.filter((s,t)=>d[t]===e);if(s.length>0)for(let t=0;t<r;t++)i[e][t]=s.reduce((e,s)=>e+s[t],0)/s.length}}let x=Array(t).fill(0),u=Array(t).fill(0);for(let e=0;e<a;e++){let s=d[e];x[s]++,u[s]+=R(l[e],i[s])**2}let h=u.reduce((e,s)=>e+s,0),m=Array(r).fill(0);for(let e=0;e<r;e++)m[e]=l.reduce((s,t)=>s+t[e],0)/a;let j=l.reduce((e,s)=>e+R(s,m)**2,0),p=j-h,f=D(l,d,t),g=(a-t)*p/((t-1)*h),v=J(i,u,x),b=i.map((e,s)=>({cluster:s+1,size:x[s],centroid:e,withinSS:u[s],avgSilhouette:f}));return{method:"kmeans",numClusters:t,clusterAssignments:d,centroids:i,inertia:h,silhouetteScore:f,calinski_harabasz_score:g,davies_bouldin_score:v,withinClusterSumSquares:u,totalWithinSS:h,betweenClusterSS:p,totalSS:j,clusterSizes:x,clusterStatistics:b}},[R,D,J]),X=(0,a.useCallback)((e,s)=>{let t=Math.min(10,Math.floor(e.map(e=>s.map(s=>{let t=e[s];return"number"==typeof t?t:parseFloat(String(t))||0})).filter(e=>e.every(e=>!isNaN(e))).length/2)),l=[],a=[];for(let r=1;r<=t;r++)try{let t=U(e,s,r);l.push(t.totalWithinSS),a.push(t.silhouetteScore)}catch(e){break}let r=2,i=0;for(let e=1;e<l.length-1;e++){let s=l[e-1]-l[e]-(l[e]-l[e+1]);s>i&&(i=s,r=e+1)}let n=2,d=-1;for(let e=1;e<a.length;e++)a[e]>d&&(d=a[e],n=e+1);return{elbow:r,silhouette:n}},[U]),L=(0,a.useCallback)(async()=>{if(!(null==w?void 0:w.data.length)||!(null!=S?S:[]).length)return void s.setError("데이터와 변수를 선택해주세요.");s.startAnalysis();try{let e=A;if(!S)return void s.setError("변수를 선택해주세요.");M&&(e=X(w.data,S).silhouette);let t=U(w.data,S,e);if(M){let e=X(w.data,S);t.optimalK={...e,gap:e.elbow}}s.completeAnalysis(t,4)}catch(e){s.setError(e instanceof Error?e.message:"분석 중 오류가 발생했습니다.")}},[w,S,A,M,X,U,s]),O=(0,a.useMemo)(()=>(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"분석 변수 선택"}),(0,l.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"군집분석에 사용할 연속형 변수들을 선택해주세요. (최소 2개 이상)"})]}),(null==w?void 0:w.data.length)&&(0,l.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:w.columns.map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:e,checked:(null!=S?S:[]).includes(e),onChange:t=>{s.setSelectedVariables&&(t.target.checked?s.setSelectedVariables([...null!=S?S:[],e]):s.setSelectedVariables((null!=S?S:[]).filter(s=>s!==e)))},className:"rounded border-gray-300"}),(0,l.jsx)(d.J,{htmlFor:e,className:"text-sm font-medium cursor-pointer",children:e})]},e))}),(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"method",className:"text-base font-medium",children:"군집분석 방법"}),(0,l.jsxs)(u.l6,{value:z,onValueChange:e=>F(e),children:[(0,l.jsx)(u.bq,{className:"mt-2",children:(0,l.jsx)(u.yv,{})}),(0,l.jsxs)(u.gC,{children:[(0,l.jsx)(u.eb,{value:"kmeans",children:"K-means 군집분석"}),(0,l.jsx)(u.eb,{value:"hierarchical",children:"계층적 군집분석"})]})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,l.jsx)("input",{type:"checkbox",id:"autoOptimal",checked:M,onChange:e=>B(e.target.checked),className:"rounded border-gray-300"}),(0,l.jsx)(d.J,{htmlFor:"autoOptimal",className:"text-sm font-medium",children:"최적 군집 수 자동 결정"})]}),!M&&(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"numClusters",className:"text-base font-medium",children:"군집 수"}),(0,l.jsx)(n.p,{id:"numClusters",type:"number",min:"2",max:"10",value:A,onChange:e=>Z(parseInt(e.target.value)||3),className:"mt-2"})]}),"hierarchical"===z&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"linkage",className:"text-base font-medium",children:"연결 방법"}),(0,l.jsxs)(u.l6,{value:E,onValueChange:e=>W(e),children:[(0,l.jsx)(u.bq,{className:"mt-2",children:(0,l.jsx)(u.yv,{})}),(0,l.jsxs)(u.gC,{children:[(0,l.jsx)(u.eb,{value:"ward",children:"Ward 방법"}),(0,l.jsx)(u.eb,{value:"complete",children:"완전 연결"}),(0,l.jsx)(u.eb,{value:"average",children:"평균 연결"}),(0,l.jsx)(u.eb,{value:"single",children:"단일 연결"})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)(d.J,{htmlFor:"distance",className:"text-base font-medium",children:"거리 측정법"}),(0,l.jsxs)(u.l6,{value:K,onValueChange:e=>V(e),children:[(0,l.jsx)(u.bq,{className:"mt-2",children:(0,l.jsx)(u.yv,{})}),(0,l.jsxs)(u.gC,{children:[(0,l.jsx)(u.eb,{value:"euclidean",children:"유클리드 거리"}),(0,l.jsx)(u.eb,{value:"manhattan",children:"맨하탄 거리"}),(0,l.jsx)(u.eb,{value:"cosine",children:"코사인 거리"})]})]})]})]})]}),_&&(0,l.jsxs)(o.Fc,{children:[(0,l.jsx)(h.A,{className:"h-4 w-4"}),(0,l.jsx)(o.TN,{children:_})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(i.$,{variant:"outline",onClick:()=>s.setCurrentStep(2),children:"이전"}),(0,l.jsx)(i.$,{onClick:L,disabled:(null!=S?S:[]).length<2||C,children:C?"분석 중...":"군집분석 실행"})]})]}),[w,S,z,A,M,E,K,_,C,L]),T=(0,a.useMemo)(()=>{var e,t;return k?(0,l.jsxs)("div",{className:"space-y-6",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"군집분석 결과"}),(0,l.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,l.jsx)(c.E,{variant:"secondary",children:"K-means 군집분석"}),(0,l.jsxs)(c.E,{variant:"outline",children:[k.numClusters,"개 군집"]}),(0,l.jsxs)(c.E,{variant:"outline",children:[null!=(e=null==w?void 0:w.data.length)?e:0,"개 데이터 포인트"]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ZB,{className:"text-sm font-medium",children:"실루엣 스코어"}),(0,l.jsx)(m.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(r.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:k.silhouetteScore.toFixed(3)}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:k.silhouetteScore>.5?"좋은 군집화":k.silhouetteScore>.25?"보통 군집화":"약한 군집화"})]})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ZB,{className:"text-sm font-medium",children:"Calinski-Harabasz 지수"}),(0,l.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(r.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:k.calinski_harabasz_score.toFixed(2)}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"높을수록 좋은 군집화"})]})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,l.jsx)(r.ZB,{className:"text-sm font-medium",children:"Davies-Bouldin 지수"}),(0,l.jsx)(p.A,{className:"h-4 w-4 text-muted-foreground"})]}),(0,l.jsxs)(r.Wu,{children:[(0,l.jsx)("div",{className:"text-2xl font-bold",children:k.davies_bouldin_score.toFixed(3)}),(0,l.jsx)("p",{className:"text-xs text-muted-foreground",children:"낮을수록 좋은 군집화"})]})]})]}),(0,l.jsxs)(x.tU,{defaultValue:"statistics",className:"w-full",children:[(0,l.jsxs)(x.j7,{className:"grid w-full grid-cols-4",children:[(0,l.jsx)(x.Xi,{value:"statistics",children:"군집 통계"}),(0,l.jsx)(x.Xi,{value:"performance",children:"성능 지표"}),(0,l.jsx)(x.Xi,{value:"interpretation",children:"해석"}),(0,l.jsx)(x.Xi,{value:"visualization",children:"시각화"})]}),(0,l.jsx)(x.av,{value:"statistics",className:"mt-4",children:(0,l.jsxs)(r.Zp,{children:[(0,l.jsxs)(r.aR,{children:[(0,l.jsx)(r.ZB,{children:"군집별 상세 통계"}),(0,l.jsx)(r.BT,{children:"각 군집의 크기와 특성"})]}),(0,l.jsx)(r.Wu,{children:(0,l.jsx)("div",{className:"overflow-x-auto",children:(0,l.jsxs)("table",{className:"w-full border-collapse border border-gray-200",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{className:"bg-gray-50",children:[(0,l.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"군집"}),(0,l.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"크기"}),(0,l.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"비율(%)"}),(0,l.jsx)("th",{className:"border border-gray-200 px-4 py-2 text-left",children:"군집 내 제곱합"})]})}),(0,l.jsx)("tbody",{children:k.clusterStatistics.map(e=>{var s;return(0,l.jsxs)("tr",{children:[(0,l.jsxs)("td",{className:"border border-gray-200 px-4 py-2",children:["군집 ",e.cluster]}),(0,l.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:e.size}),(0,l.jsxs)("td",{className:"border border-gray-200 px-4 py-2",children:[(e.size/(null!=(s=null==w?void 0:w.data.length)?s:1)*100).toFixed(1),"%"]}),(0,l.jsx)("td",{className:"border border-gray-200 px-4 py-2",children:e.withinSS.toFixed(2)})]},e.cluster)})})]})})})]})}),(0,l.jsx)(x.av,{value:"performance",className:"mt-4",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{children:"분산 분해"})}),(0,l.jsxs)(r.Wu,{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"총 제곱합 (TSS):"}),(0,l.jsx)("span",{className:"font-mono",children:k.totalSS.toFixed(2)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"군집 간 제곱합 (BSS):"}),(0,l.jsx)("span",{className:"font-mono",children:k.betweenClusterSS.toFixed(2)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"군집 내 제곱합 (WSS):"}),(0,l.jsx)("span",{className:"font-mono",children:k.totalWithinSS.toFixed(2)})]}),(0,l.jsxs)("div",{className:"flex justify-between font-semibold border-t pt-2",children:[(0,l.jsx)("span",{children:"설명 비율:"}),(0,l.jsxs)("span",{className:"font-mono",children:[(k.betweenClusterSS/k.totalSS*100).toFixed(1),"%"]})]})]})]}),(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{children:"군집 품질 지표"})}),(0,l.jsxs)(r.Wu,{className:"space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"실루엣 스코어:"}),(0,l.jsx)("span",{className:"font-mono",children:k.silhouetteScore.toFixed(3)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Calinski-Harabasz:"}),(0,l.jsx)("span",{className:"font-mono",children:k.calinski_harabasz_score.toFixed(2)})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"Davies-Bouldin:"}),(0,l.jsx)("span",{className:"font-mono",children:k.davies_bouldin_score.toFixed(3)})]}),k.optimalK&&(0,l.jsxs)("div",{className:"border-t pt-2 space-y-2",children:[(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"최적 K (엘보우):"}),(0,l.jsx)("span",{className:"font-mono",children:k.optimalK.elbow})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)("span",{children:"최적 K (실루엣):"}),(0,l.jsx)("span",{className:"font-mono",children:k.optimalK.silhouette})]})]})]})]})]})}),(0,l.jsx)(x.av,{value:"interpretation",className:"mt-4",children:(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{children:"결과 해석 및 권장사항"})}),(0,l.jsxs)(r.Wu,{className:"space-y-4",children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"군집화 품질 평가"}),(0,l.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[k.silhouetteScore>.5||k.silhouetteScore>.25?(0,l.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}):(0,l.jsx)(h.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("span",{children:["실루엣 스코어 ",k.silhouetteScore.toFixed(3),"는"," ",k.silhouetteScore>.5?"매우 좋은":k.silhouetteScore>.25?"보통":"약한"," 군집화를 의미합니다."]})]}),(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("span",{children:["전체 분산의 ",(k.betweenClusterSS/k.totalSS*100).toFixed(1),"%가 군집 간 차이로 설명됩니다."]})]}),k.davies_bouldin_score<1&&(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(f.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("span",{children:["Davies-Bouldin 지수 ",k.davies_bouldin_score.toFixed(3),"는 잘 분리된 군집을 나타냅니다."]})]})]})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"군집별 특성"}),(0,l.jsx)("div",{className:"space-y-2 text-sm",children:k.clusterStatistics.map(e=>{var s;return(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(g.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsxs)("span",{children:["군집 ",e.cluster,": ",e.size,"개 데이터 포인트 (",(e.size/(null!=(s=null==w?void 0:w.data.length)?s:1)*100).toFixed(1),"%)"]})]},e.cluster)})})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("h4",{className:"font-semibold mb-2",children:"분석 방법론"}),(0,l.jsxs)("div",{className:"text-sm space-y-1",children:[(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"방법:"})," K-means 군집분석"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"군집 수:"})," ",k.numClusters,"개"]}),(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"변수:"})," ",null!=(t=null==S?void 0:S.join(", "))?t:"N/A"]}),k.optimalK&&(0,l.jsxs)("p",{children:["• ",(0,l.jsx)("strong",{children:"최적화:"})," 엘보우 방법과 실루엣 분석을 통한 최적 군집 수 결정"]})]})]})]})]})}),(0,l.jsx)(x.av,{value:"visualization",className:"mt-4",children:(0,l.jsxs)(r.Zp,{children:[(0,l.jsx)(r.aR,{children:(0,l.jsx)(r.ZB,{children:"시각화 안내"})}),(0,l.jsx)(r.Wu,{children:(0,l.jsxs)("div",{className:"space-y-4 text-sm",children:[(0,l.jsx)("p",{children:"실제 구현에서는 다음과 같은 시각화가 제공됩니다:"}),(0,l.jsxs)("ul",{className:"list-disc pl-6 space-y-2",children:[(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"산점도 매트릭스:"})," 변수 간 관계와 군집별 분포"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"군집 산점도:"})," 주성분 공간에서의 군집 시각화"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"실루엣 플롯:"})," 각 데이터 포인트의 군집 적합도"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"엘보우 플롯:"})," 최적 군집 수 결정 과정"]}),(0,l.jsxs)("li",{children:[(0,l.jsx)("strong",{children:"군집 중심점:"})," 각 군집의 특성 시각화"]})]}),(0,l.jsxs)("div",{className:"mt-4 p-4 bg-muted rounded-lg",children:[(0,l.jsxs)("div",{className:"flex items-center gap-2",children:[(0,l.jsx)(v.A,{className:"h-4 w-4 text-muted-foreground"}),(0,l.jsx)("span",{className:"font-semibold",children:"Pyodide 통합 예정"})]}),(0,l.jsx)("p",{className:"text-sm mt-1",children:"scikit-learn을 통한 정확한 군집분석과 matplotlib/seaborn을 통한 전문적인 시각화가 구현될 예정입니다."})]})]})})]})})]}),(0,l.jsxs)("div",{className:"flex justify-between",children:[(0,l.jsx)(i.$,{variant:"outline",onClick:()=>{s.setCurrentStep&&s.setCurrentStep(3)},children:"이전"}),(0,l.jsx)(i.$,{onClick:()=>{window.location.reload()},children:"새 분석 시작"})]})]}):null},[k,null==w?void 0:w.data.length,S,s]);return(0,l.jsx)(b.x,{title:"군집분석",description:"유사한 특성을 가진 개체들을 그룹화하는 비지도 학습 분석",currentStep:t,onDataUpload:q,variableSelectionStep:O,resultsStep:T,methodInfo:{assumptions:["연속형 변수 (수치형 데이터)","변수 간 스케일 차이 고려 필요","이상치에 민감할 수 있음","군집 수 사전 지정 필요 (K-means)"],usage:"K-means: 구형 군집에 적합, 빠른 속도. 계층적 군집분석: 덴드로그램 제공, 군집 수 유연. 실루엣 분석: 군집 품질 평가."}})}}},e=>{e.O(0,[4909,4120,660,6093,1204,5077,2320,9859,6724,8441,1255,7358],()=>e(e.s=92002)),_N_E=e.O()}]);