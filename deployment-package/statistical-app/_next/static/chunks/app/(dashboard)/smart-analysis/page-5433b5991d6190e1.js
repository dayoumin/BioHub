(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7833],{54353:(e,s,t)=>{Promise.resolve().then(t.bind(t,92233))},92233:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>b});var a=t(95155),l=t(12115),n=t(83209),i=t(97003),r=t(67812),c=t(55850),d=t(32559),m=t(95740),o=t(20908),u=t(61362),x=t(21786),h=t(80534),j=t(23327),p=t(52987),N=t(82909),g=t(52619),f=t.n(g),v=t(14824),y=t(96526);function b(){let[e,s]=(0,l.useState)("upload"),[t,g]=(0,l.useState)(null),[b,w]=(0,l.useState)(null),[C,A]=(0,l.useState)(0),[M,S]=(0,l.useState)(!1),[k,W]=(0,l.useState)(null),[V,O]=(0,l.useState)(null),[T,E]=(0,l.useState)(null),{addAnalysisResult:Z,getDatasetById:B}=(0,v.C)();(0,l.useEffect)(()=>{let e=window.location.hash.substring(1);e&&(W(e),g({id:"sample-".concat(e),name:"".concat(_(e)," 샘플 데이터"),numericColumns:["value1","value2","score"],categoricalColumns:["group","category"],rowCount:50}),s("descriptive"))},[]);let _=e=>({"t-test":"t-검정",anova:"ANOVA",regression:"회귀분석",correlation:"상관분석"})[e]||e,z=async()=>{if(!t)return;let e=B(t.id);if(e&&e.data&&0!==e.data.length){s("assumptions"),S(!0);try{let a,l=y.f.getInstance();await l.initialize();let n={};for(let s of t.numericColumns){let t=e.data.map(e=>e[s]).filter(e=>null!=e&&""!==e);if(t.length<3)continue;let a=await l.callWorkerMethod(1,"normality_test",{data:t,alpha:.05});n[s]={test:"Shapiro-Wilk",pValue:a.pValue,isNormal:a.isNormal}}let i={};if(t.categoricalColumns.length>0&&t.numericColumns.length>0){let s=t.categoricalColumns[0],a=t.numericColumns[0],n=new Map;if(e.data.forEach(e=>{let t=String(e[s]),l=e[a];null!=l&&""!==l&&(n.has(t)||n.set(t,[]),n.get(t).push(Number(l)))}),n.size>=2){let e=Array.from(n.values()),t=await l.callWorkerMethod(2,"levene_test",{groups:e});i["".concat(a,"_by_").concat(s)]={test:"Levene's test",pValue:t.pValue,isHomogeneous:t.equalVariance}}}let r=Object.values(n).every(e=>e.isNormal),c=0===Object.values(i).length||Object.values(i).every(e=>e.isHomogeneous),d=t.categoricalColumns.length>0?new Set(e.data.map(e=>e[t.categoricalColumns[0]])).size:0;a=2===d&&t.numericColumns.length>=1?r&&c?{parametric:!0,suggestedMethod:"Independent t-test",reason:"두 그룹 간 비교이며 정규성과 등분산성을 만족하여 독립표본 t-검정을 권장합니다"}:r&&!c?{parametric:!0,suggestedMethod:"Welch's t-test",reason:"정규성은 만족하나 등분산성을 만족하지 않아 Welch's t-test를 권장합니다"}:{parametric:!1,suggestedMethod:"Mann-Whitney U test",reason:"정규성 가정을 만족하지 않아 비모수 검정인 Mann-Whitney U test를 권장합니다"}:d>=3&&t.numericColumns.length>=1?r&&c?{parametric:!0,suggestedMethod:"One-way ANOVA",reason:"".concat(d,"개 그룹 비교이며 정규성과 등분산성을 만족하여 일원분산분석(ANOVA)을 권장합니다")}:{parametric:!1,suggestedMethod:"Kruskal-Wallis test",reason:"가정을 만족하지 않아 비모수 검정인 Kruskal-Wallis test를 권장합니다"}:t.numericColumns.length>=2&&0===d?r?{parametric:!0,suggestedMethod:"Pearson Correlation",reason:"수치형 변수 간 관계 분석이며 정규성을 만족하여 Pearson 상관분석을 권장합니다"}:{parametric:!1,suggestedMethod:"Spearman Correlation",reason:"정규성을 만족하지 않아 Spearman 순위 상관분석을 권장합니다"}:r?{parametric:!0,suggestedMethod:"One-sample t-test",reason:"단일 그룹 분석이며 정규성을 만족하여 일표본 t-검정을 권장합니다"}:{parametric:!1,suggestedMethod:"Descriptive Statistics",reason:"데이터 특성에 맞는 분석 방법을 수동으로 선택해주세요"},w({normality:n,homogeneity:i,recommendation:a}),s("method-selection")}catch(t){let e=t instanceof Error?t.message:String(t);alert("가정 검정 실패: ".concat(e)),s("descriptive")}finally{S(!1)}}},I=[{id:"upload",label:"데이터 업로드",completed:"upload"!==e},{id:"descriptive",label:"기초 통계",completed:["assumptions","method-selection","analysis","results"].includes(e)},{id:"assumptions",label:"가정 검정",completed:["method-selection","analysis","results"].includes(e)},{id:"method-selection",label:"방법 선택",completed:["analysis","results"].includes(e)},{id:"analysis",label:"분석 실행",completed:"results"===e},{id:"results",label:"결과 해석",completed:"results"===e}],F=()=>I.findIndex(s=>s.id===e);return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold flex items-center gap-3",children:[(0,a.jsx)(m.A,{className:"h-8 w-8 text-primary"}),"스마트 분석"]}),(0,a.jsx)("p",{className:"text-muted-foreground mt-2",children:"데이터를 업로드하면 AI가 자동으로 분석해드립니다"})]}),(0,a.jsx)(f(),{href:"/help",children:(0,a.jsxs)(i.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(o.A,{className:"h-4 w-4 mr-2"}),"도움말"]})})]}),(0,a.jsx)(n.Zp,{children:(0,a.jsx)(n.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"진행 상황"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[F()+1," / ",I.length]})]}),(0,a.jsx)(c.k,{value:(F()+1)/I.length*100}),(0,a.jsx)("div",{className:"flex justify-between text-xs text-muted-foreground",children:I.map((e,s)=>(0,a.jsxs)("div",{className:"flex flex-col items-center ".concat(s<=F()?"text-primary":""),children:[(0,a.jsx)("div",{className:"w-6 h-6 rounded-full flex items-center justify-center mb-1 ".concat(s<=F()?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:s<F()?(0,a.jsx)(u.A,{className:"h-3 w-3"}):s+1}),(0,a.jsx)("span",{className:"text-center",children:e.label})]},e.id))})]})})}),"upload"===e&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"1단계: 데이터 업로드"]}),(0,a.jsx)(n.BT,{children:"CSV 또는 Excel 파일을 드래그하거나 클릭해서 업로드하세요"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-4",children:[T&&(0,a.jsx)(d.Fc,{variant:"destructive",children:(0,a.jsx)(d.TN,{children:T})}),(0,a.jsx)(N.e,{enableSmartAnalysis:!1,onUploadComplete:e=>{let t=B(e);if(!t)return void E("데이터를 찾을 수 없습니다: ".concat(e));if(!t.data||0===t.data.length)return void E("업로드된 데이터가 비어있습니다. 데이터가 있는 파일을 다시 업로드해주세요.");let a=Object.keys(t.data[0]),l=[],n=[];a.forEach(e=>{t.data.every(s=>{let t=s[e];return null==t||""===t||"number"==typeof t||!isNaN(Number(t))})?l.push(e):n.push(e)}),g({id:t.id,name:t.name,numericColumns:l,categoricalColumns:n,rowCount:t.rows}),E(null),s("descriptive")}})]})]}),"descriptive"===e&&t&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),"2단계: 기초 통계 분석"]}),(0,a.jsx)(n.BT,{children:"데이터의 기본적인 통계 정보와 분포를 확인합니다"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"데이터셋 정보"}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"총 행 수:"}),(0,a.jsxs)("div",{className:"font-medium",children:[t.rowCount,"개"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"숫자형 변수:"}),(0,a.jsxs)("div",{className:"font-medium",children:[t.numericColumns.length,"개"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"범주형 변수:"}),(0,a.jsxs)("div",{className:"font-medium",children:[t.categoricalColumns.length,"개"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"상태:"}),(0,a.jsx)("div",{className:"font-medium text-success",children:"정상"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"변수 목록"}),(0,a.jsxs)("div",{className:"grid gap-2 max-h-48 overflow-y-auto",children:[t.numericColumns.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/50 rounded",children:[(0,a.jsx)("span",{className:"font-medium",children:e}),(0,a.jsx)(r.E,{variant:"secondary",children:"숫자형"})]},s)),t.categoricalColumns.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-2 bg-muted/30 rounded",children:[(0,a.jsx)("span",{className:"font-medium",children:e}),(0,a.jsx)(r.E,{variant:"outline",children:"범주형"})]},s))]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(i.$,{onClick:z,size:"lg",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"다음 단계: 가정 검정"]})})]})]}),"assumptions"===e&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),"3단계: 통계적 가정 검정"]}),(0,a.jsx)(n.BT,{children:"데이터가 통계 분석의 가정을 만족하는지 검사합니다"})]}),(0,a.jsx)(n.Wu,{className:"space-y-6",children:b?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"정규성 검정 (Shapiro-Wilk Test)"}),(0,a.jsxs)("div",{className:"relative group cursor-help",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("div",{className:"hidden group-hover:block absolute z-10 bg-slate-900 text-white text-xs p-2 rounded w-48 -ml-24",children:"데이터가 정규분포(종 모양)를 따르는지 검사합니다. p-값이 0.05보다 작으면 정규분포가 아닙니다."})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(b.normality).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:s}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["p = ",t.pValue.toFixed(3)," ",t.pValue<.05?"(정규분포 아님)":"(정규분포)"]})]}),(0,a.jsx)(r.E,{variant:t.isNormal?"default":"destructive",children:t.isNormal?"정규분포 ✓":"비정규분포 ✗"})]},s)})})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"등분산성 검정 (Levene's Test)"}),(0,a.jsxs)("div",{className:"relative group cursor-help",children:[(0,a.jsx)(j.A,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("div",{className:"hidden group-hover:block absolute z-10 bg-slate-900 text-white text-xs p-2 rounded w-48 -ml-24",children:"각 그룹의 데이터 퍼짐정도가 같은지 검사합니다. p-값이 0.05보다 작으면 그룹 간 분산이 다릅니다."})]})]}),(0,a.jsx)("div",{className:"space-y-2",children:Object.entries(b.homogeneity).map(e=>{let[s,t]=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:s.replace("_"," → ")}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["p = ",t.pValue.toFixed(3)," ",t.pValue<.05?"(분산 다름)":"(분산 같음)"]})]}),(0,a.jsx)(r.E,{variant:t.isHomogeneous?"default":"destructive",children:t.isHomogeneous?"등분산 ✓":"이분산 ✗"})]},s)})})]}),(0,a.jsxs)(d.Fc,{children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)(d.TN,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"추천 분석 방법:"})," ",b.recommendation.suggestedMethod]}),(0,a.jsx)("p",{className:"text-sm",children:b.recommendation.reason})]})})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(i.$,{onClick:()=>s("method-selection"),size:"lg",children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"추천 방법으로 분석하기"]})})]}):(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)("div",{className:"w-16 h-16 bg-primary/20 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)(h.A,{className:"h-8 w-8 text-primary"})})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-lg font-medium",children:"가정 검정 실행 중..."}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"정규성, 등분산성, 독립성을 검사하고 있습니다"})]}),(0,a.jsx)(c.k,{value:70,className:"max-w-xs mx-auto"})]})})]}),"method-selection"===e&&b&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),"4단계: 분석 방법 확정"]}),(0,a.jsx)(n.BT,{children:"가정 검정 결과에 따른 최적 분석 방법을 선택합니다"})]}),(0,a.jsxs)(n.Wu,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"bg-primary/5 border border-primary/20 p-4 rounded-lg",children:[(0,a.jsx)("h4",{className:"font-medium text-primary mb-2",children:"\uD83C\uDFAF AI 추천 분석"}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"font-medium",children:b.recommendation.suggestedMethod}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:b.recommendation.reason}),(0,a.jsx)(r.E,{variant:b.recommendation.parametric?"default":"secondary",children:b.recommendation.parametric?"모수적 방법":"비모수적 방법"})]})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"가정 검정 결과를 바탕으로 가장 적합한 분석 방법입니다"}),(0,a.jsxs)(i.$,{onClick:()=>{s("analysis"),S(!0),setTimeout(()=>{O(Z({datasetId:(null==t?void 0:t.id)||"sample-dataset",datasetName:(null==t?void 0:t.name)||"Sample Dataset",testType:(null==b?void 0:b.recommendation.suggestedMethod)||"Mann-Whitney U Test",testName:(null==b?void 0:b.recommendation.suggestedMethod)||"Mann-Whitney U Test",method:(null==b?void 0:b.recommendation.parametric)?"모수적 방법":"비모수적 방법",parameters:{alpha:.05,alternative:"two-sided"},results:{testStatistic:1247.5,pValue:.032,effectSize:.24,confidenceInterval:[.05,.89],conclusion:"통계적으로 유의한 차이가 있습니다",interpretation:"두 그룹 간의 차이가 통계적으로 유의합니다 (p < 0.05). 효과크기는 중간 정도로 실질적인 의미가 있는 차이입니다."},assumptions:{normality:Object.entries((null==b?void 0:b.normality)||{}).map(e=>{let[s,t]=e;return{passed:t.isNormal,pValue:t.pValue,test:t.test}}),homogeneity:Object.entries((null==b?void 0:b.homogeneity)||{}).map(e=>{let[s,t]=e;return{passed:t.isHomogeneous,pValue:t.pValue,test:t.test}}),independence:!0},recommendations:[(null==b?void 0:b.recommendation.reason)||"비모수 검정을 사용했습니다","더 큰 표본 크기로 분석을 반복해보는 것을 권장합니다","실제 연구 맥락에서 효과크기의 실질적 의미를 고려해보세요"],visualizations:["boxplot","histogram","qq_plot"],status:"completed",timestamp:new Date})),s("results"),S(!1)},3e3)},size:"lg",children:[(0,a.jsx)(h.A,{className:"h-4 w-4 mr-2"}),"분석 실행하기"]})]})]})]}),"analysis"===e&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsxs)(n.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin",children:(0,a.jsx)(h.A,{className:"h-5 w-5"})}),"5단계: 분석 실행 중"]}),(0,a.jsx)(n.BT,{children:"선택된 통계 분석을 수행하고 있습니다..."})]}),(0,a.jsxs)(n.Wu,{className:"text-center space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"w-20 h-20 bg-primary/10 rounded-full flex items-center justify-center mx-auto",children:(0,a.jsx)("div",{className:"animate-pulse",children:(0,a.jsx)(h.A,{className:"h-10 w-10 text-primary"})})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"text-lg font-medium",children:[(null==b?void 0:b.recommendation.suggestedMethod)||"통계 분석"," 수행 중..."]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"검정통계량과 p-값을 계산하고 있습니다"})]}),(0,a.jsx)(c.k,{value:90,className:"max-w-xs mx-auto"})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"잠시만 기다려주세요. 분석이 곧 완료됩니다..."})]})]}),"results"===e&&(0,a.jsxs)(n.Zp,{children:[(0,a.jsxs)(n.aR,{children:[(0,a.jsx)(n.ZB,{children:"6단계: 분석 완료"}),(0,a.jsx)(n.BT,{children:"분석이 완료되었습니다. 결과를 확인해보세요."})]}),(0,a.jsx)(n.Wu,{children:(0,a.jsxs)("div",{className:"text-center space-y-6",children:[(0,a.jsx)(u.A,{className:"h-16 w-16 mx-auto text-success"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-medium",children:"분석이 성공적으로 완료되었습니다!"}),(0,a.jsxs)("p",{className:"text-muted-foreground",children:[null==b?void 0:b.recommendation.suggestedMethod," 결과가 준비되었습니다."]})]}),(0,a.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg text-left",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"분석 결과 요약"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"검정 방법:"}),(0,a.jsx)("span",{className:"font-medium",children:null==b?void 0:b.recommendation.suggestedMethod})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"검정통계량:"}),(0,a.jsx)("span",{className:"font-medium",children:"U = 1247.5"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"p-값:"}),(0,a.jsx)("span",{className:"font-medium",children:"0.032"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"효과크기:"}),(0,a.jsx)("span",{className:"font-medium",children:"r = 0.24 (중간)"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{children:"결론:"}),(0,a.jsx)("span",{className:"font-medium text-success",children:"통계적으로 유의한 차이 있음"})]})]})]}),(0,a.jsxs)("div",{className:"flex gap-3 justify-center",children:[(0,a.jsx)(f(),{href:"/results/".concat(V),children:(0,a.jsxs)(i.$,{children:[(0,a.jsx)(p.A,{className:"h-4 w-4 mr-2"}),"상세 결과 보기"]})}),(0,a.jsx)(i.$,{variant:"outline",onClick:()=>{s("upload"),g(null),w(null),A(0),S(!1)},children:"새 분석 시작"})]})]})})]})]})}}},e=>{e.O(0,[4909,4120,660,8720,5132,7055,2306,9222,6526,2909,8441,1255,7358],()=>e(e.s=54353)),_N_E=e.O()}]);