"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[788],{10788:(e,s,t)=>{t.r(s),t.d(s,{DataValidationStep:()=>q});var a=t(95155),l=t(12115),r=t(78874),n=t(52056),i=t(42529),d=t(80534),c=t(94374),o=t(82214),m=t(61362),x=t(50906),u=t(23327),h=t(72372),g=t(1524),p=t(21190),j=t(97079),b=t(83209),N=t(90923),f=t(67812),v=t(97003),y=t(54679),w=t(32559),k=t(32949),D=t(30497),A=t(67909);let F={family:'system-ui, -apple-system, "Segoe UI", Roboto, sans-serif',size:12,color:"hsl(var(--foreground))"},C={...F,size:14},S={...F,size:11},R={l:70,r:50,t:50,b:60,pad:4},W=e=>({autosize:!0,margin:R,paper_bgcolor:"#FFFFFF",plot_bgcolor:"#FAFAFA",font:F,title:{font:C,x:.5,xanchor:"center"},xaxis:{gridcolor:"#E0E0E0",zerolinecolor:"#808080",linecolor:"#000000",tickfont:S,titlefont:S,automargin:!0,showgrid:!0,gridwidth:1,griddash:"dot"},yaxis:{gridcolor:"#E0E0E0",zerolinecolor:"#808080",linecolor:"#000000",tickfont:S,titlefont:S,automargin:!0,showgrid:!0,gridwidth:1,griddash:"dot"},hoverlabel:{font:{...F,color:"#FFFFFF"},bgcolor:"rgba(0, 0, 0, 0.8)",bordercolor:"#FFFFFF",namelength:-1},hovermode:"closest",showlegend:!0,legend:{font:S,bgcolor:"rgba(255, 255, 255, 0.9)",bordercolor:"#000000",borderwidth:1},...e}),E=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return W({height:s?300:t?400:500,width:void 0,margin:(s?{height:250,margin:{l:30,r:20,t:30,b:40},showlegend:!1,font:{size:10}}:t?{height:350,margin:{l:40,r:30,t:40,b:50},showlegend:!0,font:{size:11}}:{height:400,margin:{l:50,r:30,t:40,b:60},showlegend:!0,font:{size:12}}).margin||R,...e})},V={responsive:!0,displayModeBar:!0,displaylogo:!1,modeBarButtonsToRemove:["pan2d","lasso2d","select2d","autoScale2d"],modeBarButtonsToAdd:[],toImageButtonOptions:{format:"png",filename:"statistical-chart",height:600,width:800,scale:2},locale:"ko",doubleClick:"reset"},M={bar:{marker:{color:"#404040",opacity:.9,line:{color:"#000000",width:1}}}},z=(0,A.default)(()=>Promise.all([t.e(7840),t.e(1029),t.e(6614)]).then(t.bind(t,76614)).then(e=>e.default||e),{loadableGenerated:{webpack:()=>[76614]},ssr:!1,loading:()=>(0,a.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,a.jsxs)("div",{className:"animate-pulse",children:[(0,a.jsx)("div",{className:"h-8 w-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground",children:"차트 로딩중..."})]})})}),O=(0,l.memo)(function(e){var s;let{data:t,layout:r={},config:n={},className:i="",onPlotUpdate:d,onError:c}=e,[o,m]=(0,l.useState)(!0),[x,u]=(0,l.useState)(null),h=(0,l.useRef)(!0);if((0,l.useEffect)(()=>(h.current=!0,(async()=>{try{if(!h.current)return;if(!Array.isArray(t))throw Error("Chart data must be an array");if(0===t.length)throw Error("Chart data cannot be empty");h.current&&(m(!1),u(null))}catch(e){if(h.current){let s=e instanceof Error?e:Error("Chart validation failed");u(s),null==c||c(s),m(!1)}}})(),()=>{h.current=!1}),[t,c]),x)return(0,a.jsx)("div",{className:"h-full flex items-center justify-center p-4 border rounded-lg bg-destructive/10",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("svg",{className:"w-12 h-12 text-destructive mx-auto mb-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,a.jsx)("p",{className:"text-destructive font-medium",children:"차트 로딩 실패"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:x.message})]})});let g=W(r),p={...V,...n};return(0,a.jsx)("div",{className:"w-full relative ".concat(i),role:"img","aria-label":(null==(s=r.title)?void 0:s.text)||"Statistical chart",style:{position:"relative",zIndex:1},children:!o&&(0,a.jsx)(z,{data:t,layout:g,config:p,style:{width:"100%",height:"100%",position:"relative"},useResizeHandler:!0,onUpdate:d,onError:c})})});class Z{static detectColumnType(e){let s=e.filter(e=>null!=e&&""!==e);if(0===s.length)return"mixed";let t=new Set(s);if(2===t.size)return"binary";if(this.isDateTime(s[0]))return"datetime";let a=s.filter(e=>!isNaN(Number(e))).length/s.length;if(a>=.95)if(t.size>10)return"continuous";else if(this.hasOrderedPattern(Array.from(t)))return"ordinal";else return"nominal";return a<.05?this.isOrdinalText(Array.from(t))?"ordinal":"nominal":"mixed"}static detectDataStructure(e){if(!e||0===e.length)return"wide";let s=Object.keys(e[0]),t=s.some(e=>e.toLowerCase().includes("value")||e.toLowerCase().includes("measurement")),a=s.some(e=>e.toLowerCase().includes("variable")||e.toLowerCase().includes("measure"));return t&&a?"long":"wide"}static inferStudyDesign(e,s){if(s.some(e=>"datetime"===e.type))return"time-series";if(s.some(e=>e.name.toLowerCase().includes("id")||e.name.toLowerCase().includes("subject")||e.name.toLowerCase().includes("participant"))){let t=s.find(e=>e.name.toLowerCase().includes("id")||e.name.toLowerCase().includes("subject"));if(t){let s=e.map(e=>e[t.name]);if(new Set(s).size<s.length/2)return"repeated"}}let t=s.map(e=>e.name.toLowerCase());return t.some(e=>e.includes("before"))&&t.some(e=>e.includes("after"))||t.some(e=>e.includes("pre"))&&t.some(e=>e.includes("post"))||t.some(e=>e.includes("baseline"))&&t.some(e=>e.includes("follow"))?"paired":"independent"}static getSampleSizeRecommendations(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=[];e<30?(t.push("소표본: 비모수 검정 권장"),t.push("정규성 가정에 민감함")):e<100?t.push("중간 표본: 대부분의 검정 가능"):t.push("대표본: 중심극한정리 적용 가능");let a=Math.floor(e/s);return s>1&&a<20&&t.push("그룹당 표본 크기 작음 (".concat(a,"): ANOVA보다 Kruskal-Wallis 권장")),t}static analyzeDataCharacteristics(e){if(!e||0===e.length)throw Error("데이터가 비어있습니다");let s=Object.keys(e[0]),t=[];for(let a of s){let s=e.map(e=>e[a]),l=this.detectColumnType(s),r=new Set(s.filter(e=>null!=e));t.push({name:a,type:l,uniqueCount:r.size,missingCount:s.filter(e=>null==e||""===e).length,sampleValues:Array.from(r).slice(0,5),inferredRole:this.inferColumnRole(a,l,r.size,e.length)})}let a=this.detectDataStructure(e),l=this.inferStudyDesign(e,t),r=t.filter(e=>"nominal"===e.type||"binary"===e.type||"ordinal"===e.type),n=r.length>0?Math.max(...r.map(e=>e.uniqueCount)):1,i=this.generateRecommendations(t,e.length,n,l);return{structure:a,studyDesign:l,columns:t,sampleSize:e.length,groupCount:n,hasTimeComponent:t.some(e=>"datetime"===e.type),hasPairedData:"paired"===l,hasRepeatedMeasures:"repeated"===l,recommendations:i}}static generateRecommendations(e,s,t,a){let l=[],r=e.filter(e=>"continuous"===e.type),n=e.filter(e=>"nominal"===e.type||"binary"===e.type);if(n.length>0&&r.length>0&&(2===t?"paired"===a?l.push({method:"Paired t-test",confidence:.9,reasons:["두 그룹 대응 표본","연속형 종속변수"],requirements:["정규성"],alternativeIf:[{condition:"정규성 위반",alternative:"Wilcoxon signed-rank test"}]}):l.push({method:"Independent t-test",confidence:s>=30?.9:.7,reasons:["두 그룹 독립 표본","연속형 종속변수"],requirements:["정규성","등분산성"],alternativeIf:[{condition:"정규성 위반",alternative:"Mann-Whitney U test"},{condition:"등분산성 위반",alternative:"Welch's t-test"}]}):t>2&&l.push({method:"One-way ANOVA",confidence:s>=30*t?.9:.6,reasons:["".concat(t,"개 그룹 비교"),"연속형 종속변수"],requirements:["정규성","등분산성","독립성"],alternativeIf:[{condition:"정규성 위반",alternative:"Kruskal-Wallis test"},{condition:"소표본",alternative:"Kruskal-Wallis test"}]})),r.length>=2&&l.push({method:"Pearson correlation",confidence:.8,reasons:["연속형 변수 간 관계 분석"],requirements:["정규성","선형성"],alternativeIf:[{condition:"정규성 위반",alternative:"Spearman correlation"},{condition:"비선형 관계",alternative:"Spearman correlation"}]}),r.length>=2){let e=r.length-1,t=10*e+50;l.push({method:"Linear regression",confidence:s>=t?.8:.5,reasons:["예측 모델 구축","".concat(e,"개 예측변수")],requirements:["선형성","정규성(잔차)","등분산성(잔차)","독립성"],alternativeIf:[{condition:"표본 크기 부족 (n<".concat(t,")"),alternative:"변수 축소 필요"},{condition:"다중공선성",alternative:"Ridge/Lasso regression"}]})}return n.length>=2&&l.push({method:"Chi-square test",confidence:.8,reasons:["범주형 변수 간 독립성 검정"],requirements:["기대빈도 > 5"],alternativeIf:[{condition:"기대빈도 < 5",alternative:"Fisher's exact test"}]}),l.sort((e,s)=>s.confidence-e.confidence)}static inferColumnRole(e,s,t,a){let l=e.toLowerCase();return l.includes("id")||"index"===l||t===a?"id":"datetime"===s||l.includes("date")||l.includes("time")?"time":("nominal"===s||"binary"===s)&&(l.includes("group")||l.includes("treatment")||l.includes("condition")||l.includes("category"))?"group":l.includes("outcome")||l.includes("result")||l.includes("score")||l.includes("response")?"dependent":"continuous"===s?"independent":void 0}static isDateTime(e){return!!e&&(!!/^\d{4}-\d{2}-\d{2}(T\d{2}:\d{2}:\d{2})?/.test(String(e))||!isNaN(new Date(e).getTime()))}static hasOrderedPattern(e){let s=e.map(e=>Number(e)).filter(e=>!isNaN(e));if(s.length!==e.length)return!1;s.sort((e,s)=>e-s);for(let e=1;e<s.length;e++)if(s[e]-s[e-1]>2)return!1;return!0}static isOrdinalText(e){let s=e.map(e=>String(e).toLowerCase());for(let e of[["low","medium","high"],["small","medium","large"],["never","sometimes","often","always"],["strongly disagree","disagree","neutral","agree","strongly agree"],["매우 낮음","낮음","보통","높음","매우 높음"]])if(e.every(e=>s.some(s=>s.includes(e))))return!0;return!1}}var P=t(97262);let B={SKEWED_THRESHOLD:.8,SPARSE_THRESHOLD:5,MAX_DISPLAY_CATEGORIES:5,AUTO_PROGRESS_COUNTDOWN:5};function T(e){let s=e.length;if(0===s)return{mean:0,std:0,n:0};let t=e.reduce((e,s)=>e+s,0)/s,a=Math.sqrt(e.reduce((e,s)=>e+Math.pow(s-t,2),0)/s);return{mean:t,std:a,n:s}}let q=(0,l.memo)(function(e){var s,t,A,F,C,S,R,W,V,z,q,L,I,_,U,K,Q,H,X,G,Y,$,J,ee,es,et,ea,el,er,en,ei,ed,ec,eo,em,ex,eu,eh,eg,ep,ej,eb,eN,ef,ev,ey,ew;let{validationResults:ek,data:eD,onNext:eA,onPrevious:eF,canGoNext:eC,canGoPrevious:eS,currentStep:eR,totalSteps:eW}=e,[eE,eV]=(0,l.useState)(!1),[eM,ez]=(0,l.useState)(B.AUTO_PROGRESS_COUNTDOWN),[eO,eZ]=(0,l.useState)(!1),[eP,eB]=(0,l.useState)({}),[eT,eq]=(0,l.useState)(!1),[eL,eI]=(0,l.useState)(!1),[e_,eU]=(0,l.useState)(null),[eK,eQ]=(0,l.useState)(!1),[eH,eX]=(0,l.useState)(.05),[eG,eY]=(0,l.useState)("any"),[e$,eJ]=(0,l.useState)(null),[e0,e2]=(0,l.useState)(!1),e1=(0,l.useRef)(0),e5=(0,l.useRef)(!1);(0,l.useRef)(null);let{isLoaded:e3,isLoading:e4,service:e9,error:e6}=(0,D.w)(),{uploadedFile:e8,uploadedFileName:e7,dataCharacteristics:se,assumptionResults:ss,setDataCharacteristics:st,setAssumptionResults:sa}=(0,P.y)();if(!ek||!eD)return(0,a.jsx)("div",{className:"text-center py-12",children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"데이터를 먼저 업로드해주세요."})});let sl=((null==(s=ek.errors)?void 0:s.length)||0)>0,sr=((null==(t=ek.warnings)?void 0:t.length)||0)>0,sn=(0,l.useMemo)(()=>null!==ek&&"columnStats"in ek&&Array.isArray(ek.columnStats)?ek.columnStats:void 0,[ek]),si=(0,l.useMemo)(()=>(null==sn?void 0:sn.filter(e=>"numeric"===e.type))||[],[sn]),sd=(0,l.useMemo)(()=>(null==sn?void 0:sn.filter(e=>"categorical"===e.type||e.uniqueValues<=20))||[],[sn]),sc=(0,l.useMemo)(()=>{if(si.length<2||!eD)return null;let e=si.slice(0,8),s=[],t=e.map(e=>e.name);for(let t=0;t<e.length;t++){let a=[];for(let s=0;s<e.length;s++)if(t===s)a.push(1);else{let l=eD.filter(a=>!isNaN(parseFloat(String(a[e[t].name])))&&!isNaN(parseFloat(String(a[e[s].name]))));if(l.length>1){let r=l.map(s=>parseFloat(String(s[e[t].name]))),n=l.map(t=>parseFloat(String(t[e[s].name]))),i={x:T(r),y:T(n)},d=r.reduce((e,s,t)=>e+(s-i.x.mean)*(n[t]-i.y.mean),0),c=Math.sqrt(r.reduce((e,s)=>e+Math.pow(s-i.x.mean,2),0)),o=Math.sqrt(n.reduce((e,s)=>e+Math.pow(s-i.y.mean,2),0)),m=0===c||0===o?0:d/(c*o);a.push(m)}else a.push(0)}s.push(a)}return{matrix:s,varNames:t}},[si,eD]);(0,l.useEffect)(()=>{if(!eD||!ek||!e3||!e9)return;let e=!0,s=setTimeout(async()=>{let s=e1.current+1;e1.current=s;try{let t=Z.analyzeDataCharacteristics(eD);if(e&&st(t),si.length>0){e&&eI(!0);let a={},l=si[0],r=eD.map(e=>parseFloat(e[l.name])).filter(e=>!isNaN(e));if(r.length>=3&&(a.values=r),t.groupCount>1&&sd.length>0){let e=sd[0],s=[];for(let t of[...new Set(eD.map(s=>s[e.name]))]){let a=eD.filter(s=>s[e.name]===t).map(e=>parseFloat(e[l.name])).filter(e=>!isNaN(e));a.length>0&&s.push(a)}s.length>=2&&(a.groups=s)}let n=await e9.checkAllAssumptions({...a,alpha:eH,normalityRule:eG});e&&s===e1.current&&sa(n)}}catch(e){}finally{e&&s===e1.current&&eI(!1)}},200);return()=>{e=!1,clearTimeout(s)}},[eD,ek,e3,e9,eH,eG,si,sd]),(0,l.useEffect)(()=>{e3&&e9&&eD&&0!==si.length&&!e5.current&&!eL&&!eT&&!e4&&si.some(e=>eD.map(s=>Number(s[e.name])).filter(e=>!isNaN(e)).length>=3)&&(e5.current=!0,so())},[e3,e9,eD,si,eL,eT,e4]),(0,l.useEffect)(()=>{if(!ek||sl||eO||!eE)return;let e=setInterval(()=>{ez(e=>e<=1?(eA&&eA(),0):e-1)},1e3);return()=>clearInterval(e)},[ek,sl,eO,eE]);let so=async()=>{if(!eD||!si.length||eL||eT||e4)return;eq(!0);let e={};try{if(!e3||!e9)return;for(let s of si){let t=eD.map(e=>e[s.name]).filter(e=>null!=e&&!isNaN(Number(e))).map(e=>Number(e));if(t.length>=3)try{let a={};t.length<=5e3&&(a.shapiroWilk=await e9.shapiroWilkTest(t)),t.length>=8&&(a.andersonDarling=await e9.andersonDarlingTest(t)),t.length>=20&&(a.dagostinoPearson=await e9.dagostinoPearsonTest(t));let l=Object.values(a).filter(e=>e.isNormal).length,r=Object.keys(a).length;a.summary={totalTests:r,passedTests:l,isNormal:"any"===eG?l>0:"majority"===eG?l>r/2:l===r},e[s.name]=a}catch(e){k.vF.error("Normality test failed for ".concat(s.name),e)}}eB(e)}catch(e){k.vF.error("통계 검정 오류",e)}finally{eq(!1)}};return(0,a.jsxs)("div",{className:"space-y-6",children:[e4&&(0,a.jsx)("div",{className:"bg-blue-50 dark:bg-blue-950/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-600"}),(0,a.jsx)("p",{className:"text-sm text-blue-900 dark:text-blue-100",children:"Python 통계 엔진을 초기화하는 중입니다... (첫 실행 시 3-5초 소요)"})]})}),e6&&(0,a.jsx)("div",{className:"bg-red-50 dark:bg-red-950/20 border border-red-200 dark:border-red-800 rounded-lg p-4",children:(0,a.jsxs)("p",{className:"text-sm text-red-900 dark:text-red-100",children:["통계 엔진 오류: ",e6]})}),(0,a.jsxs)("div",{className:"rounded-lg p-6 ".concat(sl?"bg-red-50 dark:bg-red-950/20":sr?"bg-yellow-50 dark:bg-yellow-950/20":"bg-green-50 dark:bg-green-950/20"),children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[sl?(0,a.jsx)(r.A,{className:"w-6 h-6 text-red-600"}):sr?(0,a.jsx)(n.A,{className:"w-6 h-6 text-yellow-600"}):(0,a.jsx)(i.A,{className:"w-6 h-6 text-green-600"}),(0,a.jsx)("h3",{className:"text-lg font-semibold",children:sl?"데이터 검증 실패":sr?"데이터 검증 완료 (경고 있음)":"데이터 검증 완료"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[(0,a.jsxs)("div",{className:"bg-white dark:bg-background rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"표본 크기"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:ek.totalRows}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"충분"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-background rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"분석 가능 변수"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:si.length>0?"수치 ".concat(si.length,"개"):"수치 없음"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:sd.length>0?"범주 ".concat(sd.length,"개"):"범주 없음"})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-background rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"데이터 품질"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:0===ek.missingValues?"완벽":ek.missingValues<.05*ek.totalRows?"양호":"주의"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["결측 ",ek.missingValues,"개 (",(ek.missingValues/(ek.totalRows*ek.columnCount)*100).toFixed(1),"%)"]})]}),(0,a.jsxs)("div",{className:"bg-white dark:bg-background rounded p-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"권장 분석"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:(null==ss||null==(A=ss.summary)?void 0:A.canUseParametric)?"모수적":"비모수적"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"✓ 가정 충족"})]})]}),(null==ss?void 0:ss.summary)&&(0,a.jsx)("div",{className:"mt-4 p-4 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"mt-1 p-2 rounded-full ".concat(ss.summary.canUseParametric?"bg-green-100 dark:bg-green-900/30":"bg-amber-100 dark:bg-amber-900/30"),children:ss.summary.canUseParametric?(0,a.jsx)(i.A,{className:"w-5 h-5 text-green-600"}):(0,a.jsx)(n.A,{className:"w-5 h-5 text-amber-600"})}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-semibold text-base mb-2",children:ss.summary.canUseParametric?"\uD83C\uDF89 모수적 검정 사용 가능":"⚠️ 비모수적 검정 권장"}),(null!=(er=null==(F=ss.summary)?void 0:F.violations)?er:[]).length>0&&(0,a.jsxs)("div",{className:"mb-3 p-3 bg-amber-50 dark:bg-amber-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-amber-900 dark:text-amber-100 mb-2",children:"\uD83D\uDD0D 발견된 가정 위반:"}),(0,a.jsx)("ul",{className:"text-sm space-y-1.5",children:(null!=(en=null==(C=ss.summary)?void 0:C.violations)?en:[]).map((e,s)=>{let t="\uD83D\uDCCA",l="";if(e.includes("정규성")){t="\uD83D\uDCC9";let e=si.filter(e=>{var s;return eP[e.name]&&!(null==(s=eP[e.name].summary)?void 0:s.isNormal)}).map(e=>e.name);e.length>0&&(l=" (".concat(e.slice(0,3).join(", ")).concat(e.length>3?" 등":"",")"))}else if(e.includes("등분산"))t="\uD83D\uDCE6",l=" (Levene test p < 0.05)";else if(e.includes("이상치")){t="⚠️";let e=si.filter(e=>e.outliers&&e.outliers.length>.1*e.numericCount).map(e=>e.name);e.length>0&&(l=" (".concat(e.slice(0,2).join(", "),")"))}else e.includes("표본")&&(t="\uD83D\uDCC9",l=" (n = ".concat(ek.totalRows,")"));return(0,a.jsxs)("li",{className:"text-amber-800 dark:text-amber-200",children:[t," ",e,l]},s)})})]}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-white/70 dark:bg-gray-900/30 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"\uD83C\uDFAF 권장 분석 방법:"}),(0,a.jsx)("div",{className:"grid gap-2 text-sm",children:ss.summary.canUseParametric?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"t-검정"}),": 두 그룹 평균 비교"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"ANOVA"}),": 세 그룹 이상 평균 비교"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"선형 회귀"}),": 예측 및 관계 분석"]})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Mann-Whitney U"}),": t-검정 대체"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Kruskal-Wallis"}),": ANOVA 대체"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"Spearman 상관"}),": Pearson 대체"]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✓"}),(0,a.jsxs)("span",{children:[(0,a.jsx)("strong",{children:"로버스트 회귀"}),": 이상치에 강건"]})]})]})})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2",children:[si.length>=2&&(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:"\uD83D\uDCCA 상관분석 가능"}),si.length>=1&&sd.length>=1&&(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:"\uD83D\uDCCB 그룹 비교 가능"}),si.length>=1&&(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:"\uD83D\uDCC8 회귀분석 가능"})]})]})]})]})})]}),(0,a.jsxs)(N.tU,{defaultValue:"descriptive",className:"w-full",children:[(0,a.jsxs)(N.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsxs)(N.Xi,{value:"descriptive",className:"flex items-center gap-2 py-2.5",children:[(0,a.jsx)(d.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"기초통계"})]}),(0,a.jsxs)(N.Xi,{value:"assumptions",className:"flex items-center gap-2 py-2.5",children:[(0,a.jsx)(c.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"통계적 가정"}),(null==ss?void 0:ss.summary)&&(0,a.jsx)(f.E,{variant:ss.summary.canUseParametric?"success":"warning",className:"ml-2 text-xs",children:ss.summary.canUseParametric?"충족":"위반"})]}),(0,a.jsxs)(N.Xi,{value:"visualization",className:"flex items-center gap-2 py-2.5",children:[(0,a.jsx)(o.A,{className:"w-4 h-4"}),(0,a.jsx)("span",{className:"text-sm",children:"탐색적 시각화"})]})]}),(0,a.jsxs)(N.av,{value:"descriptive",className:"space-y-4",children:[(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"h-5 w-5"}),"데이터 품질 요약"]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"업로드 파일"}),(0,a.jsx)("p",{className:"text-sm font-medium truncate",title:(null==e8?void 0:e8.name)||e7||"",children:(null==e8?void 0:e8.name)||e7||"파일명 없음"})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"데이터 완전성"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[((1-ek.missingValues/(ek.totalRows*ek.columnCount))*100).toFixed(1),"%"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:0===ek.missingValues?"결측 없음":"결측 ".concat(ek.missingValues,"개")})]}),(0,a.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"정규분포 변수"}),(0,a.jsxs)("p",{className:"text-xl font-bold",children:[si.filter(e=>{var s;let t=eP[e.name];return null==t||null==(s=t.summary)?void 0:s.isNormal}).length,"/",si.length]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:si.filter(e=>{var s,t;return null==(t=eP[e.name])||null==(s=t.summary)?void 0:s.isNormal}).length>0?"모수 검정 가능":"비모수 권장"})]}),(0,a.jsxs)("div",{className:"p-3 bg-orange-50 dark:bg-orange-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"이상치 포함 변수"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:si.filter(e=>e.outliers&&e.outliers.length>0).length}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-1",children:["총 ",si.reduce((e,s)=>{var t;return e+((null==(t=s.outliers)?void 0:t.length)||0)},0),"개 이상치"]})]}),(0,a.jsxs)("div",{className:"p-3 bg-purple-50 dark:bg-purple-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"샘플 크기 적절성"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:ek.totalRows>=30?"충분":"부족"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:ek.totalRows>=30?"CLT 적용 가능":ek.totalRows>=10?"소표본 분석":"극소표본"})]})]}),(((null==(S=ek.warnings)?void 0:S.length)||0)>0||((null==(R=ek.errors)?void 0:R.length)||0)>0)&&(0,a.jsxs)("div",{className:"mt-4 p-3 bg-yellow-50 dark:bg-yellow-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-2",children:"데이터 개선 권장사항"}),(0,a.jsxs)("ul",{className:"text-xs space-y-1",children:[ek.missingValues>.05*ek.totalRows&&(0,a.jsx)("li",{children:"• 결측값이 5% 이상입니다. 대체(imputation) 또는 제거를 고려하세요."}),si.some(e=>e.outliers&&e.outliers.length>.1*e.numericCount)&&(0,a.jsx)("li",{children:"• 이상치가 10% 이상인 변수가 있습니다. 원인 파악 후 처리하세요."}),ek.totalRows<30&&(0,a.jsx)("li",{children:"• 표본 크기가 작습니다. 비모수 검정이나 정확 검정을 사용하세요."}),(null==sn?void 0:sn.some(e=>"mixed"===e.type))&&(0,a.jsx)("li",{children:"• 혼합 데이터 타입 변수가 있습니다. 데이터 정제가 필요합니다."})]})]})]})]}),sn&&sn.some(e=>"numeric"===e.type)&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"수치형 변수 상세 통계"})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left p-2",children:"변수명"}),(0,a.jsx)("th",{className:"text-right p-2",children:"평균"}),(0,a.jsx)("th",{className:"text-right p-2",children:"중앙값"}),(0,a.jsx)("th",{className:"text-right p-2",children:"표준편차"}),(0,a.jsx)("th",{className:"text-right p-2",children:"CV(%)"}),(0,a.jsx)("th",{className:"text-right p-2",children:"왜도"}),(0,a.jsx)("th",{className:"text-right p-2",children:"첨도"}),(0,a.jsx)("th",{className:"text-right p-2",children:"최소값"}),(0,a.jsx)("th",{className:"text-right p-2",children:"최대값"}),(0,a.jsx)("th",{className:"text-right p-2",children:"이상치"})]})}),(0,a.jsx)("tbody",{children:sn.filter(e=>"numeric"===e.type).map((e,s)=>{var t,l,r,n,i,d,c,o,m,x;return(0,a.jsxs)("tr",{className:"border-b hover:bg-muted/50",children:[(0,a.jsx)("td",{className:"p-2 font-medium",children:e.name}),(0,a.jsx)("td",{className:"text-right p-2",children:null==(t=e.mean)?void 0:t.toFixed(2)}),(0,a.jsx)("td",{className:"text-right p-2",children:null==(l=e.median)?void 0:l.toFixed(2)}),(0,a.jsx)("td",{className:"text-right p-2",children:null==(r=e.std)?void 0:r.toFixed(2)}),(0,a.jsx)("td",{className:"text-right p-2",children:e.cv?e.cv.toFixed(1):"-"}),(0,a.jsx)("td",{className:"text-right p-2",children:void 0!==e.skewness?(0,a.jsx)("span",{className:.5>Math.abs(e.skewness)?"text-green-600":1>Math.abs(e.skewness)?"text-yellow-600":"text-red-600",children:e.skewness.toFixed(2)}):"-"}),(0,a.jsx)("td",{className:"text-right p-2",children:void 0!==e.kurtosis?(0,a.jsx)("span",{className:1>Math.abs(e.kurtosis)?"text-green-600":3>Math.abs(e.kurtosis)?"text-yellow-600":"text-red-600",children:e.kurtosis.toFixed(2)}):"-"}),(0,a.jsx)("td",{className:"text-right p-2",children:null==(n=e.min)?void 0:n.toFixed(2)}),(0,a.jsx)("td",{className:"text-right p-2",children:null==(i=e.max)?void 0:i.toFixed(2)}),(0,a.jsxs)("td",{className:"text-right p-2",children:[(null==(d=e.outliers)?void 0:d.length)||0,e.outliers&&(null!=(m=null==(c=e.outliers)?void 0:c.length)?m:0)>0&&(0,a.jsxs)("span",{className:"text-xs text-orange-600 ml-1",children:["(",((null!=(x=null==(o=e.outliers)?void 0:o.length)?x:0)/e.numericCount*100).toFixed(1),"%)"]})]})]},s)})})]})}),(0,a.jsxs)("div",{className:"mt-4 p-3 bg-muted/30 rounded-lg text-xs space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"CV (변동계수)"}),": 표준편차를 평균으로 나눈 값의 백분율. 15% 이하면 안정적"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"왜도"}),":",(0,a.jsx)("span",{className:"text-green-600 ml-2",children:"|값| < 0.5 정규분포"}),(0,a.jsx)("span",{className:"text-yellow-600 ml-2",children:"|값| < 1 약간 치우침"}),(0,a.jsx)("span",{className:"text-red-600 ml-2",children:"|값| ≥ 1 심하게 치우침"})]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"첨도"}),":",(0,a.jsx)("span",{className:"text-green-600 ml-2",children:"|값| < 1 정규분포"}),(0,a.jsx)("span",{className:"text-yellow-600 ml-2",children:"|값| < 3 약간 뾰족/평평"}),(0,a.jsx)("span",{className:"text-red-600 ml-2",children:"|값| ≥ 3 매우 뾰족/평평"})]})]}),sn.some(e=>"numeric"===e.type&&(Math.abs(e.skewness||0)>=1||Math.abs(e.kurtosis||0)>=3||e.outliers&&e.outliers.length>.1*e.numericCount))&&(0,a.jsxs)("div",{className:"mt-4 p-4 bg-amber-50 dark:bg-amber-950/20 rounded-lg border border-amber-200 dark:border-amber-800",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2 mb-3",children:[(0,a.jsx)(n.A,{className:"w-4 h-4 text-amber-600 mt-0.5"}),(0,a.jsx)("h4",{className:"text-sm font-semibold text-amber-900 dark:text-amber-100",children:"데이터 문제 해결 가이드"})]}),(0,a.jsxs)("div",{className:"space-y-3 text-xs",children:[sn.some(e=>"numeric"===e.type&&Math.abs(e.skewness||0)>=1)&&(0,a.jsxs)("div",{className:"border-l-2 border-amber-400 pl-3",children:[(0,a.jsx)("p",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"\uD83D\uDD04 왜도 문제 (|왜도| ≥ 1) 해결 방법:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-amber-800 dark:text-amber-200",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"양의 왜도 (오른쪽 꼬리):"})," 로그 변환(log), 제곱근 변환(sqrt), Box-Cox 변환 적용"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"음의 왜도 (왼쪽 꼬리):"})," 제곱 변환, 지수 변환, 역수 변환 적용"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"대안:"})," 비모수 검정 사용 (Mann-Whitney U, Kruskal-Wallis)"]})]})]}),sn.some(e=>"numeric"===e.type&&Math.abs(e.kurtosis||0)>=3)&&(0,a.jsxs)("div",{className:"border-l-2 border-amber-400 pl-3",children:[(0,a.jsx)("p",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"\uD83D\uDCCA 첨도 문제 (|첨도| ≥ 3) 해결 방법:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-amber-800 dark:text-amber-200",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"높은 첨도 (뾰족한 분포):"})," 이상치 제거, Winsorization, Trimming 적용"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"낮은 첨도 (평평한 분포):"})," 데이터 범위 확인, 다봉분포 가능성 검토"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"대안:"})," 로버스트 통계 방법 사용, 부트스트랩 적용"]})]})]}),sn.some(e=>"numeric"===e.type&&e.outliers&&e.outliers.length>.1*e.numericCount)&&(0,a.jsxs)("div",{className:"border-l-2 border-amber-400 pl-3",children:[(0,a.jsx)("p",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-1",children:"⚠️ 이상치 문제 (10% 초과) 해결 방법:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-amber-800 dark:text-amber-200",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"원인 파악:"})," 입력 오류, 측정 오류, 실제 극단값 구분"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"처리 방법:"})," 제거, Winsorization (극단값을 경계값으로 대체), 변환"]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"대안:"})," 로버스트 회귀, 중앙값 기반 분석, M-추정량 사용"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 p-2 bg-blue-50 dark:bg-blue-950/20 rounded",children:[(0,a.jsx)("p",{className:"text-blue-900 dark:text-blue-100 font-medium mb-1",children:"\uD83D\uDCA1 일반 권장사항:"}),(0,a.jsxs)("ul",{className:"space-y-1 text-blue-800 dark:text-blue-200",children:[(0,a.jsx)("li",{children:"• 변환 전후 결과를 비교하여 최적 방법 선택"}),(0,a.jsx)("li",{children:"• 여러 문제가 동시에 있으면 비모수 검정 우선 고려"}),(0,a.jsx)("li",{children:"• 원본 데이터도 보존하여 해석 시 참고"}),(0,a.jsx)("li",{children:"• 표본 크기가 충분하면(n≥30) 중심극한정리 활용 가능"})]})]})]})]})]})]}),sn&&sn.some(e=>"numeric"===e.type)&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"추가 기초 통계"})}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:sn.filter(e=>"numeric"===e.type).map((e,s)=>{var t,l;return(0,a.jsxs)("div",{className:"border rounded-lg p-3",children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:e.name}),(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"분위수 범위:"}),(0,a.jsxs)("span",{children:["Q1: ",(e.q25||0).toFixed(1)," | Q3: ",(e.q75||0).toFixed(1)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"IQR:"}),(0,a.jsx)("span",{children:((e.q75||0)-(e.q25||0)).toFixed(1)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"범위:"}),(0,a.jsxs)("span",{children:[null==(t=e.min)?void 0:t.toFixed(1)," ~ ",null==(l=e.max)?void 0:l.toFixed(1)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"표준오차 (SE):"}),(0,a.jsx)("span",{children:e.std&&e.numericCount?(e.std/Math.sqrt(e.numericCount)).toFixed(3):"-"})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"95% CI:"}),(0,a.jsxs)("span",{className:"text-[10px]",children:["[",(e.mean-1.96*(e.std/Math.sqrt(e.numericCount))).toFixed(1),",",(e.mean+1.96*(e.std/Math.sqrt(e.numericCount))).toFixed(1),"]"]})]})]})]},s)})})})]}),sn&&sn.some(e=>"numeric"===e.type&&e.outliers&&e.outliers.length>0)&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-5 w-5"}),"이상치 분석"]})}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:sn.filter(e=>"numeric"===e.type).map((e,s)=>{var t,l,r,n,i,d,c,o;let m=(null==(t=e.outliers)?void 0:t.length)||0,x=e.numericCount>0?m/e.numericCount*100:0;return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsxs)(f.E,{variant:0===m?"success":x>10?"warning":"secondary",className:"text-xs",children:[m,"개 이상치 (",x.toFixed(1),"%)"]})]}),m>0&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm mb-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"탐지 방법:"}),(0,a.jsx)("span",{className:"ml-2",children:"IQR \xd7 1.5"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"위치:"}),(0,a.jsxs)("span",{className:"ml-2",children:[null==(l=e.outliers)?void 0:l.filter(s=>s<e.q25-1.5*((e.q75||0)-(e.q25||0))).length,"개 하단,",null==(r=e.outliers)?void 0:r.filter(s=>s>e.q75+1.5*((e.q75||0)-(e.q25||0))).length,"개 상단"]})]})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/30 rounded text-xs",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"이상치 값:"}),(0,a.jsxs)("p",{className:"font-mono",children:[null==(n=e.outliers)?void 0:n.slice(0,10).map(e=>e.toFixed(2)).join(", "),(null!=(c=null==(i=e.outliers)?void 0:i.length)?c:0)>10&&" ... 외 ".concat((null!=(o=null==(d=e.outliers)?void 0:d.length)?o:0)-10,"개")]})]}),(0,a.jsxs)("div",{className:"mt-3 p-2 bg-amber-50 dark:bg-amber-950/20 rounded text-xs",children:[(0,a.jsx)("p",{className:"font-medium text-amber-900 dark:text-amber-100 mb-1",children:"\uD83D\uDCA1 처리 방법:"}),x<5?(0,a.jsx)("p",{className:"text-amber-700 dark:text-amber-300",children:"• 5% 미만: 그대로 진행 가능, 로버스트 통계 고려"}):x<10?(0,a.jsx)("p",{className:"text-amber-700 dark:text-amber-300",children:"• 5-10%: Winsorization, Trimming 고려"}):(0,a.jsx)("p",{className:"text-amber-700 dark:text-amber-300",children:"• 10% 초과: 원인 파악 필수, 제거 또는 변환"})]})]}),0===m&&(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"이상치가 발견되지 않았습니다"})]},s)})})})]}),sn&&sn.some(e=>"categorical"===e.type)&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"범주형 변수 빈도 분석"})}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)("div",{className:"space-y-4",children:sn.filter(e=>"categorical"===e.type).map((e,s)=>{var t,l,r;let n=(null==(t=e.topValues)?void 0:t.reduce((e,s)=>e+s.count,0))||1,i=(null==(l=e.topValues)?void 0:l[0])&&e.topValues[0].count/n>B.SKEWED_THRESHOLD,d=null==(r=e.topValues)?void 0:r.some(e=>e.count<B.SPARSE_THRESHOLD);return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(f.E,{variant:"secondary",children:[e.uniqueValues,"개 카테고리"]}),i&&(0,a.jsx)(f.E,{variant:"warning",className:"text-xs",children:"편향 분포"}),d&&!i&&(0,a.jsx)(f.E,{variant:"warning",className:"text-xs",children:"희소 카테고리"})]})]}),e.topValues&&e.topValues.length>0?(0,a.jsxs)("div",{className:"space-y-2",children:[e.topValues.slice(0,B.MAX_DISPLAY_CATEGORIES).map((e,s)=>{let t=(e.count/n*100).toFixed(1);return(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("span",{className:"text-sm flex-1 truncate",children:e.value||"(빈 값)"}),(0,a.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.count,"개"]}),(0,a.jsx)("div",{className:"w-24",children:(0,a.jsx)("div",{className:"h-2 bg-secondary rounded-full overflow-hidden",children:(0,a.jsx)("div",{className:"h-full bg-primary transition-all",style:{width:"".concat(t,"%")}})})}),(0,a.jsxs)("span",{className:"text-sm font-medium w-12 text-right",children:[t,"%"]})]},s)}),e.uniqueValues>B.MAX_DISPLAY_CATEGORIES&&(0,a.jsxs)("p",{className:"text-xs text-muted-foreground mt-2",children:["... 외 ",e.uniqueValues-B.MAX_DISPLAY_CATEGORIES,"개 카테고리"]})]}):(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"빈도 정보 없음"}),e.missingCount>0&&(0,a.jsxs)("div",{className:"mt-2 text-xs text-muted-foreground",children:["결측값: ",e.missingCount,"개"]})]},s)})})})]})]}),(0,a.jsxs)(N.av,{value:"assumptions",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)(b.Zp,{className:"border-2 ".concat((null==ss||null==(W=ss.summary)?void 0:W.canUseParametric)?"border-green-500 bg-green-50/50 dark:bg-green-950/20":"border-amber-500 bg-amber-50/50 dark:bg-amber-950/20"),children:[(0,a.jsx)(b.aR,{className:"pb-3",children:(0,a.jsx)(b.ZB,{className:"text-base flex items-center gap-2",children:(null==ss||null==(V=ss.summary)?void 0:V.canUseParametric)?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(i.A,{className:"h-5 w-5 text-green-600"}),"모수 검정 가능"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-amber-600"}),"비모수 검정 권장"]})})}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:(null==ss||null==(z=ss.summary)?void 0:z.canUseParametric)?"모든 가정이 충족되어 t-test, ANOVA 등 사용 가능":"가정 위반으로 Mann-Whitney, Kruskal-Wallis 등 권장"})})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{className:"pb-3",children:(0,a.jsxs)(b.ZB,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"검정 결과"]})}),(0,a.jsx)(b.Wu,{children:(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"정규성"}),Object.keys(eP||{}).length>0?(0,a.jsxs)(f.E,{variant:Object.values(eP).some(e=>{var s;return null==(s=e.summary)?void 0:s.isNormal})?"success":"warning",className:"text-xs",children:[Object.values(eP).filter(e=>{var s;return null==(s=e.summary)?void 0:s.isNormal}).length,"/",Object.keys(eP).length," 통과"]}):(0,a.jsx)(f.E,{variant:"secondary",className:"text-xs",children:"미검정"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"등분산성"}),(0,a.jsx)(f.E,{variant:(null==ss?void 0:ss.homogeneity)?"success":"secondary",className:"text-xs",children:(null==ss?void 0:ss.homogeneity)?"검정완료":"미검정"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"이상치"}),(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:"기초통계 탭에서 확인"})]})]})})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{className:"pb-3",children:(0,a.jsxs)(b.ZB,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(c.A,{className:"h-5 w-5"}),"검정 설정"]})}),(0,a.jsx)(b.Wu,{children:(0,a.jsxs)("div",{className:"space-y-1 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"유의수준"}),(0,a.jsxs)(f.E,{variant:"outline",className:"text-xs",children:["α = ",eH]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"정규성 규칙"}),(0,a.jsx)(f.E,{variant:"outline",className:"text-xs",children:"any"===eG?"관대":"majority"===eG?"보통":"엄격"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{children:"표본 크기"}),(0,a.jsxs)(f.E,{variant:ek.totalRows>=30?"success":"warning",className:"text-xs",children:["n = ",ek.totalRows]})]})]})})]})]}),(0,a.jsxs)(b.Zp,{className:"border-blue-200 dark:border-blue-800 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-blue-950/20 dark:to-purple-950/20",children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5 text-blue-600"}),"\uD83C\uDF93 통계적 가정이란 무엇인가요?"]})}),(0,a.jsxs)(b.Wu,{className:"space-y-4",children:[(0,a.jsx)("p",{className:"text-sm",children:"통계 분석을 하기 전에 데이터가 특정 조건을 만족하는지 확인하는 과정입니다. 마치 요리를 하기 전에 재료의 신선도를 확인하는 것과 같습니다."}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-3",children:[(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-blue-100 dark:bg-blue-900 rounded",children:(0,a.jsx)(h.A,{className:"h-4 w-4 text-blue-600"})}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"정규성 (Normality)"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"데이터가 종 모양의 정규분포를 따르는지 확인"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✓"})," 충족 시: t-test, ANOVA, 회귀분석"]}),(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✗"})," 위반 시: Mann-Whitney, Kruskal-Wallis"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-green-100 dark:bg-green-900 rounded",children:(0,a.jsx)(x.A,{className:"h-4 w-4 text-green-600"})}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"등분산성 (Homogeneity)"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"그룹 간 분산(퍼짐 정도)이 비슷한지 확인"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✓"})," 충족 시: 일반 t-test, ANOVA"]}),(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✗"})," 위반 시: Welch's t-test, Games-Howell"]})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:"p-1.5 bg-purple-100 dark:bg-purple-900 rounded",children:(0,a.jsx)(g.A,{className:"h-4 w-4 text-purple-600"})}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"독립성 (Independence)"})]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-2",children:"각 관측치가 서로 독립적인지 확인"}),(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-green-600",children:"✓"})," 충족 시: 대부분의 통계 검정"]}),(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("span",{className:"text-amber-600",children:"✗"})," 위반 시: 시계열 분석, 혼합 모델"]})]})]})]})]})]}),(null!=(ei=null==ss||null==(q=ss.summary)?void 0:q.violations)?ei:[]).length>0&&(0,a.jsxs)(b.Zp,{className:"border-amber-500 bg-amber-50/50 dark:bg-amber-950/20",children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2 text-amber-900 dark:text-amber-100",children:[(0,a.jsx)(n.A,{className:"h-5 w-5"}),"\uD83D\uDEE0️ 가정 위반 대응 방안"]})}),(0,a.jsxs)(b.Wu,{className:"space-y-4",children:[ss&&(null!=(ed=null==(L=ss.summary)?void 0:L.violations)?ed:[]).includes("정규성 위반")&&(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border-l-4 border-amber-500",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"정규성 위반 해결 방법"]}),(0,a.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"1. 데이터 변환:"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"• 로그 변환: 오른쪽으로 치우친 데이터"}),(0,a.jsx)("p",{children:"• 제곱근 변환: 약하게 치우친 데이터"}),(0,a.jsx)("p",{children:"• Box-Cox 변환: 최적 변환 자동 찾기"})]})]}),(0,a.jsxs)("div",{className:"flex items-start gap-2",children:[(0,a.jsx)("span",{className:"font-medium",children:"2. 비모수 검정:"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{children:"• Mann-Whitney U (t-test 대체)"}),(0,a.jsx)("p",{children:"• Kruskal-Wallis (ANOVA 대체)"}),(0,a.jsx)("p",{children:"• Spearman 상관 (Pearson 대체)"})]})]}),(0,a.jsxs)(v.$,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>e2(!0),children:[(0,a.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"데이터 편집 가이드"]})]})]}),ss&&(null!=(ec=null==(I=ss.summary)?void 0:I.violations)?ec:[]).includes("등분산성 위반")&&(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border-l-4 border-amber-500",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-4 w-4"}),"등분산성 위반 해결 방법"]}),(0,a.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Welch's t-test:"})," 등분산 가정하지 않는 t-test"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Welch's ANOVA:"})," 등분산 가정하지 않는 ANOVA"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Games-Howell:"})," 사후 검정에 사용"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"로그/제곱근 변환:"})," 분산 안정화"]})]})]}),ss&&(null!=(eo=null==(_=ss.summary)?void 0:_.violations)?eo:[]).includes("이상치 과다")&&(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border-l-4 border-amber-500",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),"이상치 처리 방법"]}),(0,a.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"원인 파악:"})," 측정 오류, 입력 오류 확인"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Winsorization:"})," 극단값을 경계값으로 대체"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"Trimming:"})," 상하위 일정 비율 제거"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"로버스트 통계:"})," 이상치에 강건한 방법 사용"]})]})]}),ss&&(null!=(em=null==(U=ss.summary)?void 0:U.violations)?em:[]).includes("표본 크기 부족")&&(0,a.jsxs)("div",{className:"p-3 bg-white dark:bg-gray-900 rounded-lg border-l-4 border-amber-500",children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),"소표본 대응 방법"]}),(0,a.jsxs)("div",{className:"space-y-2 text-xs",children:[(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"정확 검정:"})," Fisher's exact test, 정확 이항 검정"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"비모수 검정:"})," 표본 크기 가정 없음"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"부트스트랩:"})," 재표본 추출로 분포 추정"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"더 많은 데이터 수집:"})," 가능하면 권장"]})]})]}),(0,a.jsxs)("div",{className:"mt-3 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,a.jsx)("p",{className:"text-xs font-medium text-blue-900 dark:text-blue-100 mb-1",children:"\uD83D\uDCA1 일반 권장사항:"}),(0,a.jsxs)("ul",{className:"text-xs space-y-1 text-blue-800 dark:text-blue-200",children:[(0,a.jsx)("li",{children:"• 여러 가정이 위반되면 비모수 검정 우선 고려"}),(0,a.jsx)("li",{children:"• 변환 전후 결과를 비교하여 최적 방법 선택"}),(0,a.jsx)("li",{children:"• 원본 데이터도 보존하여 해석에 활용"})]})]})]})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:["⚙️ 검정 설정",eL&&(0,a.jsxs)("div",{className:"ml-auto flex items-center gap-2 text-xs text-blue-600",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-blue-600"}),"검정 수행 중..."]})]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"유의수준 (α)"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[[.01,.05,.1].map(e=>(0,a.jsx)("button",{onClick:()=>eX(e),className:"px-2 py-1 text-xs rounded ".concat(eH===e?"bg-primary text-primary-foreground":"bg-secondary hover:bg-secondary/80"),children:e},e)),(0,a.jsx)("input",{type:"number",step:.01,min:.001,max:.2,value:eH,onChange:e=>eX(Number(e.target.value)||.05),className:"w-16 border rounded px-2 py-1 bg-background text-xs"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg text-xs space-y-1",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 유의수준이란?"}),(0,a.jsx)("p",{children:"• 통계적 판단의 기준점 (일반적으로 0.05 사용)"}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"0.01"}),": 매우 엄격 (의학 연구)"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"0.05"}),": 일반적 (대부분의 연구)"]}),(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"0.10"}),": 관대함 (탐색적 연구)"]})]})]})}),(0,a.jsx)("div",{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"정규성 판정 규칙"}),(0,a.jsxs)("select",{value:eG,onChange:e=>eY(e.target.value),className:"border rounded px-3 py-1 bg-background text-sm",children:[(0,a.jsx)("option",{value:"any",children:"\uD83D\uDE0A 관대함"}),(0,a.jsx)("option",{value:"majority",children:"\uD83C\uDFAF 보통"}),(0,a.jsx)("option",{value:"strict",children:"\uD83D\uDD0D 엄격함"})]})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/50 rounded-lg text-xs space-y-1",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 판정 규칙이란?"}),"any"===eG&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["• 여러 검정 중 ",(0,a.jsx)("strong",{children:"하나라도"})," 통과하면 OK"]}),(0,a.jsx)("p",{children:"• 탐색적 분석이나 소표본에 적합"})]}),"majority"===eG&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["• 여러 검정 중 ",(0,a.jsx)("strong",{children:"과반수가"})," 통과하면 OK"]}),(0,a.jsx)("p",{children:"• 일반적인 연구에 권장"})]}),"strict"===eG&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:["• ",(0,a.jsx)("strong",{children:"모든 검정이"})," 통과해야 OK"]}),(0,a.jsx)("p",{children:"• 엄밀한 학술 연구에 사용"})]})]})]})})]}),(0,a.jsx)("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800",children:(0,a.jsxs)("p",{className:"text-xs",children:[(0,a.jsx)("strong",{className:"text-blue-900 dark:text-blue-100",children:"\uD83D\uDC81 Tip:"}),(0,a.jsx)("span",{className:"text-blue-700 dark:text-blue-300 ml-1",children:"처음이라면 기본 설정(α=0.05, 보통)을 사용하세요. 대부분의 경우 잘 작동합니다!"})]})})]})]}),se&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(u.A,{className:"h-5 w-5"}),"데이터 특성 분석"]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"샘플 크기"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:se.sampleSize}),se.sampleSize<30&&(0,a.jsx)(f.E,{variant:"warning",className:"mt-1 text-xs",children:"소표본"})]}),(0,a.jsxs)("div",{className:"p-3 bg-green-50 dark:bg-green-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"연구 설계"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:se.studyDesign})]}),(0,a.jsxs)("div",{className:"p-3 bg-purple-50 dark:bg-purple-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"그룹 수"}),(0,a.jsx)("p",{className:"text-xl font-bold",children:se.groupCount})]}),(0,a.jsxs)("div",{className:"p-3 bg-orange-50 dark:bg-orange-950/20 rounded-lg",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground mb-1",children:"데이터 구조"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:se.structure})]})]}),se.recommendations.length>0&&(0,a.jsxs)("div",{className:"mt-6",children:[(0,a.jsx)("h4",{className:"font-medium mb-3",children:"권장 분석 방법"}),(0,a.jsx)("div",{className:"space-y-2",children:se.recommendations.slice(0,3).map((e,s)=>(0,a.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,a.jsx)("span",{className:"font-medium",children:e.method}),(0,a.jsxs)(f.E,{variant:e.confidence>.7?"success":"secondary",children:["신뢰도 ",(100*e.confidence).toFixed(0),"%"]})]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground space-y-1",children:[(0,a.jsxs)("p",{children:["• ",e.reasons.join(", ")]}),e.requirements.length>0&&(0,a.jsxs)("p",{className:"text-yellow-600 dark:text-yellow-400",children:["⚠️ 필요 가정: ",e.requirements.join(", ")]})]})]},s))})]})]})]}),(Object.keys(eP||{}).length>0||ss)&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{className:"flex items-center gap-2",children:"\uD83D\uDD2C 상세 검정 결과"})}),(0,a.jsx)(b.Wu,{children:(0,a.jsxs)(N.tU,{defaultValue:"normality",className:"w-full",children:[(0,a.jsxs)(N.j7,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(N.Xi,{value:"normality",className:"text-xs",children:"정규성 검정"}),(0,a.jsx)(N.Xi,{value:"homogeneity",className:"text-xs",children:"등분산성 검정"}),(0,a.jsx)(N.Xi,{value:"independence",className:"text-xs",children:"독립성 검정"})]}),(0,a.jsxs)(N.av,{value:"normality",className:"mt-4 space-y-3",children:[Object.entries(eP||{}).map(e=>{var s,t,l;let[r,n]=e;return(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:r}),(0,a.jsx)(f.E,{variant:(null==(s=n.summary)?void 0:s.isNormal)?"success":"warning",className:"ml-2",children:(null==(t=n.summary)?void 0:t.isNormal)?"정규분포 ✓":"비정규 ✗"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[n.shapiroWilk&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Shapiro-Wilk"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{children:["W = ",n.shapiroWilk.statistic.toFixed(4)]}),(0,a.jsxs)("span",{className:n.shapiroWilk.pValue>eH?"text-green-600":"text-amber-600",children:["p = ",n.shapiroWilk.pValue.toFixed(4)]})]})]}),n.andersonDarling&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"Anderson-Darling"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{children:["A\xb2 = ",n.andersonDarling.statistic.toFixed(4)]}),(0,a.jsxs)("span",{className:n.andersonDarling.pValue>eH?"text-green-600":"text-amber-600",children:["p = ",n.andersonDarling.pValue.toFixed(4)]})]})]}),n.dagostino&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"D'Agostino-Pearson"}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("span",{children:["K\xb2 = ",n.dagostino.statistic.toFixed(4)]}),(0,a.jsxs)("span",{className:n.dagostino.pValue>eH?"text-green-600":"text-amber-600",children:["p = ",n.dagostino.pValue.toFixed(4)]})]})]})]}),(0,a.jsx)("div",{className:"mt-3 p-2 bg-muted/30 rounded text-xs",children:(null==(l=n.summary)?void 0:l.isNormal)?(0,a.jsx)("p",{className:"text-green-700 dark:text-green-400",children:"✓ 정규분포를 따릅니다. 모수 검정 사용 가능"}):(0,a.jsx)("p",{className:"text-amber-700 dark:text-amber-400",children:"✗ 정규분포를 따르지 않습니다. 비모수 검정 권장"})})]},r)}),0===Object.keys(eP||{}).length&&(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"정규성 검정 결과가 없습니다"})]}),(0,a.jsx)(N.av,{value:"homogeneity",className:"mt-4 space-y-3",children:(null==ss?void 0:ss.homogeneity)?(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Levene's Test"}),(0,a.jsx)(f.E,{variant:(null!=(eu=null!=(ex=null==(K=ss.homogeneity.levene)?void 0:K.pValue)?ex:null==(Q=ss.homogeneity.bartlett)?void 0:Q.pValue)?eu:0)>eH?"success":"warning",children:(null!=(eg=null!=(eh=null==(H=ss.homogeneity.levene)?void 0:H.pValue)?eh:null==(X=ss.homogeneity.bartlett)?void 0:X.pValue)?eg:0)>eH?"등분산 ✓":"이분산 ✗"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"검정 통계량"}),(0,a.jsxs)("span",{children:["F = ",(null==(G=null!=(ej=null!=(ep=null==(Y=ss.homogeneity.levene)?void 0:Y.statistic)?ep:null==($=ss.homogeneity.bartlett)?void 0:$.statistic)?ej:0)?void 0:G.toFixed(4))||"N/A"]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,a.jsx)("span",{className:"text-muted-foreground",children:"p-value"}),(0,a.jsx)("span",{className:(null!=(eN=null!=(eb=null==(J=ss.homogeneity.levene)?void 0:J.pValue)?eb:null==(ee=ss.homogeneity.bartlett)?void 0:ee.pValue)?eN:0)>eH?"text-green-600":"text-amber-600",children:(null!=(ev=null!=(ef=null==(es=ss.homogeneity.levene)?void 0:es.pValue)?ef:null==(et=ss.homogeneity.bartlett)?void 0:et.pValue)?ev:0).toFixed(4)})]})]}),(0,a.jsx)("div",{className:"mt-3 p-2 bg-muted/30 rounded text-xs",children:(null!=(ew=null!=(ey=null==(ea=ss.homogeneity.levene)?void 0:ea.pValue)?ey:null==(el=ss.homogeneity.bartlett)?void 0:el.pValue)?ew:0)>eH?(0,a.jsx)("p",{className:"text-green-700 dark:text-green-400",children:"✓ 그룹 간 분산이 동일합니다. 일반 ANOVA 사용 가능"}):(0,a.jsx)("p",{className:"text-amber-700 dark:text-amber-400",children:"✗ 그룹 간 분산이 다릅니다. Welch's ANOVA 또는 Games-Howell 권장"})})]}):(0,a.jsx)("div",{className:"text-center py-8 text-muted-foreground",children:"등분산성 검정은 그룹이 2개 이상일 때 수행됩니다"})}),(0,a.jsx)(N.av,{value:"independence",className:"mt-4 space-y-3",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"Durbin-Watson 검정"}),(0,a.jsx)(f.E,{variant:"default",className:"text-xs",children:"시계열/회귀 잔차"})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/30 rounded text-xs space-y-2",children:[(0,a.jsx)("p",{className:"font-medium mb-1",children:"\uD83D\uDCA1 독립성 검정이란?"}),(0,a.jsx)("p",{children:"• 데이터 포인트들이 서로 독립적인지 확인"}),(0,a.jsx)("p",{children:"• 시간 순서가 있는 데이터에서 중요"}),(0,a.jsx)("p",{children:"• DW ≈ 2: 독립적, DW < 1.5 또는 > 2.5: 자기상관 있음"})]}),(0,a.jsx)("div",{className:"mt-3 text-sm text-muted-foreground",children:"현재 데이터로는 시계열 분석이 불가능합니다. 회귀분석 또는 시계열 데이터 업로드 후 확인 가능합니다."})]}),(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h4",{className:"font-medium",children:"샘플 독립성"}),(0,a.jsx)(f.E,{variant:"success",className:"text-xs",children:"기본 충족"})]}),(0,a.jsxs)("div",{className:"text-sm space-y-2",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"연구 설계 확인:"}),(0,a.jsxs)("ul",{className:"text-xs space-y-1 ml-4",children:[(0,a.jsx)("li",{children:"• 무작위 표집: ✓"}),(0,a.jsx)("li",{children:"• 샘플 간 독립성: ✓"}),(0,a.jsx)("li",{children:"• 비복원 추출: ✓"})]})]}),(0,a.jsx)("div",{className:"mt-3 p-2 bg-green-50 dark:bg-green-950/20 rounded text-xs",children:(0,a.jsx)("p",{className:"text-green-700 dark:text-green-400",children:"✓ 대부분의 통계 검정에서 샘플 독립성을 가정합니다"})})]})]})})]})})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(x.A,{className:"h-5 w-5"}),"다중 정규성 검정"]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("div",{className:"text-xs text-muted-foreground",children:"Shapiro-Wilk, Anderson-Darling, D'Agostino-Pearson 검정 실행"}),(0,a.jsx)(v.$,{size:"sm",variant:"outline",onClick:so,disabled:eT,children:eT?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),"실행 중..."]}):"정규성 검정 실행"})]}),eT?(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-primary"}),"다중 통계 검정 수행 중..."]}):si.length>0?(0,a.jsxs)("div",{className:"space-y-4",children:[si.map(e=>{var s,t,l,r,n,i;let d=eP[e.name];return d?(0,a.jsxs)("div",{className:"border rounded-lg p-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("span",{className:"font-medium text-lg",children:e.name}),d.summary&&(0,a.jsxs)(f.E,{variant:d.summary.isNormal?"success":"warning",className:"text-sm",children:[d.summary.isNormal?"정규분포":"비정규분포","(",d.summary.passedTests,"/",d.summary.totalTests," 통과)"]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[d.shapiroWilk&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-muted/30 rounded",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Shapiro-Wilk",(0,a.jsx)(f.E,{variant:d.shapiroWilk.isNormal?"success":"destructive",className:"text-xs",children:d.shapiroWilk.isNormal?"✓":"✗"})]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["W=",null==(s=d.shapiroWilk.statistic)?void 0:s.toFixed(4),", p=",null==(t=d.shapiroWilk.pValue)?void 0:t.toFixed(4)]})]}),d.andersonDarling&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-muted/30 rounded",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Anderson-Darling",(0,a.jsx)(f.E,{variant:d.andersonDarling.isNormal?"success":"destructive",className:"text-xs",children:d.andersonDarling.isNormal?"✓":"✗"})]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["A\xb2=",null==(l=d.andersonDarling.statistic)?void 0:l.toFixed(4),", p=",null==(r=d.andersonDarling.pValue)?void 0:r.toFixed(4)]})]}),d.dagostinoPearson&&(0,a.jsxs)("div",{className:"flex items-center justify-between text-sm p-2 bg-muted/30 rounded",children:[(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["D'Agostino-Pearson",(0,a.jsx)(f.E,{variant:d.dagostinoPearson.isNormal?"success":"destructive",className:"text-xs",children:d.dagostinoPearson.isNormal?"✓":"✗"})]}),(0,a.jsxs)("span",{className:"text-muted-foreground",children:["K\xb2=",null==(n=d.dagostinoPearson.statistic)?void 0:n.toFixed(4),", p=",null==(i=d.dagostinoPearson.pValue)?void 0:i.toFixed(4)]})]})]})]},e.name):null}),0===Object.keys(eP).length&&(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["정규성 검정 대기 중...",(0,a.jsx)("span",{className:"text-xs block mt-1",children:"• Shapiro-Wilk: 3개 이상 데이터 필요 • Anderson-Darling: 8개 이상 데이터 필요 • D'Agostino-Pearson: 20개 이상 데이터 필요"})]})]}):(0,a.jsx)("p",{className:"text-muted-foreground",children:"수치형 변수가 없습니다."})]})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"이상치 정보는 기초통계 탭에서 확인하세요"]})}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"이상치 요약, 변수별 이상치 개수/비율, IQR 범위 등 상세 내용은 기초통계 탭의 요약 카드와 변수 테이블에서 제공합니다."})})]}),sd.length>0&&si.length>0&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.A,{className:"h-5 w-5"}),"등분산성 검정 (Homogeneity of Variance)"]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"그룹 간 분산이 동일한지 검정합니다. ANOVA나 t-test 수행 전 필수 가정입니다."}),sd[0]&&si[0]&&(0,a.jsxs)("div",{className:"p-4 border rounded-lg bg-muted/30",children:[(0,a.jsxs)("p",{className:"text-sm font-medium mb-2",children:[sd[0].name," 그룹별 ",si[0].name," 분산 비교"]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"• Levene 검정: 평균 기반 (robust) • Bartlett 검정: 정규분포 가정 • Fligner-Killeen 검정: 중앙값 기반 (가장 robust)"}),(0,a.jsx)(v.$,{size:"sm",variant:"outline",className:"mt-3",onClick:async()=>{},children:"등분산성 검정 실행"})]})]})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.A,{className:"h-5 w-5"}),"독립성 및 자기상관 검정"]})}),(0,a.jsxs)(b.Wu,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"데이터의 독립성과 시계열 자기상관을 검정합니다."}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-1",children:"독립성 검정"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"• 런 검정 (Runs Test): 무작위성 검정 • Durbin-Watson: 잔차의 자기상관 (회귀분석 시)"})]}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg",children:[(0,a.jsx)("p",{className:"text-sm font-medium mb-1",children:"자기상관 검정"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"• ACF/PACF: 시차별 상관관계 • Ljung-Box: 자기상관 존재 여부"})]}),ek.totalRows>=20&&(0,a.jsxs)("div",{className:"mt-2 p-2 bg-blue-50 dark:bg-blue-950/20 rounded text-xs",children:[(0,a.jsx)(u.A,{className:"inline w-3 h-3 mr-1"}),"시계열 데이터인 경우 자기상관 검정이 중요합니다."]})]})]})]})]}),(0,a.jsxs)(N.av,{value:"visualization",className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[si.slice(0,4).map((e,s)=>{let t=(null==eD?void 0:eD.map(s=>{let t=parseFloat(s[e.name]);return isNaN(t)?null:t}).filter(e=>null!==e))||[],l=e.mean||0,r=e.std||1,n=t.length>0?Array.from({length:100},(e,s)=>{let a=Math.min(...t),n=a+(Math.max(...t)-a)*s/99,i=1/(r*Math.sqrt(2*Math.PI))*Math.exp(-.5*Math.pow((n-l)/r,2));return{x:n,y:i}}):[];return(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"text-sm",children:[e.name," 분포"]})}),(0,a.jsx)(b.Wu,{className:"h-[400px]",children:t.length>0?(0,a.jsx)(O,{data:[{x:t,type:"histogram",name:"빈도",marker:{color:"rgba(59, 130, 246, 0.6)"},nbinsx:20,yaxis:"y",hovertemplate:"구간: %{x}<br>빈도: %{y}<extra></extra>"},{x:n.map(e=>e.x),y:n.map(e=>e.y*t.length*(Math.max(...t)-Math.min(...t))/20),type:"scatter",mode:"lines",name:"정규분포",line:{color:"red",width:2},yaxis:"y",hovertemplate:"값: %{x:.2f}<br>밀도: %{y:.2f}<extra></extra>"},{x:t,type:"box",name:"박스플롯",boxmean:"sd",orientation:"h",yaxis:"y2",marker:{color:"rgba(34, 197, 94, 0.6)"},hovertemplate:"최대: %{x[5]}<br>Q3: %{x[4]}<br>중앙값: %{x[3]}<br>Q1: %{x[2]}<br>최소: %{x[1]}<br>평균: %{mean}<br>표준편차: %{sd}<extra></extra>"}],layout:{...E({title:{text:""},xaxis:{title:{text:e.name}},yaxis:{title:{text:"빈도"},domain:[0,.7]},yaxis2:{domain:[.75,1],showticklabels:!1},height:350,showlegend:!0}),margin:{l:50,r:10,t:30,b:40},legend:{orientation:"h",y:1.15,x:.5,xanchor:"center"}},config:{displayModeBar:!1,responsive:!0}}):(0,a.jsx)("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:(0,a.jsx)("p",{children:"데이터가 없습니다"})})})]},s)}),sd.slice(0,2).map((e,s)=>e.topValues&&0!==e.topValues.length?(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsxs)(b.ZB,{className:"text-sm",children:[e.name," 빈도"]})}),(0,a.jsx)(b.Wu,{className:"h-[300px]",children:(0,a.jsx)(O,{data:[{x:e.topValues.slice(0,10).map(e=>e.value),y:e.topValues.slice(0,10).map(e=>e.count),type:"bar",...M.bar,hovertemplate:"%{x}: %{y}개<extra></extra>"}],layout:{...E({title:{text:""},xaxis:{title:{text:""},tickangle:-45},yaxis:{title:{text:"빈도"}},height:250,showlegend:!1}),margin:{l:40,r:10,t:10,b:60}},config:{displayModeBar:!1,responsive:!0}})})]},"cat-".concat(s)):null)]}),sc&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{children:"변수 간 상관관계 히트맵"})}),(0,a.jsxs)(b.Wu,{className:"h-[500px]",children:[(()=>{let{matrix:e,varNames:s}=sc,t=e.map(e=>e.map(e=>e.toFixed(2)));return(0,a.jsx)(O,{data:[{z:e,x:s,y:s,type:"heatmap",colorscale:[[0,"rgb(67, 56, 202)"],[.25,"rgb(59, 130, 246)"],[.5,"rgb(255, 255, 255)"],[.75,"rgb(251, 146, 60)"],[1,"rgb(220, 38, 38)"]],zmin:-1,zmax:1,text:t,texttemplate:"%{text}",textfont:{size:12},hovertemplate:"%{x} - %{y}<br>상관계수: %{z:.3f}<extra></extra>",showscale:!0,colorbar:{title:{text:"상관계수"},titleside:"right",tickmode:"array",tickvals:[-1,-.5,0,.5,1],ticktext:["-1","-0.5","0","0.5","1"],len:.8}}],layout:{...E({title:{text:""},xaxis:{side:"bottom",tickangle:-45},yaxis:{autorange:"reversed"},height:450,showlegend:!1}),margin:{l:100,r:80,t:20,b:100}},config:{displayModeBar:!1,responsive:!0}})})(),(0,a.jsxs)("div",{className:"mt-4 text-xs text-muted-foreground",children:[(0,a.jsxs)("p",{children:["색상 해석: ",(0,a.jsx)("span",{className:"text-blue-600",children:"파랑(음의 상관)"})," | ",(0,a.jsx)("span",{children:"흰색(무상관)"})," | ",(0,a.jsx)("span",{className:"text-red-600",children:"빨강(양의 상관)"})]}),(0,a.jsx)("p",{children:"상관계수: -1 (완전 음의 상관) ~ 0 (무상관) ~ 1 (완전 양의 상관)"})]})]})]}),si.length>=2&&si.length<=4&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)(b.aR,{children:[(0,a.jsx)(b.ZB,{children:"산점도 매트릭스 (Pairplot)"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"변수 간 관계를 시각적으로 탐색합니다."})]}),(0,a.jsx)(b.Wu,{className:"h-[600px]",children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:si.slice(0,4).map((e,s)=>si.slice(0,4).map((t,l)=>{if(s>=l)return null;eD.map(s=>parseFloat(s[e.name])).filter(e=>!isNaN(e)),eD.map(e=>parseFloat(e[t.name])).filter(e=>!isNaN(e));let r=eD.filter(s=>!isNaN(parseFloat(s[e.name]))&&!isNaN(parseFloat(s[t.name]))).map(s=>({x:parseFloat(s[e.name]),y:parseFloat(s[t.name])}));return 0===r.length?null:(0,a.jsx)("div",{className:"border rounded p-2",children:(0,a.jsx)(O,{data:[{x:r.map(e=>e.x),y:r.map(e=>e.y),type:"scatter",mode:"markers",marker:{color:"rgba(59, 130, 246, 0.6)",size:5},hovertemplate:"".concat(e.name,": %{x}<br>").concat(t.name,": %{y}<extra></extra>")}],layout:{...E({title:{text:""},xaxis:{title:{text:e.name},titlefont:{size:10}},yaxis:{title:{text:t.name},titlefont:{size:10}},height:200,showlegend:!1}),margin:{l:40,r:10,t:10,b:30}},config:{displayModeBar:!1,responsive:!0}})},"".concat(s,"-").concat(l))}).filter(Boolean))})})]}),si.length>0&&(0,a.jsxs)(b.Zp,{children:[(0,a.jsxs)(b.aR,{children:[(0,a.jsx)(b.ZB,{children:"Q-Q Plot (Quantile-Quantile Plot)"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"데이터가 정규분포를 따르는지 시각적으로 확인합니다. 점들이 직선에 가까울수록 정규분포에 가깝습니다."})]}),(0,a.jsx)(b.Wu,{children:(0,a.jsx)("div",{className:"grid grid-cols-2 gap-4",children:si.slice(0,4).map((e,s)=>{let t=eD.map(s=>parseFloat(s[e.name])).filter(e=>!isNaN(e)).sort((e,s)=>e-s);if(t.length<3)return null;let l=t.length,r=t.map((e,s)=>Math.sqrt(2)*function(e){if(Math.abs(e)>=1)return e>0?1/0:-1/0;let s=e<0?-1:1,t=Math.log(1-(e=Math.abs(e))*e),a=2/(.147*Math.PI)+t/2;return s*Math.sqrt(Math.sqrt(a*a-t/.147)-a)}((s+.5)/l*2-1)),n=t.reduce((e,s)=>e+s,0)/l,i=Math.sqrt(t.reduce((e,s)=>e+Math.pow(s-n,2),0)/l),d=t.map(e=>(e-n)/i);return(0,a.jsx)("div",{className:"h-[250px]",children:(0,a.jsx)(O,{data:[{x:r,y:d,type:"scatter",mode:"markers",name:"데이터",marker:{color:"blue",size:5}},{x:[-3,3],y:[-3,3],type:"scatter",mode:"lines",name:"정규분포선",line:{color:"red",dash:"dash"}}],layout:{...E({title:{text:e.name,font:{size:12}},xaxis:{title:{text:"이론적 분위수"},titlefont:{size:10}},yaxis:{title:{text:"표본 분위수"},titlefont:{size:10}},height:220,showlegend:!1}),margin:{l:50,r:20,t:30,b:40}},config:{displayModeBar:!1,responsive:!0}})},s)})})})]})]})]}),(0,a.jsx)(y.lG,{open:e0,onOpenChange:e2,children:(0,a.jsxs)(y.Cf,{className:"max-w-3xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsx)(y.c7,{children:(0,a.jsxs)(y.L3,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.A,{className:"h-5 w-5"}),"데이터 편집 가이드"]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(w.Fc,{className:"border-blue-200 bg-blue-50 dark:bg-blue-950/20",children:[(0,a.jsx)(u.A,{className:"h-4 w-4"}),(0,a.jsx)(w.TN,{children:"통계 가정 충족을 위해 데이터를 변환하거나 편집해야 할 수 있습니다. 아래 방법들을 참고하여 데이터를 준비하세요."})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{className:"text-base",children:"\uD83D\uDCC9 정규성 문제 해결"})}),(0,a.jsx)(b.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"변환 방법:"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-mono text-xs mb-1",children:"np.log(data)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"로그 변환: 오른쪽으로 치우친 데이터"})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-mono text-xs mb-1",children:"np.sqrt(data)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"제곱근 변환: 약한 치우침"})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-mono text-xs mb-1",children:"scipy.stats.boxcox(data)"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Box-Cox 변환: 최적 람다 자동 결정"})]})]})]})})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{className:"text-base",children:"⚠️ 이상치 처리"})}),(0,a.jsx)(b.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"처리 방법:"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1",children:"제거 (Removal):"}),(0,a.jsx)("p",{className:"font-mono text-xs",children:"data = data[data['col'] < threshold]"})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1",children:"Winsorization:"}),(0,a.jsx)("p",{className:"font-mono text-xs",children:"data.clip(lower=q1, upper=q3)"})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1",children:"IQR 방법:"}),(0,a.jsx)("p",{className:"font-mono text-xs",children:"Q1 - 1.5*IQR, Q3 + 1.5*IQR"})]})]})]})})]}),(0,a.jsxs)(b.Zp,{children:[(0,a.jsx)(b.aR,{children:(0,a.jsx)(b.ZB,{className:"text-base",children:"\uD83D\uDD73️ 결측값 처리"})}),(0,a.jsx)(b.Wu,{className:"space-y-3",children:(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"font-medium text-sm mb-2",children:"대체 방법:"}),(0,a.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1",children:"평균 대체:"}),(0,a.jsx)("p",{className:"font-mono text-xs",children:"data.fillna(data.mean())"})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1",children:"중앙값 대체:"}),(0,a.jsx)("p",{className:"font-mono text-xs",children:"data.fillna(data.median())"})]}),(0,a.jsxs)("div",{className:"p-2 bg-muted/50 rounded",children:[(0,a.jsx)("p",{className:"font-medium text-xs mb-1",children:"삭제:"}),(0,a.jsx)("p",{className:"font-mono text-xs",children:"data.dropna()"})]})]})]})})]}),(0,a.jsxs)(w.Fc,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsxs)(w.TN,{children:[(0,a.jsx)("strong",{children:"주의:"})," 데이터 변환 전 원본을 반드시 백업하세요. 변환은 해석에 영향을 줄 수 있으므로 신중하게 선택하세요."]})]})]})]})}),e$&&(0,a.jsxs)(w.Fc,{variant:"destructive",className:"mt-4",children:[(0,a.jsx)(r.A,{className:"h-4 w-4"}),(0,a.jsx)(w.TN,{children:e$})]})]})})},30497:(e,s,t)=>{t.d(s,{m:()=>c,w:()=>d});var a=t(95155),l=t(12115),r=t(672);async function n(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=null;for(let l=0;l<s;l++)try{return await e()}catch(e){a=e,l<s-1&&await new Promise(e=>setTimeout(e,t*Math.pow(2,l)))}throw a||Error("Pyodide operation failed after all retries")}let i=(0,l.createContext)({isLoaded:!1,isLoading:!1,error:null,service:null});function d(){return(0,l.useContext)(i)}function c(e){let{children:s}=e,[t,d]=(0,l.useState)(!1),[c,o]=(0,l.useState)(!1),[m,x]=(0,l.useState)(null),[u,h]=(0,l.useState)(null),[g,p]=(0,l.useState)(!1),j=(0,l.useRef)(!1);(0,l.useEffect)(()=>{if(g){let e=setTimeout(()=>{p(!1)},3e3);return()=>clearTimeout(e)}},[g]);let b=(0,l.useCallback)(async()=>{let e=r.P.getInstance();o(!0),x(null);try{let s=performance.now();await n(()=>e.initialize(),3,1e3),((performance.now()-s)/1e3).toFixed(2),h(e),d(!0),p(!0)}catch(e){x(e instanceof Error?e.message:"Pyodide 초기화 실패")}finally{o(!1)}},[]);return(0,l.useEffect)(()=>{let e=r.P.getInstance();if(e.isInitialized()){h(e),d(!0),o(!1);return}j.current||(j.current=!0,b())},[b]),(0,a.jsxs)(i.Provider,{value:{isLoaded:t,isLoading:c,error:m,service:u},children:[s,c&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 bg-background/80 backdrop-blur-sm border rounded-lg p-3 shadow-sm z-50",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-3 w-3 border-b-2 border-primary"}),(0,a.jsx)("span",{className:"text-muted-foreground",children:"통계 엔진 로딩중..."})]})}),m&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 bg-red-100 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg p-3 shadow-sm z-50",children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-red-600 dark:text-red-400",children:(0,a.jsx)("span",{children:"⚠️ 통계 엔진 로드 실패"})}),(0,a.jsx)("button",{onClick:()=>{x(null),j.current=!1,b()},className:"text-xs text-red-600 dark:text-red-400 underline hover:no-underline",children:"다시 시도"})]})}),g&&(0,a.jsx)("div",{className:"fixed bottom-4 right-4 bg-green-100 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg p-3 shadow-sm z-50 animate-in fade-in slide-in-from-bottom-2 duration-300",children:(0,a.jsx)("div",{className:"flex items-center gap-2 text-sm text-green-600 dark:text-green-400",children:(0,a.jsx)("span",{children:"✅ 통계 엔진 준비 완료"})})})]})}},32559:(e,s,t)=>{t.d(s,{Fc:()=>i,TN:()=>c,XL:()=>d});var a=t(95155);t(12115);var l=t(83101),r=t(25016);let n=(0,l.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:t,...l}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,r.cn)(n({variant:t}),s),...l})}function d(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,r.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,r.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},32949:(e,s,t)=>{t.d(s,{vF:()=>l});class a{log(e,s,t){let a={level:e,message:s,data:t,timestamp:new Date};if(this.logs.push(a),this.logs.length>100&&this.logs.shift(),this.isDevelopment){let s=a.timestamp.toISOString();"[".concat(s,"] [").concat(e.toUpperCase(),"]")}this.isDevelopment}debug(e,s){this.log("debug",e,s)}info(e,s){this.log("info",e,s)}warn(e,s){this.log("warn",e,s)}error(e,s){this.log("error",e,s)}getRecentLogs(e){return[...e?this.logs.slice(-e):this.logs]}clear(){this.logs=[]}constructor(){this.isDevelopment=!1,this.logs=[]}}let l=new a},54679:(e,s,t)=>{t.d(s,{Cf:()=>m,Es:()=>u,L3:()=>h,c7:()=>x,lG:()=>i,rr:()=>g,zM:()=>d});var a=t(95155);t(12115);var l=t(93409),r=t(65229),n=t(25016);function i(e){let{...s}=e;return(0,a.jsx)(l.bL,{"data-slot":"dialog",...s})}function d(e){let{...s}=e;return(0,a.jsx)(l.l9,{"data-slot":"dialog-trigger",...s})}function c(e){let{...s}=e;return(0,a.jsx)(l.ZL,{"data-slot":"dialog-portal",...s})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(l.hJ,{"data-slot":"dialog-overlay",className:(0,n.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function m(e){let{className:s,children:t,showCloseButton:i=!0,...d}=e;return(0,a.jsxs)(c,{"data-slot":"dialog-portal",children:[(0,a.jsx)(o,{}),(0,a.jsxs)(l.UC,{"data-slot":"dialog-content",className:(0,n.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...d,children:[t,i&&(0,a.jsxs)(l.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,n.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function u(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,n.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(l.hE,{"data-slot":"dialog-title",className:(0,n.cn)("text-lg leading-none font-semibold",s),...t})}function g(e){let{className:s,...t}=e;return(0,a.jsx)(l.VY,{"data-slot":"dialog-description",className:(0,n.cn)("text-muted-foreground text-sm",s),...t})}},67812:(e,s,t)=>{t.d(s,{E:()=>d});var a=t(95155);t(12115);var l=t(32467),r=t(83101),n=t(25016);let i=(0,r.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-green-500 text-white [a&]:hover:bg-green-600 dark:bg-green-600 dark:[a&]:hover:bg-green-700",warning:"border-transparent bg-yellow-500 text-white [a&]:hover:bg-yellow-600 dark:bg-yellow-600 dark:[a&]:hover:bg-yellow-700"}},defaultVariants:{variant:"default"}});function d(e){let{className:s,variant:t,asChild:r=!1,...d}=e,c=r?l.DX:"span";return(0,a.jsx)(c,{"data-slot":"badge",className:(0,n.cn)(i({variant:t}),s),...d})}},90923:(e,s,t)=>{t.d(s,{Xi:()=>d,av:()=>c,j7:()=>i,tU:()=>n});var a=t(95155);t(12115);var l=t(25667),r=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)(l.bL,{"data-slot":"tabs",className:(0,r.cn)("flex flex-col gap-2",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)(l.B8,{"data-slot":"tabs-list",className:(0,r.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(l.l9,{"data-slot":"tabs-trigger",className:(0,r.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(l.UC,{"data-slot":"tabs-content",className:(0,r.cn)("flex-1 outline-none",s),...t})}}}]);