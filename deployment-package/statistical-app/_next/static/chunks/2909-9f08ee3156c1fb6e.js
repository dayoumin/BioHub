"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2909],{14824:(e,s,t)=>{t.d(s,{C:()=>n});var a=t(25959),r=t(89863);let n=(0,a.v)()((0,r.lt)((0,r.Zr)((e,s)=>({datasets:[],projects:[],results:[],isLoading:!1,currentPage:"/",sidebarOpen:!0,preferences:{defaultSignificanceLevel:.05,defaultConfidenceLevel:95,multipleComparisonsCorrection:"bonferroni",effectSizeReporting:!0,chartStyle:"professional",notifications:{analysisCompletion:!0,dataUploadErrors:!0,weeklySummary:!1}},addDataset:s=>{let t={...s,id:crypto.randomUUID(),uploadedAt:new Date};return e(e=>({datasets:[...e.datasets,t]})),t},updateDataset:(s,t)=>e(e=>({datasets:e.datasets.map(e=>e.id===s?{...e,...t}:e)})),removeDataset:s=>e(e=>({datasets:e.datasets.filter(e=>e.id!==s)})),addProject:s=>e(e=>({projects:[...e.projects,{...s,id:crypto.randomUUID(),createdAt:new Date,updatedAt:new Date}]})),updateProject:(s,t)=>e(e=>({projects:e.projects.map(e=>e.id===s?{...e,...t,updatedAt:new Date}:e)})),addAnalysisResult:s=>{let t=crypto.randomUUID(),a={...s,id:t,createdAt:new Date};return e(e=>({results:[...e.results,a]})),t},updateAnalysisResult:(s,t)=>e(e=>({results:e.results.map(e=>e.id===s?{...e,...t}:e)})),setLoading:s=>e({isLoading:s}),setCurrentPage:s=>e({currentPage:s}),setSidebarOpen:s=>e({sidebarOpen:s}),updatePreferences:s=>e(e=>({preferences:{...e.preferences,...s}})),getDatasetById:e=>s().datasets.find(s=>s.id===e),getProjectById:e=>s().projects.find(s=>s.id===e),getAnalysisResultById:e=>s().results.find(s=>s.id===e),getAnalysisResult:e=>s().results.find(s=>s.id===e),getActiveDatasets:()=>s().datasets.filter(e=>"active"===e.status),getRecentAnalyses:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return s().results.sort((e,s)=>s.createdAt.getTime()-e.createdAt.getTime()).slice(0,e)},getAnalysesByDataset:e=>s().results.filter(s=>s.datasetId===e).sort((e,s)=>s.createdAt.getTime()-e.createdAt.getTime()),getCompletedAnalyses:()=>s().results.filter(e=>"completed"===e.status).sort((e,s)=>s.createdAt.getTime()-e.createdAt.getTime())}),{name:"statistical-platform-storage",partialize:e=>({datasets:e.datasets,projects:e.projects,results:e.results,preferences:e.preferences})}),{name:"statistical-platform-store"}))},25016:(e,s,t)=>{t.d(s,{cn:()=>n});var a=t(2821),r=t(75889);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,r.QP)((0,a.$)(s))}},32559:(e,s,t)=>{t.d(s,{Fc:()=>l,TN:()=>o,XL:()=>c});var a=t(95155);t(12115);var r=t(83101),n=t(25016);let i=(0,r.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function l(e){let{className:s,variant:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(i({variant:t}),s),...r})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,n.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",s),...t})}},54679:(e,s,t)=>{t.d(s,{Cf:()=>u,Es:()=>x,L3:()=>p,c7:()=>m,lG:()=>l,rr:()=>h,zM:()=>c});var a=t(95155);t(12115);var r=t(93409),n=t(65229),i=t(25016);function l(e){let{...s}=e;return(0,a.jsx)(r.bL,{"data-slot":"dialog",...s})}function c(e){let{...s}=e;return(0,a.jsx)(r.l9,{"data-slot":"dialog-trigger",...s})}function o(e){let{...s}=e;return(0,a.jsx)(r.ZL,{"data-slot":"dialog-portal",...s})}function d(e){let{className:s,...t}=e;return(0,a.jsx)(r.hJ,{"data-slot":"dialog-overlay",className:(0,i.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",s),...t})}function u(e){let{className:s,children:t,showCloseButton:l=!0,...c}=e;return(0,a.jsxs)(o,{"data-slot":"dialog-portal",children:[(0,a.jsx)(d,{}),(0,a.jsxs)(r.UC,{"data-slot":"dialog-content",className:(0,i.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",s),...c,children:[t,l&&(0,a.jsxs)(r.bm,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,a.jsx)(n.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function m(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-header",className:(0,i.cn)("flex flex-col gap-2 text-center sm:text-left",s),...t})}function x(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"dialog-footer",className:(0,i.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s),...t})}function p(e){let{className:s,...t}=e;return(0,a.jsx)(r.hE,{"data-slot":"dialog-title",className:(0,i.cn)("text-lg leading-none font-semibold",s),...t})}function h(e){let{className:s,...t}=e;return(0,a.jsx)(r.VY,{"data-slot":"dialog-description",className:(0,i.cn)("text-muted-foreground text-sm",s),...t})}},55850:(e,s,t)=>{t.d(s,{k:()=>i});var a=t(95155);t(12115);var r=t(9484),n=t(25016);function i(e){let{className:s,value:t,...i}=e;return(0,a.jsx)(r.bL,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...i,children:(0,a.jsx)(r.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}},67812:(e,s,t)=>{t.d(s,{E:()=>c});var a=t(95155);t(12115);var r=t(32467),n=t(83101),i=t(25016);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",success:"border-transparent bg-green-500 text-white [a&]:hover:bg-green-600 dark:bg-green-600 dark:[a&]:hover:bg-green-700",warning:"border-transparent bg-yellow-500 text-white [a&]:hover:bg-yellow-600 dark:bg-yellow-600 dark:[a&]:hover:bg-yellow-700"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,asChild:n=!1,...c}=e,o=n?r.DX:"span";return(0,a.jsx)(o,{"data-slot":"badge",className:(0,i.cn)(l({variant:t}),s),...c})}},82909:(e,s,t)=>{t.d(s,{e:()=>B,X:()=>S});var a=t(95155),r=t(12115),n=t(6132),i=t(65229),l=t(80534),c=t(61362),o=t(57828),d=t(21786),u=t(89715),m=t(20908),x=t(97003),p=t(67812),h=t(83209),g=t(55850),f=t(32559),v=t(54679),j=t(25016),y=t(9349),N=t.n(y);function b(e){return new Promise((s,t)=>{N().parse(e,{header:!0,skipEmptyLines:!0,dynamicTyping:!0,transformHeader:e=>e.trim(),complete:e=>{let t=[];e.errors.length>0&&t.push(...e.errors.map(e=>"Row ".concat(e.row,": ").concat(e.message))),s({headers:e.meta.fields||[],rows:e.data,errors:t})},error:e=>{t(Error("CSV parsing failed: ".concat(e.message)))}})})}function w(e,s){let t=[],a=[];if(0===s.length)return t.push("데이터셋이 비어있습니다. CSV 파일에 데이터가 포함되어 있는지 확인해주세요."),{isValid:!1,errors:t,warnings:a,columns:[],rowCount:0,columnCount:0};0===e.length&&t.push("열 헤더를 찾을 수 없습니다. CSV 파일의 첫 번째 줄에 열 이름이 포함되어 있는지 확인해주세요.");let r=e.filter((s,t)=>e.indexOf(s)!==t);r.length>0&&t.push("중복된 열 이름이 있습니다: ".concat(r.join(", "),". 각 열은 고유한 이름을 가져야 합니다.")),e.filter(e=>!e||""===e.trim()).length>0&&t.push("일부 열에 이름이 없습니다. 모든 열은 유효한 이름을 가져야 합니다.");let n=e.map((e,r)=>{let n,i=s.map(s=>s[e]),l=i.filter(e=>null==e||""===e).length,c=new Set(i.filter(e=>null!=e&&""!==e)),o=function(e){let s=e.filter(e=>null!=e&&""!==e),t=e.length-s.length;if(0===s.length)return{detectedType:"text",issues:["모든 값이 비어있습니다."],numericCount:0,textCount:0,emptyCount:t,mixedExamples:[]};let a=[],r=[],n=[],i=[];s.forEach(e=>{if("number"==typeof e)a.push(e);else if("string"==typeof e){let s=e.trim();if(""===s)return;if(!isNaN(Number(s))&&""!==s){let e=Number(s);if(isFinite(e))return void a.push(e)}if(s.match(/^\d{4}-\d{2}-\d{2}$|^\d{2}\/\d{2}\/\d{4}$|^\d{2}-\d{2}-\d{4}$/)&&!isNaN(new Date(s).getTime()))return void n.push(s);r.push(s)}else i.push({value:e,type:typeof e})});let l=a.length,c=r.length,o=n.length,d=i.length,u=l+c+o+d,m=[];if([l>0?"numeric":null,c>0?"text":null,o>0?"date":null,d>0?"mixed":null].filter(Boolean).length>1){m.push("데이터 타입이 혼재되어 있습니다: 숫자 ".concat(l,"개, 텍스트 ").concat(c,"개, 날짜 ").concat(o,"개, 기타 ").concat(d,"개"));let e=[];return l>0&&c>0&&e.push({value:a[0],type:"number"},{value:r[0],type:"text"}),{detectedType:"mixed",issues:m,numericCount:l,textCount:c,emptyCount:t,mixedExamples:e}}return{detectedType:l/u>.9?"numeric":o/u>.7?"date":c>0&&new Set(r).size<=Math.min(20,.5*c)?"categorical":"text",issues:m,numericCount:l,textCount:c,emptyCount:t,mixedExamples:[]}}(i),d="mixed"===o.detectedType?"text":o.detectedType,u={typeConsistency:"mixed"!==o.detectedType,issues:[...o.issues]};if("mixed"===o.detectedType&&(t.push('"'.concat(e,'" 열에 데이터 타입이 혼재되어 있습니다. 예시: ').concat(o.mixedExamples.map(e=>"".concat(e.value,"(").concat(e.type,")")).join(", "))),u.mixedTypeExamples=o.mixedExamples,u.issues.push("데이터 타입 불일치로 인해 통계 분석이 불가능합니다.")),"numeric"===d&&o.numericCount>0){let s=[],t=[];if(i.forEach((e,a)=>{let r=null;"number"==typeof e?r=e:"string"!=typeof e||isNaN(Number(e))||""===e.trim()||(r=Number(e)),null!==r&&isFinite(r)&&(s.push(r),t.push(a))}),s.length>0&&(n=function(e){let s=e.filter(e=>!isNaN(e)&&isFinite(e)).sort((e,s)=>e-s);if(0===s.length)return;let t=s.reduce((e,s)=>e+s,0)/s.length,a=s.length%2==0?(s[s.length/2-1]+s[s.length/2])/2:s[Math.floor(s.length/2)],r=Math.sqrt(s.reduce((e,s)=>e+Math.pow(s-t,2),0)/s.length),n=Math.floor(.25*s.length),i=Math.floor(.75*s.length);return{mean:Number(t.toFixed(4)),median:Number(a.toFixed(4)),std:Number(r.toFixed(4)),min:s[0],max:s[s.length-1],q1:s[n],q3:s[i]}}(s),s.length>=5)){let r=function(e,s){if(e.length<4)return[];let t=[...e].sort((e,s)=>e-s),a=Math.floor(.25*t.length),r=Math.floor(.75*t.length),n=t[a],i=t[r],l=i-n,c=n-1.5*l,o=i+1.5*l,d=n-3*l,u=i+3*l,m=[];return e.forEach((t,a)=>{if(t<c||t>o){let r=e.reduce((e,s)=>e+s,0)/e.length,n=Math.sqrt(e.reduce((e,s)=>e+Math.pow(s-r,2),0)/(e.length-1)),i=Math.abs((t-r)/n);m.push({value:t,zScore:i,isExtreme:t<d||t>u,rowIndex:s[a]})}}),m.sort((e,s)=>s.zScore-e.zScore)}(s,t);if(r.length>0){u.outliers=r;let s=r.filter(e=>e.isExtreme);s.length>0?(a.push('"'.concat(e,'" 열에 극단 이상치 ').concat(s.length,"개가 발견되었습니다. (예: ").concat(s[0].value,")")),u.issues.push("극단 이상치가 ".concat(s.length,"개 있습니다. 분석 결과에 영향을 줄 수 있습니다."))):(a.push('"'.concat(e,'" 열에 이상치 ').concat(r.length,"개가 발견되었습니다.")),u.issues.push("이상치가 ".concat(r.length,"개 있습니다. 검토가 필요합니다.")))}}}let m=l/s.length*100;return m>50?(a.push('"'.concat(e,'" 열에 결측값이 ').concat(m.toFixed(1),"% 있습니다. 분석 결과에 영향을 줄 수 있습니다.")),u.issues.push("결측값이 ".concat(m.toFixed(1),"%로 과도합니다."))):m>20&&(a.push('"'.concat(e,'" 열에 결측값이 ').concat(m.toFixed(1),"% 있습니다. 통계 분석 시 주의가 필요합니다.")),u.issues.push("결측값이 ".concat(m.toFixed(1),"%로 다소 많습니다."))),{name:e,type:d,values:i,missingCount:l,uniqueCount:c.size,summary:n,dataQuality:u}});return 0===n.filter(e=>"numeric"===e.type).length&&a.push("수치형 변수가 없습니다. 대부분의 통계 분석에는 최소 1개의 수치형 변수가 필요합니다."),s.length<3?a.push("데이터 행이 매우 적습니다 (3개 미만). 통계 분석 결과가 신뢰할 수 없을 수 있습니다. 더 많은 데이터를 수집하는 것을 권장합니다."):s.length<10&&a.push("데이터 행이 적습니다 (10개 미만). 통계 분석의 신뢰성을 위해 더 많은 데이터를 권장합니다."),e.length<2&&a.push("데이터에 변수가 1개뿐입니다. 상관분석, 회귀분석 등 다변량 분석을 수행할 수 없습니다."),n.forEach(e=>{1===e.uniqueCount&&a.push('"'.concat(e.name,'" 열의 모든 값이 동일합니다. 이 변수는 통계 분석에 유용하지 않을 수 있습니다.'))}),{isValid:0===t.length,errors:t,warnings:a,columns:n,rowCount:s.length,columnCount:e.length}}function C(e,s,t,a){let r=a.isValid?a.warnings.length>0?"processed":"active":"error";return{name:e||s.name.replace(/\.[^/.]+$/,""),description:"".concat(a.rowCount," rows \xd7 ").concat(a.columnCount," columns"),format:s.type||"text/csv",size:function(e){if(0===e)return"0 B";let s=Math.floor(Math.log(e)/Math.log(1024));return"".concat((e/Math.pow(1024,s)).toFixed(1)," ").concat(["B","KB","MB","GB"][s])}(s.size),rows:a.rowCount,columns:a.columnCount,status:r,data:t.rows}}function A(e){if(e.size>0x3200000)return{isValid:!1,error:"파일 크기가 50MB 제한을 초과합니다. 더 작은 파일을 업로드해주세요."};if(0===e.size)return{isValid:!1,error:"빈 파일입니다. 데이터가 포함된 파일을 업로드해주세요."};let s=e.name.toLowerCase().substring(e.name.lastIndexOf("."));return["text/csv","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"].includes(e.type)||[".csv",".xls",".xlsx",".tsv",".txt"].includes(s)?e.name.includes("..")||e.name.includes("/")||e.name.includes("\\")?{isValid:!1,error:"파일명에 특수문자가 포함되어 있습니다. 안전한 파일명을 사용해주세요."}:{isValid:!0}:{isValid:!1,error:"지원하지 않는 파일 형식입니다. CSV, Excel (.xls, .xlsx), TSV 파일만 업로드 가능합니다. 현재 파일: ".concat(s||"확장자 없음")}}var k=t(14824),D=t(18720),_=t(90923),E=t(24722),z=t(23327),M=t(39867);function T(){let e=e=>{let s=document.createElement("a");s.href="/test-data/".concat(e),s.download=e,s.click()};return(0,a.jsx)("div",{className:"space-y-6",children:(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(E.A,{className:"h-6 w-6 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)(h.ZB,{children:"데이터 형식 가이드"}),(0,a.jsx)(h.BT,{children:"통계 분석을 위한 올바른 데이터 형식과 요구사항을 확인하세요"})]})]})}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)(_.tU,{defaultValue:"requirements",className:"w-full",children:[(0,a.jsxs)(_.j7,{className:"grid w-full grid-cols-4",children:[(0,a.jsx)(_.Xi,{value:"requirements",children:"분석별 요구사항"}),(0,a.jsx)(_.Xi,{value:"data-types",children:"데이터 유형"}),(0,a.jsx)(_.Xi,{value:"common-issues",children:"일반적 문제"}),(0,a.jsx)(_.Xi,{value:"samples",children:"샘플 파일"})]}),(0,a.jsxs)(_.av,{value:"requirements",className:"space-y-4",children:[(0,a.jsxs)(f.Fc,{children:[(0,a.jsx)(z.A,{className:"h-4 w-4"}),(0,a.jsx)(f.TN,{children:"각 통계 분석에는 특정한 데이터 형식과 최소 샘플 수가 필요합니다."})]}),(0,a.jsx)("div",{className:"grid gap-4",children:[{name:"기초 통계량",variables:"최소 1개의 수치형 변수",minSamples:"제한 없음",example:"age, height, weight 등"},{name:"One-sample t-test",variables:"1개의 수치형 변수",minSamples:"최소 3개",example:"before_treatment 또는 score"},{name:"Two-sample t-test",variables:"1개의 수치형 + 1개의 그룹 변수",minSamples:"각 그룹당 최소 3개",example:"score, group (A/B)"},{name:"Paired t-test",variables:"2개의 수치형 변수 (사전-사후)",minSamples:"최소 3쌍",example:"before_score, after_score"},{name:"One-way ANOVA",variables:"1개의 수치형 + 1개의 그룹 변수",minSamples:"각 그룹당 최소 3개",example:"score, treatment_group (A/B/C)"},{name:"상관분석",variables:"2개의 수치형 변수",minSamples:"최소 5개 (권장 30개 이상)",example:"study_hours, test_score"},{name:"단순 선형회귀",variables:"2개의 수치형 변수",minSamples:"최소 5개 (권장 30개 이상)",example:"x_variable, y_variable"}].map((e,s)=>(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{className:"pb-3",children:(0,a.jsx)(h.ZB,{className:"text-lg",children:e.name})}),(0,a.jsx)(h.Wu,{className:"space-y-2",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"필요 변수:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.variables})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"최소 샘플:"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:e.minSamples})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("span",{className:"font-medium",children:"예시:"}),(0,a.jsx)("p",{className:"text-muted-foreground font-mono text-xs",children:e.example})]})]})})]},s))})]}),(0,a.jsxs)(_.av,{value:"data-types",className:"space-y-4",children:[(0,a.jsxs)(f.Fc,{children:[(0,a.jsx)(z.A,{className:"h-4 w-4"}),(0,a.jsx)(f.TN,{children:"데이터 유형을 올바르게 구분하면 적절한 통계 분석을 선택할 수 있습니다."})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.E,{variant:"default",children:"수치형"}),"숫자 데이터"]})}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"계산 가능한 연속적인 숫자 값"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["나이","키","몸무게","점수","온도","시간","거리","가격"].map((e,s)=>(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:e},s))})]})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.E,{variant:"secondary",children:"범주형"}),"카테고리 데이터"]})}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"구분되는 그룹이나 카테고리"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["성별 (남/여)","그룹 (A/B/C)","등급 (상/중/하)","지역","브랜드"].map((e,s)=>(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:e},s))})]})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.E,{variant:"outline",children:"텍스트"}),"문자 데이터"]})}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"자유형식 텍스트 (분석 제한적)"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["이름","주소","설명","댓글"].map((e,s)=>(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:e},s))})]})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsx)(h.aR,{children:(0,a.jsxs)(h.ZB,{className:"flex items-center gap-2",children:[(0,a.jsx)(p.E,{variant:"destructive",children:"날짜"}),"날짜/시간 데이터"]})}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"표준 날짜 형식 사용 권장"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-1",children:["2024-01-15","2024/01/15","15-01-2024"].map((e,s)=>(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:e},s))})]})})]})]})]}),(0,a.jsxs)(_.av,{value:"common-issues",className:"space-y-4",children:[(0,a.jsxs)(f.Fc,{children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsx)(f.TN,{children:"데이터 업로드 시 자주 발생하는 문제들과 해결 방법입니다."})]}),(0,a.jsx)("div",{className:"space-y-4",children:[{issue:"열 이름이 없거나 중복됨",solution:"첫 번째 행에 고유한 열 이름을 입력하세요",example:"subject_id, age, height (O) | 이름없음, age, age (X)"},{issue:"수치형 데이터에 텍스트 포함",solution:"숫자 데이터에는 숫자만 입력하세요",example:"25, 30, 35 (O) | 25세, 30살, 35 (X)"},{issue:"그룹 변수가 일관되지 않음",solution:"같은 그룹은 동일한 이름으로 표기하세요",example:"A, A, B, B (O) | Group A, A, GroupB, b (X)"},{issue:"결측값 표기가 다름",solution:"결측값은 빈 칸으로 두거나 'NA' 사용",example:"25, , 30, NA (O) | 25, 없음, 30, - (X)"}].map((e,s)=>(0,a.jsx)(h.Zp,{children:(0,a.jsx)(h.Wu,{className:"pt-6",children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)(n.A,{className:"h-5 w-5 text-destructive mt-0.5"}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h4",{className:"font-medium text-destructive",children:e.issue}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:e.solution})]})]}),(0,a.jsx)("div",{className:"bg-muted p-3 rounded-md",children:(0,a.jsx)("p",{className:"text-xs font-mono",children:e.example})})]})})},s))})]}),(0,a.jsxs)(_.av,{value:"samples",className:"space-y-4",children:[(0,a.jsxs)(f.Fc,{children:[(0,a.jsx)(c.A,{className:"h-4 w-4"}),(0,a.jsx)(f.TN,{children:"다양한 분석 유형에 맞는 샘플 데이터를 다운로드하여 참고하세요."})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:"기초 통계용 데이터"}),(0,a.jsx)(h.BT,{children:"기술통계, 단일표본 t검정용"})]}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"20개 행 \xd7 5개 변수 (subject_id, age, height, weight, score)"}),(0,a.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>e("sample-basic-stats.csv"),children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"다운로드"]})]})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:"두 그룹 비교 데이터"}),(0,a.jsx)(h.BT,{children:"독립표본 t검정, 일원분산분석용"})]}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"20개 행 \xd7 5개 변수 (subject_id, group, score, reaction_time, satisfaction)"}),(0,a.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>e("sample-two-groups.csv"),children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"다운로드"]})]})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:"상관분석 데이터"}),(0,a.jsx)(h.BT,{children:"상관분석, 단순회귀분석용"})]}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"20개 행 \xd7 5개 변수 (student_id, study_hours, test_score, motivation, sleep_hours)"}),(0,a.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>e("sample-correlation.csv"),children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"다운로드"]})]})})]}),(0,a.jsxs)(h.Zp,{children:[(0,a.jsxs)(h.aR,{children:[(0,a.jsx)(h.ZB,{className:"text-lg",children:"사전-사후 데이터"}),(0,a.jsx)(h.BT,{children:"대응표본 t검정용"})]}),(0,a.jsx)(h.Wu,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"20개 행 \xd7 4개 변수 (subject_id, before_treatment, after_treatment, improvement)"}),(0,a.jsxs)(x.$,{variant:"outline",size:"sm",onClick:()=>e("sample-before-after.csv"),children:[(0,a.jsx)(M.A,{className:"h-4 w-4 mr-2"}),"다운로드"]})]})})]})]})]})]})})]})})}function B(e){let{onUploadComplete:s,className:t,enableSmartAnalysis:y=!1}=e,{addDataset:N}=(0,k.C)(),[_,E]=(0,r.useState)({isDragOver:!1,isUploading:!1,progress:0}),z=(0,r.useRef)(null),M=(0,r.useCallback)(e=>{let s=A(e);return s.isValid?(E(e=>({...e,error:void 0})),!0):(E(e=>({...e,error:s.error})),!1)},[]),B=(0,r.useCallback)(async e=>{try{let t;E(e=>({...e,isUploading:!0,progress:10}));let a=Date.now();setTimeout(()=>{E(e=>({...e,progress:25}))},300);let r=await b(e);E(e=>({...e,progress:45})),setTimeout(()=>{E(e=>({...e,progress:60}))},Math.max(0,1e3-(Date.now()-a)));let n=w(r.headers,r.rows);E(e=>({...e,progress:75})),y&&n.isValid?(setTimeout(()=>{E(e=>({...e,progress:85}))},Math.max(0,2e3-(Date.now()-a))),t=function(e,s,t){var a,r,n,i,l,c,o;let d=[],u=[],m=[],x=function(e,s,t){let a=e.length*t,r=(a-e.reduce((e,s)=>e+s.missingCount,0))/a*100,n=t>=30?85:60;return{overall:t>=30&&r>=95&&n>=80?"excellent":t>=20&&r>=90&&n>=70?"good":t>=10&&r>=80?"fair":"poor",sampleSize:t,completeness:r,normalityScore:n,varianceHomogeneity:75}}(e,0,t);a=t,r=d,n=u,a<3?(r.push({type:"error",category:"sample_size",message:"표본 크기가 너무 작습니다 (".concat(a,"개). 통계 분석을 수행할 수 없습니다."),solution:"최소 3개 이상의 데이터가 필요합니다. 더 많은 데이터를 수집해주세요."}),n.push({type:"data_collection",title:"추가 데이터 수집 필요",description:"신뢰할 수 있는 통계 분석을 위해 더 많은 데이터를 수집해주세요.",priority:"high",actionable:!0})):a<10?r.push({type:"warning",category:"sample_size",message:"표본 크기가 작습니다 (".concat(a,"개). 일부 통계 검정의 신뢰성이 떨어질 수 있습니다."),solution:"더 정확한 분석을 위해 최소 30개 이상의 데이터를 권장합니다."}):a<30&&r.push({type:"info",category:"sample_size",message:"표본 크기가 중간 정도입니다 (".concat(a,"개). 중심극한정리 적용에 제한이 있을 수 있습니다."),solution:"정규성 가정을 더 엄격히 확인하거나 비모수 검정을 고려해보세요."});let{numericColumns:p,categoricalColumns:h}=function(e,s){let t=e.filter(e=>"numeric"===e.type),a=e.filter(e=>"categorical"===e.type);return 0===t.length&&s.push({type:"error",category:"data_type",message:"수치형 변수가 없습니다. 대부분의 통계 분석에는 최소 1개의 수치형 변수가 필요합니다.",solution:"숫자로 측정 가능한 변수를 포함하거나, 기존 변수를 수치형으로 변환해주세요.",affectedColumns:e.map(e=>e.name)}),e.forEach(e=>{1===e.uniqueCount&&s.push({type:"warning",category:"data_type",message:'"'.concat(e.name,'" 변수의 모든 값이 동일합니다. 분석에서 제외를 고려해보세요.'),solution:"다양한 값을 가지는 변수로 교체하거나 해당 변수를 제거해주세요.",affectedColumns:[e.name]})}),{numericColumns:t,categoricalColumns:a}}(e,d);i=e,l=t,c=d,o=u,i.forEach(e=>{let s=e.missingCount/l*100;s>50?(c.push({type:"error",category:"missing_data",message:'"'.concat(e.name,'" 변수에 결측값이 ').concat(s.toFixed(1),"% 있습니다. 분석 결과가 신뢰할 수 없습니다."),solution:"결측값을 보완하거나 해당 변수를 제외하고 분석해주세요.",affectedColumns:[e.name]}),o.push({type:"preprocessing",title:'"'.concat(e.name,'" 변수 결측값 처리'),description:"평균값 대체, 회귀 대체, 또는 변수 제거를 고려해보세요.",priority:"high",actionable:!0})):s>20&&c.push({type:"warning",category:"missing_data",message:'"'.concat(e.name,'" 변수에 결측값이 ').concat(s.toFixed(1),"% 있습니다. 분석 시 주의가 필요합니다."),solution:"결측값 패턴을 확인하고 적절한 처리 방법을 선택해주세요.",affectedColumns:[e.name]})});let g=function(e,s,t,a){let r={};return e.forEach(e=>{let n=s.map(s=>Number(s[e.name])).filter(e=>!isNaN(e));if(n.length<3){r[e.name]=!1;return}let i=function(e){if(e.length<3)return!1;let s=e.reduce((e,s)=>e+s,0)/e.length,t=Math.sqrt(e.reduce((e,t)=>e+Math.pow(t-s,2),0)/(e.length-1)),a=function(e,s,t){let a=e.length;return a/((a-1)*(a-2))*e.reduce((e,a)=>e+Math.pow((a-s)/t,3),0)}(e,s,t),r=function(e,s,t){let a=e.length;return a*(a+1)/((a-1)*(a-2)*(a-3))*e.reduce((e,a)=>e+Math.pow((a-s)/t,4),0)-3*Math.pow(a-1,2)/((a-2)*(a-3))}(e,s,t);return 2>Math.abs(a)&&4>Math.abs(r-3)}(n);r[e.name]=i,i||(t.push({type:"warning",category:"normality",message:'"'.concat(e.name,'" 변수가 정규분포를 따르지 않을 가능성이 있습니다.'),solution:"비모수 검정을 사용하거나 데이터 변환(로그, 제곱근 등)을 고려해보세요.",affectedColumns:[e.name]}),a.push({type:"alternative_test",title:'"'.concat(e.name,'" 변수 비정규성 대응'),description:"Mann-Whitney U 검정, Wilcoxon 검정 등 비모수 방법을 사용하세요.",priority:"medium",actionable:!0}))}),r}(p,s,d,u),f=function(e,s,t,a,r){let n={};return s.length>0&&e.length>0&&e.forEach(e=>{s.forEach(s=>{let r=function(e,s,t){let a=new Map;if(e.forEach(e=>{let r=String(e[t]),n=Number(e[s]);isNaN(n)||(a.has(r)||a.set(r,[]),a.get(r).push(n))}),a.size<2)return!0;let r=Array.from(a.values()).map(e=>{let s=e.reduce((e,s)=>e+s,0)/e.length;return e.reduce((e,t)=>e+Math.pow(t-s,2),0)/(e.length-1)});return Math.max(...r)/Math.min(...r)<4}(t,e.name,s.name);n["".concat(e.name,"_by_").concat(s.name)]=r,r||a.push({type:"warning",category:"variance",message:'"'.concat(s.name,'" 그룹 간 "').concat(e.name,'"의 분산이 동일하지 않을 수 있습니다.'),solution:"Welch t-test나 Games-Howell 사후검정을 사용해보세요.",affectedColumns:[e.name,s.name]})})}),n}(p,h,s,d,0);return function(e,s,t,a,r,n,i){if(e.length>0&&n.push({name:"기초 통계량",type:"descriptive",confidence:"high",reason:"수치형 변수가 있어 기초 통계량 계산이 가능합니다.",requirements:["최소 1개의 수치형 변수"],variables:{dependent:e.map(e=>e.name)}}),e.length>=1&&t>=3&&(e.some(e=>a[e.name])&&n.push({name:"One-sample t-test",type:"parametric",confidence:t>=30?"high":"medium",reason:"정규분포를 따르는 수치형 변수로 모집단 평균과 비교 가능합니다.",requirements:["정규성 가정 만족","최소 3개 관측값"],variables:{dependent:e.filter(e=>a[e.name]).map(e=>e.name)}}),n.push({name:"Wilcoxon Signed-rank test",type:"non_parametric",confidence:"medium",reason:"정규성 가정 없이 중앙값 비교가 가능합니다.",requirements:["최소 3개 관측값"],variables:{dependent:e.map(e=>e.name)}})),e.length>=1&&s.length>=1){let r=s.filter(e=>2===e.uniqueCount);r.length>0&&(e.some(e=>a[e.name])&&t>=6&&n.push({name:"Two-sample t-test",type:"parametric",confidence:t>=30?"high":"medium",reason:"두 그룹 간 평균 비교가 가능합니다.",requirements:["정규성 가정","각 그룹 최소 3개 관측값"],variables:{dependent:e.filter(e=>a[e.name]).map(e=>e.name),grouping:r.map(e=>e.name)}}),n.push({name:"Mann-Whitney U test",type:"non_parametric",confidence:"medium",reason:"정규성 가정 없이 두 그룹 비교가 가능합니다.",requirements:["각 그룹 최소 3개 관측값"],variables:{dependent:e.map(e=>e.name),grouping:r.map(e=>e.name)}}))}if(e.length>=2){let s=e.filter(e=>a[e.name]);s.length>=2&&n.push({name:"Pearson 상관분석",type:"parametric",confidence:t>=30?"high":"medium",reason:"두 연속형 변수 간 선형 관계를 분석할 수 있습니다.",requirements:["정규성 가정","선형 관계","최소 5개 관측값"],variables:{dependent:s.map(e=>e.name)}}),n.push({name:"Spearman 상관분석",type:"non_parametric",confidence:"medium",reason:"정규성 가정 없이 단조 관계를 분석할 수 있습니다.",requirements:["최소 5개 관측값"],variables:{dependent:e.map(e=>e.name)}})}0===n.length&&i.push({type:"error",category:"data_type",message:"현재 데이터로는 의미 있는 통계 분석을 수행할 수 없습니다.",solution:"수치형 변수를 추가하거나 데이터 구조를 변경해주세요."})}(p,h,t,g,0,m,d),{canAnalyze:!d.some(e=>"error"===e.type),issues:d,recommendations:u,suggestedTests:m,dataQuality:x}}(n.columns,r.rows,n.rowCount),E(e=>({...e,progress:90}))):E(e=>({...e,progress:85}));let i=C(e.name.replace(/\.[^/.]+$/,""),e,r,n),l=N(i),c=Date.now()-a;if(c<3e3?setTimeout(()=>{E(e=>({...e,progress:100}))},3e3-c):E(e=>({...e,progress:100})),n.errors.length>0){let e=n.errors[0];D.oR.error(e,{description:"데이터 형식을 확인하세요. 가이드를 참고하여 올바른 형식으로 업로드해주세요.",action:{label:"가이드 보기",onClick:()=>{document.dispatchEvent(new CustomEvent("open-data-guide"))}}})}else if(n.warnings.length>0){let e=n.warnings[0];D.oR.warning(e,{description:n.warnings.length>1?"추가로 ".concat(n.warnings.length-1,"개의 경고가 있습니다. 데이터를 검토해보세요."):"데이터가 업로드되었지만 주의가 필요합니다."})}else D.oR.success('✅ Dataset "'.concat(i.name,'" uploaded successfully! Ready for analysis.'));E(e=>({...e,progress:100,uploadedDataset:{id:l.id,name:i.name},smartAnalysis:t,showSmartAnalysis:y&&!!t})),null==s||s(l.id)}catch(s){let e=s instanceof Error?s.message:"Upload failed";E(s=>({...s,error:e,isUploading:!1,progress:0})),D.oR.error(e)}},[N,s]),S=(0,r.useCallback)(e=>{e.preventDefault(),E(e=>({...e,isDragOver:!1}));let s=Array.from(e.dataTransfer.files);if(0===s.length)return;let t=s[0];M(t)&&B(t)},[M,B]),R=(0,r.useCallback)(e=>{let s=e.target.files;if(!s||0===s.length)return;let t=s[0];M(t)&&B(t),e.target.value=""},[M,B]),F=(0,r.useCallback)(e=>{e.preventDefault(),E(e=>({...e,isDragOver:!0}))},[]),U=(0,r.useCallback)(e=>{e.preventDefault(),e.currentTarget.contains(e.relatedTarget)||E(e=>({...e,isDragOver:!1}))},[]),V=(0,r.useCallback)(()=>{E(e=>({...e,error:void 0}))},[]);return(0,a.jsx)("div",{className:t,children:(0,a.jsx)(h.Zp,{children:(0,a.jsxs)(h.Wu,{className:"p-6",children:[_.error&&(0,a.jsxs)(f.Fc,{variant:"destructive",className:"mb-4",children:[(0,a.jsx)(n.A,{className:"h-4 w-4"}),(0,a.jsxs)(f.TN,{className:"flex items-center justify-between",children:[_.error,(0,a.jsx)(x.$,{variant:"ghost",size:"sm",onClick:V,"aria-label":"오류 메시지 닫기",children:(0,a.jsx)(i.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)("div",{className:(0,j.cn)("border-2 border-dashed rounded-lg p-8 text-center transition-all duration-300",_.isDragOver?"border-primary bg-primary/10 scale-[1.02] shadow-lg ring-2 ring-primary/20":"border-muted-foreground/25 hover:border-muted-foreground/50 hover:bg-muted/20",_.isUploading&&"pointer-events-none opacity-60"),onDrop:S,onDragOver:F,onDragLeave:U,children:_.isUploading?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"animate-spin",children:(0,a.jsx)(l.A,{className:"h-16 w-16 text-primary"})}),(0,a.jsx)("div",{className:"absolute inset-0 animate-pulse",children:(0,a.jsx)("div",{className:"w-16 h-16 rounded-full border-2 border-primary/20"})})]})}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("p",{className:"text-xl font-semibold text-primary",children:"\uD83C\uDFAF AI Magic in Progress"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:_.progress<40?"Parsing your data...":_.progress<70?"Detecting data types and quality...":_.progress<90?"Running statistical analysis...":"Preparing results..."})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(g.k,{value:_.progress,className:"w-full max-w-sm mx-auto h-2"}),(0,a.jsxs)("p",{className:"text-xs text-center text-muted-foreground",children:[_.progress,"% complete • Usually done in 3 seconds"]})]})]})]}):100===_.progress&&_.uploadedDataset?(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(c.A,{className:"h-20 w-20 text-green-500 animate-pulse"}),(0,a.jsx)("div",{className:"absolute -top-2 -right-2",children:(0,a.jsx)("div",{className:"text-2xl animate-bounce",children:"✨"})})]})}),(0,a.jsxs)("div",{className:"text-center space-y-2",children:[(0,a.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"\uD83C\uDF89 Magic Complete!"}),(0,a.jsxs)("p",{className:"text-lg font-medium",children:['Dataset "',_.uploadedDataset.name,'" analyzed successfully']}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Ready for statistical analysis • Processing took just a few seconds"})]}),_.showSmartAnalysis&&_.smartAnalysis&&(0,a.jsx)("div",{className:"max-h-96 overflow-y-auto"}),(0,a.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 justify-center",children:[(0,a.jsxs)(x.$,{onClick:()=>{var e;window.location.href="/statistics?dataset=".concat(null==(e=_.uploadedDataset)?void 0:e.id)},className:"flex items-center gap-2",children:[(0,a.jsx)(l.A,{className:"h-4 w-4"}),_.showSmartAnalysis?"Manual Analysis":"Start Statistical Analysis"]}),(0,a.jsxs)(x.$,{variant:"outline",onClick:()=>{var e;window.location.href="/data?view=".concat(null==(e=_.uploadedDataset)?void 0:e.id)},className:"flex items-center gap-2",children:[(0,a.jsx)(o.A,{className:"h-4 w-4"}),"View Data"]}),(0,a.jsxs)(x.$,{variant:"ghost",onClick:()=>{E({isDragOver:!1,isUploading:!1,progress:0})},className:"flex items-center gap-2",children:[(0,a.jsx)(d.A,{className:"h-4 w-4"}),"Upload Another"]})]})]}):(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsx)("div",{className:(0,j.cn)("transition-all duration-300",_.isDragOver?"scale-110 text-primary":"text-muted-foreground hover:text-foreground"),children:(0,a.jsx)(d.A,{className:"h-16 w-16"})})}),(0,a.jsxs)("div",{className:"space-y-3",children:[(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("p",{className:(0,j.cn)("text-xl font-semibold transition-colors",_.isDragOver?"text-primary":"text-foreground"),children:_.isDragOver?"Release to start magic analysis!":"Drop your data here"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"AI will automatically analyze your data in 3 seconds"})]}),(0,a.jsxs)("div",{className:"flex flex-wrap gap-2 justify-center",children:[(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:"CSV"}),(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:"Excel"}),(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:"TSV"}),(0,a.jsx)(p.E,{variant:"outline",className:"text-xs",children:"Max 50MB"})]})]}),(0,a.jsx)("div",{className:"flex items-center justify-center",children:(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,a.jsx)("div",{className:"h-px w-12 bg-border"}),(0,a.jsx)("span",{children:"or"}),(0,a.jsx)("div",{className:"h-px w-12 bg-border"})]})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(x.$,{variant:"outline",className:"cursor-pointer",onClick:()=>{var e;return null==(e=z.current)?void 0:e.click()},disabled:_.isUploading,"aria-label":"Browse files",children:[(0,a.jsx)(u.A,{className:"h-4 w-4 mr-2"}),"Browse Files"]}),(0,a.jsx)("input",{id:"file-upload",type:"file",className:"hidden",accept:".csv,.tsv,.txt,.xls,.xlsx",onChange:R,disabled:_.isUploading,ref:z})]})]})}),(0,a.jsxs)("div",{className:"mt-4 space-y-3",children:[(0,a.jsxs)("div",{className:"text-xs text-muted-foreground space-y-1",children:[(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"지원 형식:"})," CSV, TSV, Excel (.xls, .xlsx)"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"최대 파일 크기:"})," 50MB"]}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"요구사항:"})," 첫 번째 행에 열 이름 포함"]})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(v.lG,{children:[(0,a.jsx)(v.zM,{asChild:!0,children:(0,a.jsxs)(x.$,{variant:"outline",size:"sm",children:[(0,a.jsx)(m.A,{className:"h-4 w-4 mr-2"}),"데이터 형식 가이드"]})}),(0,a.jsxs)(v.Cf,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[(0,a.jsxs)(v.c7,{children:[(0,a.jsx)(v.L3,{children:"데이터 형식 가이드"}),(0,a.jsx)(v.rr,{children:"올바른 데이터 업로드를 위한 상세 가이드"})]}),(0,a.jsx)(T,{})]})]})})]})]})})})}function S(e){let{onUploadComplete:s,className:t}=e,{addDataset:n}=(0,k.C)(),[i,l]=(0,r.useState)(!1),c=(0,r.useCallback)(async e=>{let t=e.target.files;if(!t||0===t.length)return;let a=t[0],r=A(a);if(!r.isValid)return void D.oR.error(r.error);try{l(!0);let e=await b(a),t=w(e.headers,e.rows),r=C(a.name.replace(/\.[^/.]+$/,""),a,e,t),i=n(r);t.errors.length>0?D.oR.error("Upload failed: ".concat(t.errors[0])):(D.oR.success("✅ Dataset uploaded successfully! Ready for analysis."),null==s||s(i.id))}catch(s){let e=s instanceof Error?s.message:"Upload failed";D.oR.error(e)}finally{l(!1),e.target.value=""}},[n,s]);return(0,a.jsxs)("div",{className:t,children:[(0,a.jsx)("label",{htmlFor:"inline-file-upload",children:(0,a.jsx)(x.$,{variant:"outline",className:"cursor-pointer",disabled:i,asChild:!0,children:(0,a.jsx)("span",{children:i?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin w-4 h-4 mr-2",children:(0,a.jsx)(d.A,{className:"h-4 w-4"})}),"Uploading..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Upload Dataset"]})})})}),(0,a.jsx)("input",{id:"inline-file-upload",type:"file",className:"hidden",accept:".csv,.tsv,.txt,.xls,.xlsx",onChange:c,disabled:i})]})}},83209:(e,s,t)=>{t.d(s,{BT:()=>c,Wu:()=>o,ZB:()=>l,Zp:()=>n,aR:()=>i});var a=t(95155);t(12115);var r=t(25016);function n(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,r.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,r.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,r.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,r.cn)("text-muted-foreground text-sm",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,r.cn)("px-6",s),...t})}},90923:(e,s,t)=>{t.d(s,{Xi:()=>c,av:()=>o,j7:()=>l,tU:()=>i});var a=t(95155);t(12115);var r=t(25667),n=t(25016);function i(e){let{className:s,...t}=e;return(0,a.jsx)(r.bL,{"data-slot":"tabs",className:(0,n.cn)("flex flex-col gap-2",s),...t})}function l(e){let{className:s,...t}=e;return(0,a.jsx)(r.B8,{"data-slot":"tabs-list",className:(0,n.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function c(e){let{className:s,...t}=e;return(0,a.jsx)(r.l9,{"data-slot":"tabs-trigger",className:(0,n.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function o(e){let{className:s,...t}=e;return(0,a.jsx)(r.UC,{"data-slot":"tabs-content",className:(0,n.cn)("flex-1 outline-none",s),...t})}},97003:(e,s,t)=>{t.d(s,{$:()=>c,r:()=>l});var a=t(95155);t(12115);var r=t(32467),n=t(83101),i=t(25016);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:n,asChild:c=!1,...o}=e,d=c?r.DX:"button";return(0,a.jsx)(d,{"data-slot":"button",className:(0,i.cn)(l({variant:t,size:n,className:s})),...o})}}}]);