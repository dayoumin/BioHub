# ğŸ¯ Grok ìŠ¤íƒ€ì¼ ì‚¬ì´ë“œë°” ì¬ì„¤ê³„ - ì „ì²´ êµ¬í˜„ ê³„íš

**ì‘ì„±ì¼**: 2025-11-02
**ì˜ˆìƒ ì‘ì—…ëŸ‰**: ~9.5ì‹œê°„
**ìš°ì„ ìˆœìœ„**: High (UI/UX ê°œì„ )

---

## ğŸ“Œ ëª©í‘œ

í˜„ì¬ ì±—ë´‡ ì‚¬ì´ë“œë°”ë¥¼ **Grok ìŠ¤íƒ€ì¼**ë¡œ ì¬ì„¤ê³„í•˜ì—¬:
- ğŸ“ **í”„ë¡œì íŠ¸ ê¸°ë°˜** ëŒ€í™” ì¡°ì§í™” (ì£¼ì œë³„ í´ë”)
- â­ **ì¦ê²¨ì°¾ê¸°** ì„¹ì…˜ (ì¤‘ìš”í•œ ëŒ€í™” ìƒë‹¨ ê³ ì •)
- ğŸ” **ê²€ìƒ‰ ê¸°ëŠ¥** (ì„¸ì…˜ & í”„ë¡œì íŠ¸ í†µí•© ê²€ìƒ‰)
- ğŸ’¬ **ëŒ€í™”ëª©ë¡** (í”„ë¡œì íŠ¸ ë¯¸ì† íˆìŠ¤í† ë¦¬)

---

## ğŸ“Š êµ¬ì¡° ì„¤ê³„

### ìµœì¢… UI ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header                          â”‚
â”‚ + ìƒˆ ëŒ€í™” | âš™ï¸ ì„¤ì •            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Search                          â”‚
â”‚ ğŸ” [    ê²€ìƒ‰ ì…ë ¥ì°½    ]        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Favorites                       â”‚
â”‚ â­ ì¦ê²¨ì°¾ê¸° (Nê°œ)              â”‚
â”‚  â”œâ”€ ğŸ“ ì¤‘ìš”í•œ ëŒ€í™” 1           â”‚
â”‚  â””â”€ ğŸ“ ì¤‘ìš”í•œ ëŒ€í™” 2           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Projects                        â”‚
â”‚ ğŸ“ í”„ë¡œì íŠ¸ (Mê°œ)              â”‚
â”‚  â”œâ”€ â–¼ t-test í•™ìŠµ              â”‚
â”‚  â”‚  â”œâ”€ ğŸ“ ëŒ€í™” 1               â”‚
â”‚  â”‚  â”œâ”€ ğŸ“ ëŒ€í™” 2               â”‚
â”‚  â”‚  â””â”€ ğŸ“ ëŒ€í™” 3               â”‚
â”‚  â”œâ”€ â–¼ ANOVA ë¶„ì„               â”‚
â”‚  â”‚  â”œâ”€ ğŸ“ ëŒ€í™” 4               â”‚
â”‚  â”‚  â””â”€ ğŸ“ ëŒ€í™” 5               â”‚
â”‚  â””â”€ â–¼ íšŒê·€ë¶„ì„                 â”‚
â”‚     â””â”€ ğŸ“ ëŒ€í™” 6               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ History                         â”‚
â”‚ ğŸ’¬ ëŒ€í™”ëª©ë¡ (í”„ë¡œì íŠ¸ ë¯¸ì†)    â”‚
â”‚  â”œâ”€ ğŸ“ ëŒ€í™” 7 (5ì¼ ì „)         â”‚
â”‚  â”œâ”€ ğŸ“ ëŒ€í™” 8 (1ì£¼ ì „)         â”‚
â”‚  â””â”€ ğŸ“ ëŒ€í™” 9 (2ì£¼ ì „)         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Footer                          â”‚
â”‚ ğŸ“¦ ë³´ê´€í•¨ (3ê°œ) [collapse]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—‚ï¸ ë°ì´í„° ëª¨ë¸ ì„¤ê³„

### 1. ChatProject íƒ€ì… (ì‹ ê·œ)

```typescript
// lib/types/chat.ts

export interface ChatProject {
  id: string                    // UUID
  name: string                  // "t-test í•™ìŠµ"
  description?: string          // ì„ íƒ: í”„ë¡œì íŠ¸ ì„¤ëª…
  emoji?: string                // ì„ íƒ: "ğŸ“š" ë“± ì‹œê°í™”ìš©
  color?: string                // ì„ íƒ: "#FF5733" ë“±
  createdAt: number             // ìƒì„± timestamp
  updatedAt: number             // ìˆ˜ì • timestamp
  isArchived: boolean           // ë³´ê´€ ì—¬ë¶€
  isFavorite?: boolean          // í”„ë¡œì íŠ¸ ì¦ê²¨ì°¾ê¸° (ì„ íƒ)
}
```

### 2. ChatSession íƒ€ì… (í™•ì¥)

```typescript
// lib/types/chat.ts - ê¸°ì¡´ ì¸í„°í˜ì´ìŠ¤ ìˆ˜ì •

export interface ChatSession {
  id: string
  title: string
  messages: ChatMessage[]
  projectId?: string            // ğŸ†• í”„ë¡œì íŠ¸ ì°¸ì¡° (ì„ íƒ)
  createdAt: number
  updatedAt: number
  isFavorite: boolean           // ì¦ê²¨ì°¾ê¸°
  isArchived: boolean
}
```

### 3. localStorage ì €ì¥ì†Œ êµ¬ì¡°

```javascript
// Key: 'chatbot_projects'
// Value: ChatProject[]
[
  {
    id: "proj-001",
    name: "t-test í•™ìŠµ",
    emoji: "ğŸ“š",
    createdAt: 1735689600,
    updatedAt: 1735689600,
    isArchived: false
  },
  ...
]

// Key: 'chatbot_sessions'
// Value: ChatSession[]
[
  {
    id: "sess-001",
    title: "t-test ê¸°ì´ˆ",
    projectId: "proj-001",      // ğŸ†•
    isFavorite: true,
    isArchived: false,
    ...
  },
  ...
]

// ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ í‘œì‹œ
// Key: 'chatbot_migrated_v2'
// Value: "true"
```

---

## ğŸ“‹ Phaseë³„ êµ¬í˜„ ê³„íš

### Phase 1: ë°ì´í„° ëª¨ë¸ (30ë¶„)

#### Step 1.1: íƒ€ì… ì •ì˜ ì¶”ê°€
**íŒŒì¼**: [lib/types/chat.ts](../lib/types/chat.ts)

- [x] `ChatProject` ì¸í„°í˜ì´ìŠ¤ ì •ì˜
- [x] `ChatSession`ì— `projectId` í•„ë“œ ì¶”ê°€
- [x] íƒ€ì… export

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```typescript
âœ… ChatProject ê¸°ë³¸ í•„ë“œ (id, name, createdAt, etc)
âœ… ì„ íƒ í•„ë“œ (description, emoji, color, isFavorite)
âœ… ChatSessionì— projectId?: string ì¶”ê°€
âœ… TypeScript ì»´íŒŒì¼ ì—ëŸ¬ 0
```

---

### Phase 2: ë°±ì—”ë“œ - ChatStorage í™•ì¥ (2ì‹œê°„)

**íŒŒì¼**: [lib/services/chat-storage.ts](../lib/services/chat-storage.ts)

#### Step 2.1: í”„ë¡œì íŠ¸ CRUD (30ë¶„)

```typescript
// âœ… í”„ë¡œì íŠ¸ ìƒì„±
static createProject(
  name: string,
  options?: { description?: string; emoji?: string; color?: string }
): ChatProject

// âœ… ëª¨ë“  í”„ë¡œì íŠ¸ ì¡°íšŒ (ë³´ê´€ëœ ê²ƒ ì œì™¸)
static getProjects(): ChatProject[]

// âœ… í”„ë¡œì íŠ¸ ìˆ˜ì •
static updateProject(
  projectId: string,
  updates: Partial<Omit<ChatProject, 'id' | 'createdAt'>>
): ChatProject | null

// âœ… í”„ë¡œì íŠ¸ ì‚­ì œ
// ì£¼ì˜: í•´ë‹¹ í”„ë¡œì íŠ¸ ë‚´ ì„¸ì…˜ë“¤ì€ projectId ì œê±° (rootë¡œ ì´ë™)
static deleteProject(projectId: string): void

// âœ… í”„ë¡œì íŠ¸ ë³´ê´€/ë³µêµ¬
static toggleProjectArchive(projectId: string): void
```

#### Step 2.2: ì„¸ì…˜ ê´€ë¦¬ í™•ì¥ (30ë¶„)

```typescript
// âœ… ì„¸ì…˜ì„ í”„ë¡œì íŠ¸ë¡œ ì´ë™
static moveSessionToProject(
  sessionId: string,
  projectId: string | null  // null = root (í”„ë¡œì íŠ¸ ì—†ìŒ)
): ChatSession | null

// âœ… íŠ¹ì • í”„ë¡œì íŠ¸ì˜ ì„¸ì…˜ ì¡°íšŒ
static getSessionsByProject(projectId: string): ChatSession[]

// âœ… í”„ë¡œì íŠ¸ ë¯¸ì† ì„¸ì…˜ ì¡°íšŒ (root)
static getUnorganizedSessions(): ChatSession[]

// âœ… ìµœê·¼ ëŒ€í™”ìˆœ ì •ë ¬
static getSessionsByProject(projectId: string, sortBy: 'recent' | 'oldest' = 'recent'): ChatSession[]
```

#### Step 2.3: ê²€ìƒ‰ ê¸°ëŠ¥ (30ë¶„)

```typescript
// âœ… ì„¸ì…˜ ê²€ìƒ‰
static searchSessions(
  query: string,
  options?: { projectId?: string; limit?: number }
): ChatSession[]

// âœ… í”„ë¡œì íŠ¸ ê²€ìƒ‰
static searchProjects(query: string): ChatProject[]

// âœ… í†µí•© ê²€ìƒ‰
static globalSearch(query: string): {
  projects: ChatProject[]
  sessions: ChatSession[]
}

// êµ¬í˜„ ì„¸ë¶€:
// - ì œëª©/ì„¤ëª…ì—ì„œ ë¶€ë¶„ ë§¤ì¹­ (case-insensitive)
// - ê²°ê³¼ëŠ” ìµœì‹ ìˆœ ì •ë ¬
```

#### Step 2.4: ì¦ê²¨ì°¾ê¸° ê¸°ëŠ¥ (20ë¶„)

```typescript
// âœ… ì„¸ì…˜ ì¦ê²¨ì°¾ê¸° í† ê¸€
static toggleFavorite(sessionId: string): void

// âœ… ì¦ê²¨ì°¾ê¸° ì„¸ì…˜ ì¡°íšŒ
static getFavoriteSessions(): ChatSession[]

// âœ… í”„ë¡œì íŠ¸ ì¦ê²¨ì°¾ê¸° í† ê¸€
static toggleProjectFavorite(projectId: string): void

// âœ… ì¦ê²¨ì°¾ê¸° í”„ë¡œì íŠ¸ ì¡°íšŒ
static getFavoriteProjects(): ChatProject[]
```

#### Step 2.5: ë§ˆì´ê·¸ë ˆì´ì…˜ (10ë¶„)

```typescript
// âœ… ê¸°ì¡´ ë°ì´í„° â†’ ìƒˆ êµ¬ì¡°ë¡œ ë³€í™˜
// - ê¸°ì¡´ ì„¸ì…˜ë“¤ì— projectId ì„¤ì • ì•ˆ í•¨ (undefined)
// - ë§ˆì´ê·¸ë ˆì´ì…˜ í”Œë˜ê·¸ ì €ì¥: 'chatbot_migrated_v2'
static migrateToNewStructure(): void {
  // 1. ë§ˆì´ê·¸ë ˆì´ì…˜ ì™„ë£Œ ì—¬ë¶€ í™•ì¸
  const isMigrated = localStorage.getItem('chatbot_migrated_v2') === 'true'
  if (isMigrated) return

  // 2. ê¸°ì¡´ ì„¸ì…˜ ë¡œë“œ
  const sessions = this.loadSessions()

  // 3. projectId ì´ˆê¸°í™” (ì´ë¯¸ undefinedì´ë©´ ê·¸ëŒ€ë¡œ)
  sessions.forEach(session => {
    if (!('projectId' in session)) {
      session.projectId = undefined
    }
  })

  // 4. ì €ì¥
  localStorage.setItem('chatbot_sessions', JSON.stringify(sessions))
  localStorage.setItem('chatbot_migrated_v2', 'true')
}
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
âœ… í”„ë¡œì íŠ¸ CRUD ë©”ì„œë“œ (4ê°œ)
âœ… ì„¸ì…˜ ê´€ë¦¬ ë©”ì„œë“œ (3ê°œ)
âœ… ê²€ìƒ‰ ë©”ì„œë“œ (3ê°œ)
âœ… ì¦ê²¨ì°¾ê¸° ë©”ì„œë“œ (4ê°œ)
âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
âœ… íƒ€ì… ì•ˆì „ì„± (unknown â†’ íƒ€ì… ê°€ë“œ)
âœ… ì—ëŸ¬ ì²˜ë¦¬ (null ì²´í¬)
âœ… ë‹¨ìœ„ í…ŒìŠ¤íŠ¸
```

---

### Phase 3: í”„ë¡ íŠ¸ì—”ë“œ - UI êµ¬í˜„ (3ì‹œê°„)

**íŒŒì¼**: [app/chatbot/page.tsx](../app/chatbot/page.tsx)

#### Step 3.1: ìƒíƒœ ê´€ë¦¬ ì¶”ê°€ (30ë¶„)

```typescript
// ê¸°ì¡´ state
const [sessions, setSessions] = useState<ChatSession[]>([])
const [currentSessionId, setCurrentSessionId] = useState<string | null>(null)

// ğŸ†• ì¶”ê°€ state
const [projects, setProjects] = useState<ChatProject[]>([])
const [expandedProjects, setExpandedProjects] = useState<Set<string>>(new Set())
const [searchQuery, setSearchQuery] = useState('')
const [favorites, setFavorites] = useState<ChatSession[]>([])
```

#### Step 3.2: ì‚¬ì´ë“œë°” ì„¹ì…˜ ì»´í¬ë„ŒíŠ¸í™” (1ì‹œê°„)

ìƒˆ ì»´í¬ë„ŒíŠ¸ ìƒì„±:
- `components/chatbot/SidebarSearch.tsx` - ê²€ìƒ‰ ì…ë ¥
- `components/chatbot/FavoritesSection.tsx` - ì¦ê²¨ì°¾ê¸°
- `components/chatbot/ProjectsSection.tsx` - í”„ë¡œì íŠ¸ í´ë”
- `components/chatbot/HistorySection.tsx` - ëŒ€í™”ëª©ë¡
- `components/chatbot/SessionItem.tsx` - ì„¸ì…˜ ì•„ì´í…œ

**ê° ì»´í¬ë„ŒíŠ¸ ê¸°ëŠ¥**:

```tsx
// SidebarSearch.tsx
- ê²€ìƒ‰ ì…ë ¥ + ì‹¤ì‹œê°„ í•„í„°ë§
- ê²€ìƒ‰ ê²°ê³¼ í‘œì‹œ

// FavoritesSection.tsx
- ì¦ê²¨ì°¾ê¸°ëœ ì„¸ì…˜ë§Œ í‘œì‹œ
- ì„¸ì…˜ í´ë¦­ â†’ ì„ íƒ
- ìš°ì¸¡ ë©”ë‰´ â†’ ë³„ ì œê±°

// ProjectsSection.tsx
- í”„ë¡œì íŠ¸ ëª©ë¡
- í¼ì¹¨/ì ‘í˜ í† ê¸€
- í”„ë¡œì íŠ¸ ìš°í´ë¦­ â†’ ë©”ë‰´ (ìˆ˜ì •, ì‚­ì œ, ë³´ê´€)

// HistorySection.tsx
- í”„ë¡œì íŠ¸ ë¯¸ì† ì„¸ì…˜ (root)
- ìµœì‹ ìˆœ ì •ë ¬
- ë‚ ì§œë³„ ê·¸ë£¹í™” (ì„ íƒì‚¬í•­)

// SessionItem.tsx
- ì„¸ì…˜ ì œëª© + ì•„ë°”íƒ€
- Hoverì‹œ ìš°ì¸¡ ë©”ë‰´ (ë³„, ì´ë™, ì‚­ì œ)
- í´ë¦­ â†’ ì„ íƒ
```

#### Step 3.3: ë ˆì´ì•„ì›ƒ ì¬êµ¬ì„± (1ì‹œê°„)

```tsx
// ì‚¬ì´ë“œë°” êµ¬ì¡° ì¬êµ¬ì„±
<aside className="w-64 border-r flex flex-col">
  {/* Header */}
  <SidebarHeader />

  {/* Search */}
  <SidebarSearch
    value={searchQuery}
    onChange={setSearchQuery}
  />

  {/* ScrollArea */}
  <ScrollArea className="flex-1">
    {searchQuery ? (
      <SearchResults query={searchQuery} />
    ) : (
      <>
        <FavoritesSection
          favorites={favorites}
          onSelectSession={handleSelectSession}
        />
        <ProjectsSection
          projects={projects}
          expandedProjects={expandedProjects}
          onToggleProject={handleToggleProject}
          onSelectSession={handleSelectSession}
          onProjectAction={handleProjectAction}
        />
        <HistorySection
          sessions={unorganizedSessions}
          onSelectSession={handleSelectSession}
        />
      </>
    )}
  </ScrollArea>

  {/* Footer */}
  <SidebarFooter archivedCount={archivedSessions.length} />
</aside>
```

#### Step 3.4: ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ (30ë¶„)

```typescript
// ì„¸ì…˜ ì„ íƒ
const handleSelectSession = useCallback((sessionId: string) => {
  setCurrentSessionId(sessionId)
  // RAG Chat Interface ë¡œë“œ
}, [])

// í”„ë¡œì íŠ¸ í¼ì¹¨/ì ‘í˜
const handleToggleProject = useCallback((projectId: string) => {
  setExpandedProjects(prev => {
    const next = new Set(prev)
    if (next.has(projectId)) next.delete(projectId)
    else next.add(projectId)
    return next
  })
}, [])

// ì„¸ì…˜ ì´ë™
const handleMoveSession = useCallback((sessionId: string, projectId: string | null) => {
  ChatStorage.moveSessionToProject(sessionId, projectId)
  setSessions(ChatStorage.loadSessions())
}, [])

// ì¦ê²¨ì°¾ê¸° í† ê¸€
const handleToggleFavorite = useCallback((sessionId: string) => {
  ChatStorage.toggleFavorite(sessionId)
  setFavorites(ChatStorage.getFavoriteSessions())
}, [])
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
âœ… 5ê°œ ì„œë¸Œì»´í¬ë„ŒíŠ¸ ìƒì„±
âœ… ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ ì¬êµ¬ì„±
âœ… ê²€ìƒ‰ í•„í„°ë§ ë¡œì§
âœ… ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ êµ¬í˜„
âœ… ë°˜ì‘í˜• ë””ìì¸
âœ… ì ‘ê·¼ì„± (a11y)
```

---

### Phase 4: ëª¨ë‹¬/ë‹¤ì´ì–¼ë¡œê·¸ (1.5ì‹œê°„)

#### Step 4.1: í”„ë¡œì íŠ¸ ìƒì„±/ìˆ˜ì • ëª¨ë‹¬ (30ë¶„)

**íŒŒì¼**: `components/chatbot/ProjectDialog.tsx`

```tsx
<Dialog open={isOpen} onOpenChange={setIsOpen}>
  <DialogContent>
    <DialogTitle>
      {isEditing ? 'í”„ë¡œì íŠ¸ ìˆ˜ì •' : 'ìƒˆ í”„ë¡œì íŠ¸ ìƒì„±'}
    </DialogTitle>
    <DialogBody>
      <div className="space-y-4">
        {/* ì´ë¦„ ì…ë ¥ */}
        <div>
          <Label>í”„ë¡œì íŠ¸ ì´ë¦„</Label>
          <Input
            value={projectName}
            onChange={e => setProjectName(e.target.value)}
            placeholder="ì˜ˆ: t-test í•™ìŠµ"
          />
        </div>

        {/* ì„¤ëª… ì…ë ¥ */}
        <div>
          <Label>ì„¤ëª… (ì„ íƒì‚¬í•­)</Label>
          <Textarea
            value={projectDescription}
            onChange={e => setProjectDescription(e.target.value)}
            placeholder="ì´ í”„ë¡œì íŠ¸ì— ëŒ€í•œ ì„¤ëª…"
          />
        </div>

        {/* ì´ëª¨ì§€ ì„ íƒ */}
        <div>
          <Label>ì´ëª¨ì§€ (ì„ íƒì‚¬í•­)</Label>
          <EmojiPicker
            value={projectEmoji}
            onChange={setProjectEmoji}
          />
        </div>

        {/* ìƒ‰ìƒ ì„ íƒ */}
        <div>
          <Label>ìƒ‰ìƒ (ì„ íƒì‚¬í•­)</Label>
          <ColorPicker
            value={projectColor}
            onChange={setProjectColor}
          />
        </div>
      </div>
    </DialogBody>
    <DialogFooter>
      <Button variant="outline" onClick={() => setIsOpen(false)}>ì·¨ì†Œ</Button>
      <Button onClick={handleSave}>
        {isEditing ? 'ìˆ˜ì •' : 'ìƒì„±'}
      </Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

#### Step 4.2: ì„¸ì…˜ ì´ë™ ëª¨ë‹¬ (30ë¶„)

**íŒŒì¼**: `components/chatbot/MoveSessionDialog.tsx`

```tsx
<Dialog open={isOpen} onOpenChange={setIsOpen}>
  <DialogContent>
    <DialogTitle>"{sessionTitle}"ì„(ë¥¼) ì´ë™</DialogTitle>
    <DialogBody>
      <div className="space-y-2">
        {/* Root */}
        <div
          className={cn(
            'p-3 rounded cursor-pointer hover:bg-muted',
            selectedProjectId === null && 'bg-primary/10'
          )}
          onClick={() => setSelectedProjectId(null)}
        >
          â˜ í”„ë¡œì íŠ¸ ì—†ìŒ (Root)
        </div>

        {/* Projects */}
        {projects.map(project => (
          <div
            key={project.id}
            className={cn(
              'p-3 rounded cursor-pointer hover:bg-muted',
              selectedProjectId === project.id && 'bg-primary/10'
            )}
            onClick={() => setSelectedProjectId(project.id)}
          >
            {project.emoji} {project.name}
          </div>
        ))}
      </div>
    </DialogBody>
    <DialogFooter>
      <Button variant="outline" onClick={() => setIsOpen(false)}>ì·¨ì†Œ</Button>
      <Button onClick={handleMove}>ì´ë™</Button>
    </DialogFooter>
  </DialogContent>
</Dialog>
```

#### Step 4.3: ì‚­ì œ í™•ì¸ ëª¨ë‹¬ (30ë¶„)

```tsx
<AlertDialog open={isOpen} onOpenChange={setIsOpen}>
  <AlertDialogContent>
    <AlertDialogTitle>ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</AlertDialogTitle>
    <AlertDialogDescription>
      "{itemName}"ì„(ë¥¼) ì‚­ì œí•˜ë©´ ë³µêµ¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
      {itemType === 'project' && ' í•˜ìœ„ ì„¸ì…˜ë“¤ì€ í”„ë¡œì íŠ¸ ì—†ìŒìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤.'}
    </AlertDialogDescription>
    <AlertDialogFooter>
      <AlertDialogCancel>ì·¨ì†Œ</AlertDialogCancel>
      <AlertDialogAction className="bg-destructive" onClick={handleDelete}>
        ì‚­ì œ
      </AlertDialogAction>
    </AlertDialogFooter>
  </AlertDialogContent>
</AlertDialog>
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
âœ… í”„ë¡œì íŠ¸ ëª¨ë‹¬ êµ¬í˜„
âœ… ì´ë™ ëª¨ë‹¬ êµ¬í˜„
âœ… ì‚­ì œ í™•ì¸ ëª¨ë‹¬ êµ¬í˜„
âœ… Form ê²€ì¦ (ì´ë¦„ í•„ìˆ˜)
âœ… ì´ëª¨ì§€/ìƒ‰ìƒ ì„ íƒê¸° (shadcn ë¼ì´ë¸ŒëŸ¬ë¦¬ í™œìš©)
```

---

### Phase 5: ìƒíƒœ ê´€ë¦¬ & ì„±ëŠ¥ (1ì‹œê°„)

#### Step 5.1: ìƒíƒœ êµ¬ì¡°í™”

```typescript
interface SidebarState {
  // ë°ì´í„°
  projects: ChatProject[]
  sessions: ChatSession[]
  favorites: ChatSession[]

  // UI ìƒíƒœ
  expandedProjects: Set<string>
  searchQuery: string
  filterMode: 'all' | 'favorites'

  // ëª¨ë‹¬ ìƒíƒœ
  projectDialogOpen: boolean
  moveDialogOpen: boolean
  deleteDialogOpen: boolean
}
```

#### Step 5.2: ë‚™ê´€ì  ì—…ë°ì´íŠ¸

```typescript
// í”„ë¡œì íŠ¸ ìƒì„±
const handleCreateProject = async (name: string) => {
  // 1. ì¦‰ì‹œ UI ì—…ë°ì´íŠ¸ (ë‚™ê´€ì )
  const newProject = ChatStorage.createProject(name)
  setProjects(prev => [newProject, ...prev])

  // 2. localStorage ì €ì¥ (ë™ê¸°)
  // 3. ì‹¤íŒ¨ ì‹œ ë¡¤ë°± (ì—ëŸ¬ ì²˜ë¦¬)
}
```

#### Step 5.3: ìºì‹± ì „ëµ

```typescript
// useEffect: ì´ˆê¸° ë¡œë“œ ì‹œì—ë§Œ ì‹¤í–‰
useEffect(() => {
  const projects = ChatStorage.getProjects()
  const sessions = ChatStorage.loadSessions()
  const favorites = ChatStorage.getFavoriteSessions()

  setProjects(projects)
  setSessions(sessions)
  setFavorites(favorites)
}, []) // ì˜ì¡´ì„± ë°°ì—´ ë¹ˆ ìƒíƒœ
```

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
âœ… ìƒíƒœ êµ¬ì¡° ì •ì˜
âœ… ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (ì¦‰ì‹œ ë°˜ì˜)
âœ… ì—ëŸ¬ ì²˜ë¦¬ (ì‹¤íŒ¨ ì‹œ ë¡¤ë°±)
âœ… ì„±ëŠ¥ ìµœì í™” (useCallback)
âœ… ë©”ëª¨ë¦¬ ëˆ„ìˆ˜ ë°©ì§€ (cleanup)
```

---

### Phase 6: í†µí•© & í…ŒìŠ¤íŠ¸ (2ì‹œê°„)

#### Step 6.1: ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ (20ë¶„)

- ì•± ì²« ë¡œë“œ ì‹œ ë§ˆì´ê·¸ë ˆì´ì…˜ ìë™ ì‹¤í–‰
- ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„° ë³´ì¡´
- ë²„ì „ ì²´í¬ í›„ í•œ ë²ˆë§Œ ì‹¤í–‰

#### Step 6.2: ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (40ë¶„)

**íŒŒì¼**: `__tests__/services/chat-storage-projects.test.ts`

```typescript
describe('ChatStorage - Projects', () => {
  it('í”„ë¡œì íŠ¸ ìƒì„±', () => {
    const project = ChatStorage.createProject('Test Project')
    expect(project.name).toBe('Test Project')
    expect(project.id).toBeDefined()
  })

  it('í”„ë¡œì íŠ¸ ì¡°íšŒ', () => {
    ChatStorage.createProject('Project 1')
    ChatStorage.createProject('Project 2')
    const projects = ChatStorage.getProjects()
    expect(projects).toHaveLength(2)
  })

  it('ì„¸ì…˜ ì´ë™', () => {
    const project = ChatStorage.createProject('Test')
    const session = ChatStorage.createNewSession()
    ChatStorage.moveSessionToProject(session.id, project.id)
    const updated = ChatStorage.loadSession(session.id)
    expect(updated?.projectId).toBe(project.id)
  })

  it('ê²€ìƒ‰', () => {
    ChatStorage.createProject('Test-ABC')
    ChatStorage.createProject('Test-XYZ')
    const results = ChatStorage.searchProjects('ABC')
    expect(results).toHaveLength(1)
  })
})
```

#### Step 6.3: í†µí•© í…ŒìŠ¤íŠ¸ (60ë¶„)

**í…ŒìŠ¤íŠ¸ ì‹œë‚˜ë¦¬ì˜¤**:

1. **í”„ë¡œì íŠ¸ ìƒì„± & ì„¸ì…˜ ì´ë™**
   - ìƒˆ í”„ë¡œì íŠ¸ ìƒì„± â†’ UIì— ì¦‰ì‹œ í‘œì‹œ
   - ì„¸ì…˜ì„ í”„ë¡œì íŠ¸ë¡œ ì´ë™ â†’ í´ë” ì•ˆì— í‘œì‹œ

2. **ê²€ìƒ‰ í•„í„°ë§**
   - ê²€ìƒ‰ì–´ ì…ë ¥ â†’ ë§¤ì¹­ë˜ëŠ” ì„¸ì…˜/í”„ë¡œì íŠ¸ë§Œ í‘œì‹œ
   - ê²€ìƒ‰ì–´ ì œê±° â†’ ì „ì²´ êµ¬ì¡° ë³µì›

3. **ì¦ê²¨ì°¾ê¸°**
   - ì„¸ì…˜ ë³„ í´ë¦­ â†’ ì¦ê²¨ì°¾ê¸° ì¶”ê°€
   - ì¦ê²¨ì°¾ê¸° ì„¹ì…˜ì— í‘œì‹œ

4. **í”„ë¡œì íŠ¸ ê´€ë¦¬**
   - í”„ë¡œì íŠ¸ ì‚­ì œ â†’ í•˜ìœ„ ì„¸ì…˜ rootë¡œ ì´ë™
   - í”„ë¡œì íŠ¸ ë³´ê´€ â†’ ë³´ê´€í•¨ ì„¹ì…˜ í‘œì‹œ

5. **ë§ˆì´ê·¸ë ˆì´ì…˜**
   - ê¸°ì¡´ ë°ì´í„° ë¡œë“œ â†’ ìë™ ë§ˆì´ê·¸ë ˆì´ì…˜
   - ë°ì´í„° ë¬´ê²°ì„± í™•ì¸

**ì²´í¬ë¦¬ìŠ¤íŠ¸**:
```
âœ… í”„ë¡œì íŠ¸ CRUD í…ŒìŠ¤íŠ¸
âœ… ì„¸ì…˜ ì´ë™ í…ŒìŠ¤íŠ¸
âœ… ê²€ìƒ‰ ê¸°ëŠ¥ í…ŒìŠ¤íŠ¸
âœ… ì¦ê²¨ì°¾ê¸° í† ê¸€ í…ŒìŠ¤íŠ¸
âœ… UI ìƒí˜¸ì‘ìš© í…ŒìŠ¤íŠ¸ (í´ë¦­, í¼ì¹¨ ë“±)
âœ… ë§ˆì´ê·¸ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
âœ… ì—ëŸ¬ ì¼€ì´ìŠ¤ í…ŒìŠ¤íŠ¸
âœ… ëª¨ë“  í…ŒìŠ¤íŠ¸ í†µê³¼ (npm test)
```

---

## ğŸ“ˆ ì‘ì—…ëŸ‰ ì¶”ì •

| Phase | Step | ì˜ˆìƒ ì‹œê°„ | ìƒíƒœ |
|-------|------|----------|------|
| 1 | íƒ€ì… ì •ì˜ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 2 | CRUD | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 2 | ì„¸ì…˜ ê´€ë¦¬ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 2 | ê²€ìƒ‰ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 2 | ì¦ê²¨ì°¾ê¸° | 20ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 2 | ë§ˆì´ê·¸ë ˆì´ì…˜ | 10ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 3 | ìƒíƒœ ê´€ë¦¬ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 3 | ì»´í¬ë„ŒíŠ¸í™” | 1ì‹œê°„ | ğŸ“‹ ëŒ€ê¸° |
| 3 | ë ˆì´ì•„ì›ƒ | 1ì‹œê°„ | ğŸ“‹ ëŒ€ê¸° |
| 3 | ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 4 | í”„ë¡œì íŠ¸ ëª¨ë‹¬ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 4 | ì´ë™ ëª¨ë‹¬ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 4 | ì‚­ì œ ëª¨ë‹¬ | 30ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 5 | ìƒíƒœ êµ¬ì¡°í™” | 20ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 5 | ìµœì í™” | 40ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 6 | ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸ | 20ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 6 | ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ | 40ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| 6 | í†µí•© í…ŒìŠ¤íŠ¸ | 60ë¶„ | ğŸ“‹ ëŒ€ê¸° |
| **Total** | | **~9.5ì‹œê°„** | |

---

## ğŸ¯ ìš°ì„ ìˆœìœ„

### í•„ìˆ˜ (Phase 1-3)
- [ ] íƒ€ì… ì •ì˜ í™•ì¥
- [ ] ChatStorage í•µì‹¬ ë©”ì„œë“œ (CRUD, ì´ë™)
- [ ] ì‚¬ì´ë“œë°” ê¸°ë³¸ ë ˆì´ì•„ì›ƒ
- [ ] ê²€ìƒ‰ ê¸°ëŠ¥
- [ ] ìƒíƒœ ê´€ë¦¬

### ì¤‘ìš” (Phase 4-5)
- [ ] í”„ë¡œì íŠ¸/ì´ë™ ëª¨ë‹¬
- [ ] ì„±ëŠ¥ ìµœì í™”
- [ ] ì ‘ê·¼ì„± ê°œì„ 

### ì„ íƒ (Phase 6)
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ìŠ¤í¬ë¦½íŠ¸
- [ ] ë‹¨ìœ„/í†µí•© í…ŒìŠ¤íŠ¸
- [ ] ì»¨í…ìŠ¤íŠ¸ ë©”ë‰´ (ìš°í´ë¦­)

---

## ğŸ“ ì£¼ì˜ì‚¬í•­

### ë°ì´í„° ë¬´ê²°ì„±
- âœ… í”„ë¡œì íŠ¸ ì‚­ì œ ì‹œ í•˜ìœ„ ì„¸ì…˜ orphan ë°©ì§€ (projectId = undefined)
- âœ… ì„¸ì…˜ ì‚­ì œ ì‹œ favorites ë°°ì—´ì—ì„œë„ ì œê±°
- âœ… íƒ€ì… ì•ˆì „ì„± (unknown â†’ íƒ€ì… ê°€ë“œ)

### ì„±ëŠ¥
- âœ… ë¶ˆí•„ìš”í•œ ì¬ë Œë”ë§ ìµœì†Œí™” (useCallback)
- âœ… í° ë¦¬ìŠ¤íŠ¸ëŠ” ê°€ìƒí™” ê³ ë ¤ (1000+ ì„¸ì…˜)
- âœ… localStorage ì ‘ê·¼ ìµœì†Œí™” (ìºì‹±)

### UX
- âœ… ë‚™ê´€ì  ì—…ë°ì´íŠ¸ (ì¦‰ì‹œ ë°˜ì˜)
- âœ… ì˜¤ë¥˜ ì‹œ ë¡¤ë°± (ì‚¬ìš©ì í˜¼ë€ ë°©ì§€)
- âœ… ë¡œë”© ìƒíƒœ í‘œì‹œ
- âœ… í™•ì¸ ëª¨ë‹¬ë¡œ ì‹¤ìˆ˜ ë°©ì§€

### ë§ˆì´ê·¸ë ˆì´ì…˜
- âœ… ê¸°ì¡´ ì‚¬ìš©ì ë°ì´í„° ë³´ì¡´
- âœ… ë²„ì „ ì²´í¬ë¡œ ì¤‘ë³µ ì‹¤í–‰ ë°©ì§€
- âœ… ì½˜ì†” ë¡œê·¸ë¡œ ë””ë²„ê¹…

---

## ğŸ”— ê´€ë ¨ íŒŒì¼

**ìƒì„±í•  íŒŒì¼**:
- [x] `components/chatbot/SidebarSearch.tsx`
- [x] `components/chatbot/FavoritesSection.tsx`
- [x] `components/chatbot/ProjectsSection.tsx`
- [x] `components/chatbot/HistorySection.tsx`
- [x] `components/chatbot/SessionItem.tsx`
- [x] `components/chatbot/ProjectDialog.tsx`
- [x] `components/chatbot/MoveSessionDialog.tsx`
- [x] `__tests__/services/chat-storage-projects.test.ts`
- [x] `__tests__/chatbot/sidebar-integration.test.ts`

**ìˆ˜ì •í•  íŒŒì¼**:
- [x] `lib/types/chat.ts` - ChatProject + ChatSession í™•ì¥
- [x] `lib/services/chat-storage.ts` - ë©”ì„œë“œ ì¶”ê°€
- [x] `app/chatbot/page.tsx` - ì‚¬ì´ë“œë°” ì¬êµ¬ì„±

---

## âœ… ì™„ë£Œ ê¸°ì¤€

- [ ] ëª¨ë“  Phase 1-3 êµ¬í˜„ ì™„ë£Œ
- [ ] TypeScript ì»´íŒŒì¼ ì—ëŸ¬ 0
- [ ] ìˆ˜ë™ í…ŒìŠ¤íŠ¸ ì„±ê³µ (í”„ë¡œì íŠ¸ CRUD, ê²€ìƒ‰, ì¦ê²¨ì°¾ê¸°)
- [ ] UI ë°˜ì‘ ì„±ê³µ (í¼ì¹¨/ì ‘í˜, ì´ë™, ì‚­ì œ)
- [ ] ë§ˆì´ê·¸ë ˆì´ì…˜ ì •ìƒ ì‘ë™
- [ ] ê¸°ì¡´ ê¸°ëŠ¥ ì˜í–¥ ì—†ìŒ (RAG ì±„íŒ…)

---

## ğŸ“… ì¼ì •

**ê³„íš**: 2025-11-03 ~ 2025-11-05
**ì†Œìš” ì‹œê°„**: ì•½ 3ì¼ (í•˜ë£¨ 3-4ì‹œê°„)

---

**ì‘ì„±ì**: Claude
**ìµœì¢… ìˆ˜ì •**: 2025-11-02
