=== 복잡한 시나리오 테스트 (확장 JSON 형식) ===


======================================================================
시나리오 1: 가정 위반 + 모호한 목적
======================================================================
  ✅ 5700ms, 2756 tokens

  📋 추천: ancova (공분산분석 (로그 변환 후))
  🎯 확신도: 0.75
  📝 이유:
     1. 양식장과 성별이라는 두 범주형 변수의 효과를 동시에 분석
     2. 사료량이라는 공변량의 영향을 통제
     3. 체중 변수의 오른쪽 치우침을 개선하기 위해 로그 변환 적용
  🔧 변수 할당:
     dependent: 체중_g
     independent: 양식장, 성별
     covariate: 사료량_g
  ⚙️ 설정 제안:
     alpha: 0.05
     postHoc: tukey
     alternative: two-sided
     transform: log
  ⚠️ 경고:
     - 체중_g 변수의 정규성 가정이 미충족되어 로그 변환 적용 필요
     - 등분산성 가정도 미충족되어 결과 해석 시 주의 필요
     - 표본 크기가 작아(45행) 통계적 검정력이 낮을 수 있음
  🔄 전처리 제안:
     - 체중_g 변수에 로그 변환 적용
     - 결측치 처리(체중_g 2개, 사료량_g 1개)
     - 이상치 확인 및 처리 필요
  🔀 대안:
     - kruskal-wallis: 크루스칼-월리스 검정 (비모수적 방법으로 정규성 가정이 필요 없지만, 사료량을 통제하기 어려움)
     - multiple-regression: 다중 회귀분석 (비정규 데이터에 로버스트 회귀를 적용할 수 있으나, 범주형 변수 처리가 복잡해질 수 있음)

======================================================================
시나리오 2: 여러 분석이 동시에 필요한 케이스
======================================================================
  ✅ 8084ms, 3108 tokens

  📋 추천: multiple-regression (다중 회귀분석)
  🎯 확신도: 0.92
  📝 이유:
     1. 종속변수(매출액)가 연속형 수치 변수이며, 여러 독립변수의 동시 영향을 분석하기에 적합합니다.
     2. 수치형 변수(광고비, 직원수, 고객만족도, 재방문율, 경쟁사수)와 범주형 변수(지역, 업종)를 모두 포함하여 종합적 분석이 가능합니다.
     3. 표본 크기(200행)가 독립변수 수(약 13개 더미변수 포함) 대비 충분하여 안정적인 회귀계수 추정이 가능합니다.
  🔧 변수 할당:
     dependent: 매출액
     independent: 광고비, 직원수, 고객만족도, 재방문율, 경쟁사수, 지역, 업종
  ⚙️ 설정 제안:
     alpha: 0.05
     modelSelection: stepwise
     includeInteraction: true
     dummyCoding: reference_cell
  ⚠️ 경고:
     - 매출액의 표준편차(3100)가 평균(5200) 대비 커서 이분산 가능성이 있으므로 잔차 검정이 필요합니다.
     - 다중공선성 확인을 위해 VIF(분산팽창계수) 검사를 실시하세요.
     - 지역(5개 범주)과 업종(4개 범주)은 더미변수로 변환해야 합니다.
  🔄 전처리 제안:
     - 매출액(3개), 고객만족도(5개), 재방문율(2개)의 결측치를 평균 대체 또는 리스트와이즈 삭제로 처리하세요.
     - 범주형 변수(지역, 업종)를 원핫인코딩 또는 더미코딩으로 변환하세요.
     - 이상치 확인을 위해 매출액, 광고비의 박스플롯을 점검하고 필요시 로그 변환을 고려하세요.
     - 수치형 변수 간 스케일 차이가 크므로 표준화(standardization)를 고려하세요.
  🔀 대안:
     - two-way-anova: 이원배치 분산분석 (지역과 업종의 교호작용 효과만 집중 분석하려는 경우 대안이 될 수 있습니다.)
     - linear-regression: 단순 선형 회귀분석 (개별 변수와 매출의 관계를 단순히 파악하려는 경우 사용할 수 있습니다.)

======================================================================
시나리오 3: 시계열 + 비모수 경계
======================================================================
  ✅ 4719ms, 3308 tokens

  📋 추천: wilcoxon-signed-rank (윌콕슨 부호순위 검정)
  🎯 확신도: 0.85
  📝 이유:
     1. 정규성 가정이 위반되었으므로 비모수적 방법이 적합
     2. 대응표본 설계에 맞는 검정 방법
     3. 작은 표본 크기에서도 신뢰할 수 있는 결과 제공
  🔧 변수 할당:
     dependent: 실험후_점수
     independent: 실험전_점수
     factor: 처리군
  ⚙️ 설정 제안:
     alpha: 0.05
     alternative: two-sided
  ⚠️ 경고:
     - 정규성 가정이 위반되었으므로 결과 해석 시 주의 필요
     - 표본 크기가 작아 통계적 검정력이 낮을 수 있음
  🔄 전처리 제안:
     - 결측치 처리 필요 (실험후_점수 1개, 변화량 1개)
     - 이상치 확인 및 처리 고려
  🔀 대안:
     - paired-t-test: 대응표본 t-검정 (정규성 가정이 충족될 경우 사용 가능하지만 현재 데이터에서는 적합하지 않음)


======================================================================
요약
======================================================================
  ✅ 시나리오 1: 가정 위반 + 모호한 목적
     → ancova (0.75)
     변수할당: ✅ | 설정제안: ✅ | 경고: ✅
  ✅ 시나리오 2: 여러 분석이 동시에 필요한 케이스
     → multiple-regression (0.92)
     변수할당: ✅ | 설정제안: ✅ | 경고: ✅
  ✅ 시나리오 3: 시계열 + 비모수 경계
     → wilcoxon-signed-rank (0.85)
     변수할당: ✅ | 설정제안: ✅ | 경고: ✅
